(self.webpackChunkecom_ui_common=self.webpackChunkecom_ui_common||[]).push([[179],{597:(ar,sl,Ho)=>{"use strict";function Ht(e){return"function"==typeof e}function fi(e){const i=e(n=>{Error.call(n),n.stack=(new Error).stack});return i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,i}const lr=fi(e=>function(i){e(this),this.message=i?`${i.length} errors occurred during unsubscription:\n${i.map((n,s)=>`${s+1}) ${n.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=i});function _s(e,t){if(e){const i=e.indexOf(t);0<=i&&e.splice(i,1)}}class Ft{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:i}=this;if(i)if(this._parentage=null,Array.isArray(i))for(const a of i)a.remove(this);else i.remove(this);const{initialTeardown:n}=this;if(Ht(n))try{n()}catch(a){t=a instanceof lr?a.errors:[a]}const{_finalizers:s}=this;if(s){this._finalizers=null;for(const a of s)try{is(a)}catch(c){t=null!=t?t:[],c instanceof lr?t=[...t,...c.errors]:t.push(c)}}if(t)throw new lr(t)}}add(t){var i;if(t&&t!==this)if(this.closed)is(t);else{if(t instanceof Ft){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(i=this._finalizers)&&void 0!==i?i:[]).push(t)}}_hasParent(t){const{_parentage:i}=this;return i===t||Array.isArray(i)&&i.includes(t)}_addParent(t){const{_parentage:i}=this;this._parentage=Array.isArray(i)?(i.push(t),i):i?[i,t]:t}_removeParent(t){const{_parentage:i}=this;i===t?this._parentage=null:Array.isArray(i)&&_s(i,t)}remove(t){const{_finalizers:i}=this;i&&_s(i,t),t instanceof Ft&&t._removeParent(this)}}Ft.EMPTY=(()=>{const e=new Ft;return e.closed=!0,e})();const ts=Ft.EMPTY;function Bn(e){return e instanceof Ft||e&&"closed"in e&&Ht(e.remove)&&Ht(e.add)&&Ht(e.unsubscribe)}function is(e){Ht(e)?e():e.unsubscribe()}const Ge={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Cs={setTimeout(e,t,...i){const{delegate:n}=Cs;return(null==n?void 0:n.setTimeout)?n.setTimeout(e,t,...i):setTimeout(e,t,...i)},clearTimeout(e){const{delegate:t}=Cs;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function j(e){Cs.setTimeout(()=>{const{onUnhandledError:t}=Ge;if(!t)throw e;t(e)})}function cn(){}const hr=pt("C",void 0,void 0);function pt(e,t,i){return{kind:e,value:t,error:i}}let Cn=null;function ns(e){if(Ge.useDeprecatedSynchronousErrorHandling){const t=!Cn;if(t&&(Cn={errorThrown:!1,error:null}),e(),t){const{errorThrown:i,error:n}=Cn;if(Cn=null,i)throw n}}else e()}class rn extends Ft{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Bn(t)&&t.add(this)):this.destination=Ot}static create(t,i,n){return new Kt(t,i,n)}next(t){this.isStopped?Rn(function Ke(e){return pt("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?Rn(function Ws(e){return pt("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Rn(hr,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ws=Function.prototype.bind;function gi(e,t){return ws.call(e,t)}class Tt{constructor(t){this.partialObserver=t}next(t){const{partialObserver:i}=this;if(i.next)try{i.next(t)}catch(n){Pt(n)}}error(t){const{partialObserver:i}=this;if(i.error)try{i.error(t)}catch(n){Pt(n)}else Pt(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(i){Pt(i)}}}class Kt extends rn{constructor(t,i,n){let s;if(super(),Ht(t)||!t)s={next:null!=t?t:void 0,error:null!=i?i:void 0,complete:null!=n?n:void 0};else{let a;this&&Ge.useDeprecatedNextContext?(a=Object.create(t),a.unsubscribe=()=>this.unsubscribe(),s={next:t.next&&gi(t.next,a),error:t.error&&gi(t.error,a),complete:t.complete&&gi(t.complete,a)}):s=t}this.destination=new Tt(s)}}function Pt(e){Ge.useDeprecatedSynchronousErrorHandling?function Ct(e){Ge.useDeprecatedSynchronousErrorHandling&&Cn&&(Cn.errorThrown=!0,Cn.error=e)}(e):j(e)}function Rn(e,t){const{onStoppedNotification:i}=Ge;i&&Cs.setTimeout(()=>i(e,t))}const Ot={closed:!0,next:cn,error:function Li(e){throw e},complete:cn},wn="function"==typeof Symbol&&Symbol.observable||"@@observable";function Ze(e){return e}let Nt=(()=>{class e{constructor(i){i&&(this._subscribe=i)}lift(i){const n=new e;return n.source=this,n.operator=i,n}subscribe(i,n,s){const a=function Ms(e){return e&&e instanceof rn||function Tn(e){return e&&Ht(e.next)&&Ht(e.error)&&Ht(e.complete)}(e)&&Bn(e)}(i)?i:new Kt(i,n,s);return ns(()=>{const{operator:c,source:f}=this;a.add(c?c.call(a,f):f?this._subscribe(a):this._trySubscribe(a))}),a}_trySubscribe(i){try{return this._subscribe(i)}catch(n){i.error(n)}}forEach(i,n){return new(n=Mn(n))((s,a)=>{const c=new Kt({next:f=>{try{i(f)}catch(v){a(v),c.unsubscribe()}},error:a,complete:s});this.subscribe(c)})}_subscribe(i){var n;return null===(n=this.source)||void 0===n?void 0:n.subscribe(i)}[wn](){return this}pipe(...i){return function dn(e){return 0===e.length?Ze:1===e.length?e[0]:function(i){return e.reduce((n,s)=>s(n),i)}}(i)(this)}toPromise(i){return new(i=Mn(i))((n,s)=>{let a;this.subscribe(c=>a=c,c=>s(c),()=>n(a))})}}return e.create=t=>new e(t),e})();function Mn(e){var t;return null!==(t=null!=e?e:Ge.Promise)&&void 0!==t?t:Promise}const St=fi(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Y=(()=>{class e extends Nt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(i){const n=new Gi(this,this);return n.operator=i,n}_throwIfClosed(){if(this.closed)throw new St}next(i){ns(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const n of this.currentObservers)n.next(i)}})}error(i){ns(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=i;const{observers:n}=this;for(;n.length;)n.shift().error(i)}})}complete(){ns(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:i}=this;for(;i.length;)i.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var i;return(null===(i=this.observers)||void 0===i?void 0:i.length)>0}_trySubscribe(i){return this._throwIfClosed(),super._trySubscribe(i)}_subscribe(i){return this._throwIfClosed(),this._checkFinalizedStatuses(i),this._innerSubscribe(i)}_innerSubscribe(i){const{hasError:n,isStopped:s,observers:a}=this;return n||s?ts:(this.currentObservers=null,a.push(i),new Ft(()=>{this.currentObservers=null,_s(a,i)}))}_checkFinalizedStatuses(i){const{hasError:n,thrownError:s,isStopped:a}=this;n?i.error(s):a&&i.complete()}asObservable(){const i=new Nt;return i.source=this,i}}return e.create=(t,i)=>new Gi(t,i),e})();class Gi extends Y{constructor(t,i){super(),this.destination=t,this.source=i}next(t){var i,n;null===(n=null===(i=this.destination)||void 0===i?void 0:i.next)||void 0===n||n.call(i,t)}error(t){var i,n;null===(n=null===(i=this.destination)||void 0===i?void 0:i.error)||void 0===n||n.call(i,t)}complete(){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===i||i.call(t)}_subscribe(t){var i,n;return null!==(n=null===(i=this.source)||void 0===i?void 0:i.subscribe(t))&&void 0!==n?n:ts}}function Re(e){return Ht(null==e?void 0:e.lift)}function L(e){return t=>{if(Re(t))return t.lift(function(i){try{return e(i,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function Q(e,t,i,n,s){return new re(e,t,i,n,s)}class re extends rn{constructor(t,i,n,s,a,c){super(t),this.onFinalize=a,this.shouldUnsubscribe=c,this._next=i?function(f){try{i(f)}catch(v){t.error(v)}}:super._next,this._error=s?function(f){try{s(f)}catch(v){t.error(v)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(f){t.error(f)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:i}=this;super.unsubscribe(),!i&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function te(e,t){return L((i,n)=>{let s=0;i.subscribe(Q(n,a=>{n.next(e.call(t,a,s++))}))})}function Ki(e){return this instanceof Ki?(this.v=e,this):new Ki(e)}function ei(e,t,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s,n=i.apply(e,t||[]),a=[];return s={},c("next"),c("throw"),c("return"),s[Symbol.asyncIterator]=function(){return this},s;function c(R){n[R]&&(s[R]=function(N){return new Promise(function(Z,le){a.push([R,N,Z,le])>1||f(R,N)})})}function f(R,N){try{!function v(R){R.value instanceof Ki?Promise.resolve(R.value.v).then(M,D):I(a[0][2],R)}(n[R](N))}catch(Z){I(a[0][3],Z)}}function M(R){f("next",R)}function D(R){f("throw",R)}function I(R,N){R(N),a.shift(),a.length&&f(a[0][0],a[0][1])}}function ol(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function Wn(e){var t="function"==typeof Symbol&&Symbol.iterator,i=t&&e[t],n=0;if(i)return i.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),i={},n("next"),n("throw"),n("return"),i[Symbol.asyncIterator]=function(){return this},i);function n(a){i[a]=e[a]&&function(c){return new Promise(function(f,v){!function s(a,c,f,v){Promise.resolve(v).then(function(M){a({value:M,done:f})},c)}(f,v,(c=e[a](c)).done,c.value)})}}}const ll=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function Lr(e){return Ht(null==e?void 0:e.then)}function S(e){return Ht(e[wn])}function k(e){return Symbol.asyncIterator&&Ht(null==e?void 0:e[Symbol.asyncIterator])}function B(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const ge=function ie(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function _e(e){return Ht(null==e?void 0:e[ge])}function se(e){return ei(this,arguments,function*(){const i=e.getReader();try{for(;;){const{value:n,done:s}=yield Ki(i.read());if(s)return yield Ki(void 0);yield yield Ki(n)}}finally{i.releaseLock()}})}function tt(e){return Ht(null==e?void 0:e.getReader)}function st(e){if(e instanceof Nt)return e;if(null!=e){if(S(e))return function Ye(e){return new Nt(t=>{const i=e[wn]();if(Ht(i.subscribe))return i.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(ll(e))return function wi(e){return new Nt(t=>{for(let i=0;i<e.length&&!t.closed;i++)t.next(e[i]);t.complete()})}(e);if(Lr(e))return function Ut(e){return new Nt(t=>{e.then(i=>{t.closed||(t.next(i),t.complete())},i=>t.error(i)).then(null,j)})}(e);if(k(e))return _t(e);if(_e(e))return function oi(e){return new Nt(t=>{for(const i of e)if(t.next(i),t.closed)return;t.complete()})}(e);if(tt(e))return function Vi(e){return _t(se(e))}(e)}throw B(e)}function _t(e){return new Nt(t=>{(function Mi(e,t){var i,n,s,a;return function Te(e,t,i,n){return new(i||(i=Promise))(function(a,c){function f(D){try{M(n.next(D))}catch(I){c(I)}}function v(D){try{M(n.throw(D))}catch(I){c(I)}}function M(D){D.done?a(D.value):function s(a){return a instanceof i?a:new i(function(c){c(a)})}(D.value).then(f,v)}M((n=n.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(i=ol(e);!(n=yield i.next()).done;)if(t.next(n.value),t.closed)return}catch(c){s={error:c}}finally{try{n&&!n.done&&(a=i.return)&&(yield a.call(i))}finally{if(s)throw s.error}}t.complete()})})(e,t).catch(i=>t.error(i))})}function Se(e,t,i,n=0,s=!1){const a=t.schedule(function(){i(),s?e.add(this.schedule(null,n)):this.unsubscribe()},n);if(e.add(a),!s)return a}function r(e,t,i=1/0){return Ht(t)?r((n,s)=>te((a,c)=>t(n,a,s,c))(st(e(n,s))),i):("number"==typeof t&&(i=t),L((n,s)=>function Lt(e,t,i,n,s,a,c,f){const v=[];let M=0,D=0,I=!1;const R=()=>{I&&!v.length&&!M&&t.complete()},N=le=>M<n?Z(le):v.push(le),Z=le=>{a&&t.next(le),M++;let ve=!1;st(i(le,D++)).subscribe(Q(t,ye=>{null==s||s(ye),a?N(ye):t.next(ye)},()=>{ve=!0},void 0,()=>{if(ve)try{for(M--;v.length&&M<n;){const ye=v.shift();c?Se(t,c,()=>Z(ye)):Z(ye)}R()}catch(ye){t.error(ye)}}))};return e.subscribe(Q(t,N,()=>{I=!0,R()})),()=>{null==f||f()}}(n,s,e,i)))}function u(e=1/0){return r(Ze,e)}const l=new Nt(e=>e.complete());function m(e){return e[e.length-1]}function _(e){return Ht(m(e))?e.pop():void 0}function w(e){return function p(e){return e&&Ht(e.schedule)}(m(e))?e.pop():void 0}function g(e,t=0){return L((i,n)=>{i.subscribe(Q(n,s=>Se(n,e,()=>n.next(s),t),()=>Se(n,e,()=>n.complete(),t),s=>Se(n,e,()=>n.error(s),t)))})}function y(e,t=0){return L((i,n)=>{n.add(e.schedule(()=>i.subscribe(n),t))})}function P(e,t){if(!e)throw new Error("Iterable cannot be null");return new Nt(i=>{Se(i,t,()=>{const n=e[Symbol.asyncIterator]();Se(i,t,()=>{n.next().then(s=>{s.done?i.complete():i.next(s.value)})},0,!0)})})}function F(e,t){return t?function E(e,t){if(null!=e){if(S(e))return function b(e,t){return st(e).pipe(y(t),g(t))}(e,t);if(ll(e))return function C(e,t){return new Nt(i=>{let n=0;return t.schedule(function(){n===e.length?i.complete():(i.next(e[n++]),i.closed||this.schedule())})})}(e,t);if(Lr(e))return function d(e,t){return st(e).pipe(y(t),g(t))}(e,t);if(k(e))return P(e,t);if(_e(e))return function A(e,t){return new Nt(i=>{let n;return Se(i,t,()=>{n=e[ge](),Se(i,t,()=>{let s,a;try{({value:s,done:a}=n.next())}catch(c){return void i.error(c)}a?i.complete():i.next(s)},0,!0)}),()=>Ht(null==n?void 0:n.return)&&n.return()})}(e,t);if(tt(e))return function T(e,t){return P(se(e),t)}(e,t)}throw B(e)}(e,t):st(e)}function V(e,t,...i){if(!0===t)return void e();if(!1===t)return;const n=new Kt({next:()=>{n.unsubscribe(),e()}});return t(...i).subscribe(n)}function ee(e){for(let t in e)if(e[t]===ee)return t;throw Error("Could not find renamed property on target object.")}function ae(e,t){for(const i in t)t.hasOwnProperty(i)&&!e.hasOwnProperty(i)&&(e[i]=t[i])}function G(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(G).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const i=t.indexOf("\n");return-1===i?t:t.substring(0,i)}function K(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const J=ee({__forward_ref__:ee});function U(e){return e.__forward_ref__=U,e.toString=function(){return G(this())},e}function O(e){return ne(e)?e():e}function ne(e){return"function"==typeof e&&e.hasOwnProperty(J)&&e.__forward_ref__===U}class W extends Error{constructor(t,i){super(function ze(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,i)),this.code=t}}function we(e){return"string"==typeof e?e:null==e?"":String(e)}function $e(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():we(e)}function it(e,t){const i=t?` in ${t}`:"";throw new W(-201,`No provider for ${$e(e)} found${i}`)}function be(e,t){null==e&&function Be(e,t,i,n){throw new Error(`ASSERTION ERROR: ${e}`+(null==n?"":` [Expected=> ${i} ${n} ${t} <=Actual]`))}(t,e,null,"!=")}function Pe(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function ot(e){return{providers:e.providers||[],imports:e.imports||[]}}function Jt(e){return kt(e,ct)||kt(e,Ai)}function kt(e,t){return e.hasOwnProperty(t)?e[t]:null}function ke(e){return e&&(e.hasOwnProperty(ai)||e.hasOwnProperty(xi))?e[ai]:null}const ct=ee({\u0275prov:ee}),ai=ee({\u0275inj:ee}),Ai=ee({ngInjectableDef:ee}),xi=ee({ngInjectorDef:ee});var Ce=(()=>((Ce=Ce||{})[Ce.Default=0]="Default",Ce[Ce.Host=1]="Host",Ce[Ce.Self=2]="Self",Ce[Ce.SkipSelf=4]="SkipSelf",Ce[Ce.Optional=8]="Optional",Ce))();let si;function Hs(e){const t=si;return si=e,t}function Tf(e,t,i){const n=Jt(e);return n&&"root"==n.providedIn?void 0===n.value?n.value=n.factory():n.value:i&Ce.Optional?null:void 0!==t?t:void it(G(e),"Injector")}function js(e){return{toString:e}.toString()}var jn=(()=>((jn=jn||{})[jn.OnPush=0]="OnPush",jn[jn.Default=1]="Default",jn))(),rs=(()=>{return(e=rs||(rs={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",rs;var e})();const cC="undefined"!=typeof globalThis&&globalThis,dC="undefined"!=typeof window&&window,pC="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Yt=cC||"undefined"!=typeof global&&global||dC||pC,Or={},Gt=[],hl=ee({\u0275cmp:ee}),lu=ee({\u0275dir:ee}),hu=ee({\u0275pipe:ee}),Sf=ee({\u0275mod:ee}),Ss=ee({\u0275fac:ee}),Uo=ee({__NG_ELEMENT_ID__:ee});let fC=0;function ci(e){return js(()=>{const i={},n={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:i,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===jn.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||Gt,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||rs.Emulated,id:"c",styles:e.styles||Gt,_:null,setInput:null,schemas:e.schemas||null,tView:null},s=e.directives,a=e.features,c=e.pipes;return n.id+=fC++,n.inputs=Af(e.inputs,i),n.outputs=Af(e.outputs),a&&a.forEach(f=>f(n)),n.directiveDefs=s?()=>("function"==typeof s?s():s).map(Df):null,n.pipeDefs=c?()=>("function"==typeof c?c():c).map(Pf):null,n})}function Df(e){return ji(e)||function Us(e){return e[lu]||null}(e)}function Pf(e){return function cr(e){return e[hu]||null}(e)}const kf={};function Hi(e){return js(()=>{const t={type:e.type,bootstrap:e.bootstrap||Gt,declarations:e.declarations||Gt,imports:e.imports||Gt,exports:e.exports||Gt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&(kf[e.id]=e.type),t})}function Af(e,t){if(null==e)return Or;const i={};for(const n in e)if(e.hasOwnProperty(n)){let s=e[n],a=s;Array.isArray(s)&&(a=s[1],s=s[0]),i[s]=n,t&&(t[s]=a)}return i}const rt=ci;function ji(e){return e[hl]||null}function Dn(e,t){const i=e[Sf]||null;if(!i&&!0===t)throw new Error(`Type ${G(e)} does not have '\u0275mod' property.`);return i}function os(e){return Array.isArray(e)&&"object"==typeof e[1]}function Xn(e){return Array.isArray(e)&&!0===e[1]}function du(e){return 0!=(8&e.flags)}function pl(e){return 2==(2&e.flags)}function fl(e){return 1==(1&e.flags)}function zn(e){return null!==e.template}function bC(e){return 0!=(512&e[2])}function gr(e,t){return e.hasOwnProperty(Ss)?e[Ss]:null}class wC{constructor(t,i,n){this.previousValue=t,this.currentValue=i,this.firstChange=n}isFirstChange(){return this.firstChange}}function ln(){return If}function If(e){return e.type.prototype.ngOnChanges&&(e.setInput=TC),MC}function MC(){const e=Lf(this),t=null==e?void 0:e.current;if(t){const i=e.previous;if(i===Or)e.previous=t;else for(let n in t)i[n]=t[n];e.current=null,this.ngOnChanges(t)}}function TC(e,t,i,n){const s=Lf(e)||function SC(e,t){return e[Ff]=t}(e,{previous:Or,current:null}),a=s.current||(s.current={}),c=s.previous,f=this.declaredInputs[i],v=c[f];a[f]=new wC(v&&v.currentValue,t,c===Or),e[n]=t}ln.ngInherit=!0;const Ff="__ngSimpleChanges__";function Lf(e){return e[Ff]||null}let xu;function li(e){return!!e.listen}const Vf={createRenderer:(e,t)=>function yu(){return void 0!==xu?xu:"undefined"!=typeof document?document:void 0}()};function yi(e){for(;Array.isArray(e);)e=e[0];return e}function gl(e,t){return yi(t[e])}function An(e,t){return yi(t[e.index])}function vu(e,t){return e.data[t]}function fn(e,t){const i=t[e];return os(i)?i:i[0]}function bu(e){return 128==(128&e[2])}function Xs(e,t){return null==t?null:e[t]}function Bf(e){e[18]=0}function _u(e,t){e[5]+=t;let i=e,n=e[3];for(;null!==n&&(1===t&&1===i[5]||-1===t&&0===i[5]);)n[5]+=t,i=n,n=n[3]}const ht={lFrame:Yf(null),bindingsEnabled:!0};function Nf(){return ht.bindingsEnabled}function xe(){return ht.lFrame.lView}function It(){return ht.lFrame.tView}function Ii(e){return ht.lFrame.contextLView=e,e[8]}function Si(){let e=Wf();for(;null!==e&&64===e.type;)e=e.parent;return e}function Wf(){return ht.lFrame.currentTNode}function as(e,t){const i=ht.lFrame;i.currentTNode=e,i.isParent=t}function Cu(){return ht.lFrame.isParent}function jr(){return ht.lFrame.bindingIndex++}function Ps(e){const t=ht.lFrame,i=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,i}function UC(e,t){const i=ht.lFrame;i.bindingIndex=i.bindingRootIndex=e,Mu(t)}function Mu(e){ht.lFrame.currentDirectiveIndex=e}function Su(e){ht.lFrame.currentQueryIndex=e}function zC(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function Xf(e,t,i){if(i&Ce.SkipSelf){let s=t,a=e;for(;!(s=s.parent,null!==s||i&Ce.Host||(s=zC(a),null===s||(a=a[15],10&s.type))););if(null===s)return!1;t=s,e=a}const n=ht.lFrame=zf();return n.currentTNode=t,n.lView=e,!0}function xl(e){const t=zf(),i=e[1];ht.lFrame=t,t.currentTNode=i.firstChild,t.lView=e,t.tView=i,t.contextLView=e,t.bindingIndex=i.bindingStartIndex,t.inI18n=!1}function zf(){const e=ht.lFrame,t=null===e?null:e.child;return null===t?Yf(e):t}function Yf(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function $f(){const e=ht.lFrame;return ht.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Gf=$f;function yl(){const e=$f();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Zi(){return ht.lFrame.selectedIndex}function zs(e){ht.lFrame.selectedIndex=e}function hi(){const e=ht.lFrame;return vu(e.tView,e.selectedIndex)}function vl(e,t){for(let i=t.directiveStart,n=t.directiveEnd;i<n;i++){const a=e.data[i].type.prototype,{ngAfterContentInit:c,ngAfterContentChecked:f,ngAfterViewInit:v,ngAfterViewChecked:M,ngOnDestroy:D}=a;c&&(e.contentHooks||(e.contentHooks=[])).push(-i,c),f&&((e.contentHooks||(e.contentHooks=[])).push(i,f),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(i,f)),v&&(e.viewHooks||(e.viewHooks=[])).push(-i,v),M&&((e.viewHooks||(e.viewHooks=[])).push(i,M),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(i,M)),null!=D&&(e.destroyHooks||(e.destroyHooks=[])).push(i,D)}}function bl(e,t,i){Kf(e,t,3,i)}function _l(e,t,i,n){(3&e[2])===i&&Kf(e,t,i,n)}function Du(e,t){let i=e[2];(3&i)===t&&(i&=2047,i+=1,e[2]=i)}function Kf(e,t,i,n){const a=null!=n?n:-1,c=t.length-1;let f=0;for(let v=void 0!==n?65535&e[18]:0;v<c;v++)if("number"==typeof t[v+1]){if(f=t[v],null!=n&&f>=n)break}else t[v]<0&&(e[18]+=65536),(f<a||-1==a)&&(e1(e,i,t,v),e[18]=(4294901760&e[18])+v+2),v++}function e1(e,t,i,n){const s=i[n]<0,a=i[n+1],f=e[s?-i[n]:i[n]];if(s){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{a.call(f)}finally{}}}else try{a.call(f)}finally{}}class Go{constructor(t,i,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=n}}function Cl(e,t,i){const n=li(e);let s=0;for(;s<i.length;){const a=i[s];if("number"==typeof a){if(0!==a)break;s++;const c=i[s++],f=i[s++],v=i[s++];n?e.setAttribute(t,f,v,c):t.setAttributeNS(c,f,v)}else{const c=a,f=i[++s];ku(c)?n&&e.setProperty(t,c,f):n?e.setAttribute(t,c,f):t.setAttribute(c,f),s++}}return s}function Qf(e){return 3===e||4===e||6===e}function ku(e){return 64===e.charCodeAt(0)}function wl(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let i=-1;for(let n=0;n<t.length;n++){const s=t[n];"number"==typeof s?i=s:0===i||Jf(e,i,s,null,-1===i||2===i?t[++n]:null)}}return e}function Jf(e,t,i,n,s){let a=0,c=e.length;if(-1===t)c=-1;else for(;a<e.length;){const f=e[a++];if("number"==typeof f){if(f===t){c=-1;break}if(f>t){c=a-1;break}}}for(;a<e.length;){const f=e[a];if("number"==typeof f)break;if(f===i){if(null===n)return void(null!==s&&(e[a+1]=s));if(n===e[a+1])return void(e[a+2]=s)}a++,null!==n&&a++,null!==s&&a++}-1!==c&&(e.splice(c,0,t),a=c+1),e.splice(a++,0,i),null!==n&&e.splice(a++,0,n),null!==s&&e.splice(a++,0,s)}function Zf(e){return-1!==e}function Ur(e){return 32767&e}function Xr(e,t){let i=function r1(e){return e>>16}(e),n=t;for(;i>0;)n=n[15],i--;return n}let Au=!0;function Ml(e){const t=Au;return Au=e,t}let o1=0;function Qo(e,t){const i=Iu(e,t);if(-1!==i)return i;const n=t[1];n.firstCreatePass&&(e.injectorIndex=t.length,Eu(n.data,e),Eu(t,null),Eu(n.blueprint,null));const s=Tl(e,t),a=e.injectorIndex;if(Zf(s)){const c=Ur(s),f=Xr(s,t),v=f[1].data;for(let M=0;M<8;M++)t[a+M]=f[c+M]|v[c+M]}return t[a+8]=s,a}function Eu(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Iu(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Tl(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let i=0,n=null,s=t;for(;null!==s;){const a=s[1],c=a.type;if(n=2===c?a.declTNode:1===c?s[6]:null,null===n)return-1;if(i++,s=s[15],-1!==n.injectorIndex)return n.injectorIndex|i<<16}return-1}function Sl(e,t,i){!function a1(e,t,i){let n;"string"==typeof i?n=i.charCodeAt(0)||0:i.hasOwnProperty(Uo)&&(n=i[Uo]),null==n&&(n=i[Uo]=o1++);const s=255&n;t.data[e+(s>>5)]|=1<<s}(e,t,i)}function tg(e,t,i){if(i&Ce.Optional)return e;it(t,"NodeInjector")}function ig(e,t,i,n){if(i&Ce.Optional&&void 0===n&&(n=null),0==(i&(Ce.Self|Ce.Host))){const s=e[9],a=Hs(void 0);try{return s?s.get(t,n,i&Ce.Optional):Tf(t,n,i&Ce.Optional)}finally{Hs(a)}}return tg(n,t,i)}function ng(e,t,i,n=Ce.Default,s){if(null!==e){const a=function c1(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Uo)?e[Uo]:void 0;return"number"==typeof t?t>=0?255&t:h1:t}(i);if("function"==typeof a){if(!Xf(t,e,n))return n&Ce.Host?tg(s,i,n):ig(t,i,n,s);try{const c=a(n);if(null!=c||n&Ce.Optional)return c;it(i)}finally{Gf()}}else if("number"==typeof a){let c=null,f=Iu(e,t),v=-1,M=n&Ce.Host?t[16][6]:null;for((-1===f||n&Ce.SkipSelf)&&(v=-1===f?Tl(e,t):t[f+8],-1!==v&&og(n,!1)?(c=t[1],f=Ur(v),t=Xr(v,t)):f=-1);-1!==f;){const D=t[1];if(rg(a,f,D.data)){const I=u1(f,t,i,c,n,M);if(I!==sg)return I}v=t[f+8],-1!==v&&og(n,t[1].data[f+8]===M)&&rg(a,f,t)?(c=D,f=Ur(v),t=Xr(v,t)):f=-1}}}return ig(t,i,n,s)}const sg={};function h1(){return new zr(Si(),xe())}function u1(e,t,i,n,s,a){const c=t[1],f=c.data[e+8],D=function Dl(e,t,i,n,s){const a=e.providerIndexes,c=t.data,f=1048575&a,v=e.directiveStart,D=a>>20,R=s?f+D:e.directiveEnd;for(let N=n?f:f+D;N<R;N++){const Z=c[N];if(N<v&&i===Z||N>=v&&Z.type===i)return N}if(s){const N=c[v];if(N&&zn(N)&&N.type===i)return v}return null}(f,c,i,null==n?pl(f)&&Au:n!=c&&0!=(3&f.type),s&Ce.Host&&a===f);return null!==D?Jo(t,c,D,f):sg}function Jo(e,t,i,n){let s=e[i];const a=t.data;if(function t1(e){return e instanceof Go}(s)){const c=s;c.resolving&&function mt(e,t){const i=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new W(-200,`Circular dependency in DI detected for ${e}${i}`)}($e(a[i]));const f=Ml(c.canSeeViewProviders);c.resolving=!0;const v=c.injectImpl?Hs(c.injectImpl):null;Xf(e,n,Ce.Default);try{s=e[i]=c.factory(void 0,a,e,n),t.firstCreatePass&&i>=n.directiveStart&&function qC(e,t,i){const{ngOnChanges:n,ngOnInit:s,ngDoCheck:a}=t.type.prototype;if(n){const c=If(t);(i.preOrderHooks||(i.preOrderHooks=[])).push(e,c),(i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(e,c)}s&&(i.preOrderHooks||(i.preOrderHooks=[])).push(0-e,s),a&&((i.preOrderHooks||(i.preOrderHooks=[])).push(e,a),(i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(e,a))}(i,a[i],t)}finally{null!==v&&Hs(v),Ml(f),c.resolving=!1,Gf()}}return s}function rg(e,t,i){return!!(i[t+(e>>5)]&1<<e)}function og(e,t){return!(e&Ce.Self||e&Ce.Host&&t)}class zr{constructor(t,i){this._tNode=t,this._lView=i}get(t,i,n){return ng(this._tNode,this._lView,t,n,i)}}function Xi(e){return js(()=>{const t=e.prototype.constructor,i=t[Ss]||Fu(t),n=Object.prototype;let s=Object.getPrototypeOf(e.prototype).constructor;for(;s&&s!==n;){const a=s[Ss]||Fu(s);if(a&&a!==i)return a;s=Object.getPrototypeOf(s)}return a=>new a})}function Fu(e){return ne(e)?()=>{const t=Fu(O(e));return t&&t()}:gr(e)}const $r="__parameters__";function Kr(e,t,i){return js(()=>{const n=function Lu(e){return function(...i){if(e){const n=e(...i);for(const s in n)this[s]=n[s]}}}(t);function s(...a){if(this instanceof s)return n.apply(this,a),this;const c=new s(...a);return f.annotation=c,f;function f(v,M,D){const I=v.hasOwnProperty($r)?v[$r]:Object.defineProperty(v,$r,{value:[]})[$r];for(;I.length<=D;)I.push(null);return(I[D]=I[D]||[]).push(c),v}}return i&&(s.prototype=Object.create(i.prototype)),s.prototype.ngMetadataName=e,s.annotationCls=s,s})}class yt{constructor(t,i){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof i?this.__NG_ELEMENT_ID__=i:void 0!==i&&(this.\u0275prov=Pe({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}toString(){return`InjectionToken ${this._desc}`}}const p1=new yt("AnalyzeForEntryComponents");function ls(e,t){e.forEach(i=>Array.isArray(i)?ls(i,t):t(i))}function lg(e,t,i){t>=e.length?e.push(i):e.splice(t,0,i)}function Pl(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function gn(e,t,i){let n=Qr(e,t);return n>=0?e[1|n]=i:(n=~n,function m1(e,t,i,n){let s=e.length;if(s==t)e.push(i,n);else if(1===s)e.push(n,e[0]),e[0]=i;else{for(s--,e.push(e[s-1],e[s]);s>t;)e[s]=e[s-2],s--;e[t]=i,e[t+1]=n}}(e,n,t,i)),n}function Ou(e,t){const i=Qr(e,t);if(i>=0)return e[1|i]}function Qr(e,t){return function cg(e,t,i){let n=0,s=e.length>>i;for(;s!==n;){const a=n+(s-n>>1),c=e[a<<i];if(t===c)return a<<i;c>t?s=a:n=a+1}return~(s<<i)}(e,t,1)}const ia={},Ru="__NG_DI_FLAG__",Al="ngTempTokenPath",w1=/\n/gm,pg="__source",T1=ee({provide:String,useValue:ee});let na;function fg(e){const t=na;return na=e,t}function S1(e,t=Ce.Default){if(void 0===na)throw new W(203,"");return null===na?Tf(e,void 0,t):na.get(e,t&Ce.Optional?null:void 0,t)}function Oe(e,t=Ce.Default){return(function uC(){return si}()||S1)(O(e),t)}const D1=Oe;function Nu(e){const t=[];for(let i=0;i<e.length;i++){const n=O(e[i]);if(Array.isArray(n)){if(0===n.length)throw new W(900,"");let s,a=Ce.Default;for(let c=0;c<n.length;c++){const f=n[c],v=P1(f);"number"==typeof v?-1===v?s=f.token:a|=v:s=f}t.push(Oe(s,a))}else t.push(Oe(n))}return t}function sa(e,t){return e[Ru]=t,e.prototype[Ru]=t,e}function P1(e){return e[Ru]}const El=sa(Kr("Inject",e=>({token:e})),-1),$s=sa(Kr("Optional"),8),ra=sa(Kr("SkipSelf"),4);class wg{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Gs(e){return e instanceof wg?e.changingThisBreaksApplicationSecurity:e}const Q1=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,J1=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var vi=(()=>((vi=vi||{})[vi.NONE=0]="NONE",vi[vi.HTML=1]="HTML",vi[vi.STYLE=2]="STYLE",vi[vi.SCRIPT=3]="SCRIPT",vi[vi.URL=4]="URL",vi[vi.RESOURCE_URL=5]="RESOURCE_URL",vi))();function $u(e){const t=function ha(){const e=xe();return e&&e[12]}();return t?t.sanitize(vi.URL,e)||"":function aa(e,t){const i=function Y1(e){return e instanceof wg&&e.getTypeName()||null}(e);if(null!=i&&i!==t){if("ResourceURL"===i&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${i} (see https://g.co/ng/security#xss)`)}return i===t}(e,"URL")?Gs(e):function Vl(e){return(e=String(e)).match(Q1)||e.match(J1)?e:"unsafe:"+e}(we(e))}const Fg="__ngContext__";function zi(e,t){e[Fg]=t}function Ku(e){const t=function ua(e){return e[Fg]||null}(e);return t?Array.isArray(t)?t:t.lView:null}function Ju(e){return e.ngOriginalError}function bw(e,...t){e.error(...t)}class ca{constructor(){this._console=console}handleError(t){const i=this._findOriginalError(t),n=function vw(e){return e&&e.ngErrorLogger||bw}(t);n(this._console,"ERROR",t),i&&n(this._console,"ORIGINAL ERROR",i)}_findOriginalError(t){let i=t&&Ju(t);for(;i&&Ju(i);)i=Ju(i);return i||null}}const Aw=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Yt))();function us(e){return e instanceof Function?e():e}var mn=(()=>((mn=mn||{})[mn.Important=1]="Important",mn[mn.DashCase=2]="DashCase",mn))();function qu(e,t){return undefined(e,t)}function da(e){const t=e[3];return Xn(t)?t[3]:t}function ec(e){return jg(e[13])}function tc(e){return jg(e[4])}function jg(e){for(;null!==e&&!Xn(e);)e=e[4];return e}function eo(e,t,i,n,s){if(null!=n){let a,c=!1;Xn(n)?a=n:os(n)&&(c=!0,n=n[0]);const f=yi(n);0===e&&null!==i?null==s?Gg(t,i,f):mr(t,i,f,s||null,!0):1===e&&null!==i?mr(t,i,f,s||null,!0):2===e?function tm(e,t,i){const n=Bl(e,t);n&&function Xw(e,t,i,n){li(e)?e.removeChild(t,i,n):t.removeChild(i)}(e,n,t,i)}(t,f,c):3===e&&t.destroyNode(f),null!=a&&function $w(e,t,i,n,s){const a=i[7];a!==yi(i)&&eo(t,e,n,a,s);for(let f=10;f<i.length;f++){const v=i[f];pa(v[1],v,e,t,n,a)}}(t,e,a,i,s)}}function nc(e,t,i){if(li(e))return e.createElement(t,i);{const n=null!==i?function AC(e){const t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(i):null;return null===n?e.createElement(t):e.createElementNS(n,t)}}function Xg(e,t){const i=e[9],n=i.indexOf(t),s=t[3];1024&t[2]&&(t[2]&=-1025,_u(s,-1)),i.splice(n,1)}function sc(e,t){if(e.length<=10)return;const i=10+t,n=e[i];if(n){const s=n[17];null!==s&&s!==e&&Xg(s,n),t>0&&(e[i-1][4]=n[4]);const a=Pl(e,10+t);!function Ow(e,t){pa(e,t,t[11],2,null,null),t[0]=null,t[6]=null}(n[1],n);const c=a[19];null!==c&&c.detachView(a[1]),n[3]=null,n[4]=null,n[2]&=-129}return n}function zg(e,t){if(!(256&t[2])){const i=t[11];li(i)&&i.destroyNode&&pa(e,t,i,3,null,null),function Nw(e){let t=e[13];if(!t)return rc(e[1],e);for(;t;){let i=null;if(os(t))i=t[13];else{const n=t[10];n&&(i=n)}if(!i){for(;t&&!t[4]&&t!==e;)os(t)&&rc(t[1],t),t=t[3];null===t&&(t=e),os(t)&&rc(t[1],t),i=t&&t[4]}t=i}}(t)}}function rc(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function Uw(e,t){let i;if(null!=e&&null!=(i=e.destroyHooks))for(let n=0;n<i.length;n+=2){const s=t[i[n]];if(!(s instanceof Go)){const a=i[n+1];if(Array.isArray(a))for(let c=0;c<a.length;c+=2){const f=s[a[c]],v=a[c+1];try{v.call(f)}finally{}}else try{a.call(s)}finally{}}}}(e,t),function jw(e,t){const i=e.cleanup,n=t[7];let s=-1;if(null!==i)for(let a=0;a<i.length-1;a+=2)if("string"==typeof i[a]){const c=i[a+1],f="function"==typeof c?c(t):yi(t[c]),v=n[s=i[a+2]],M=i[a+3];"boolean"==typeof M?f.removeEventListener(i[a],v,M):M>=0?n[s=M]():n[s=-M].unsubscribe(),a+=2}else{const c=n[s=i[a+1]];i[a].call(c)}if(null!==n){for(let a=s+1;a<n.length;a++)n[a]();t[7]=null}}(e,t),1===t[1].type&&li(t[11])&&t[11].destroy();const i=t[17];if(null!==i&&Xn(t[3])){i!==t[3]&&Xg(i,t);const n=t[19];null!==n&&n.detachView(e)}}}function Yg(e,t,i){return function $g(e,t,i){let n=t;for(;null!==n&&40&n.type;)n=(t=n).parent;if(null===n)return i[0];if(2&n.flags){const s=e.data[n.directiveStart].encapsulation;if(s===rs.None||s===rs.Emulated)return null}return An(n,i)}(e,t.parent,i)}function mr(e,t,i,n,s){li(e)?e.insertBefore(t,i,n,s):t.insertBefore(i,n,s)}function Gg(e,t,i){li(e)?e.appendChild(t,i):t.appendChild(i)}function Kg(e,t,i,n,s){null!==n?mr(e,t,i,n,s):Gg(e,t,i)}function Bl(e,t){return li(e)?e.parentNode(t):t.parentNode}let Zg=function Jg(e,t,i){return 40&e.type?An(e,i):null};function Rl(e,t,i,n){const s=Yg(e,n,t),a=t[11],f=function Qg(e,t,i){return Zg(e,t,i)}(n.parent||t[6],n,t);if(null!=s)if(Array.isArray(i))for(let v=0;v<i.length;v++)Kg(a,s,i[v],f,!1);else Kg(a,s,i,f,!1)}function Nl(e,t){if(null!==t){const i=t.type;if(3&i)return An(t,e);if(4&i)return ac(-1,e[t.index]);if(8&i){const n=t.child;if(null!==n)return Nl(e,n);{const s=e[t.index];return Xn(s)?ac(-1,s):yi(s)}}if(32&i)return qu(t,e)()||yi(e[t.index]);{const n=em(e,t);return null!==n?Array.isArray(n)?n[0]:Nl(da(e[16]),n):Nl(e,t.next)}}return null}function em(e,t){return null!==t?e[16][6].projection[t.projection]:null}function ac(e,t){const i=10+e+1;if(i<t.length){const n=t[i],s=n[1].firstChild;if(null!==s)return Nl(n,s)}return t[7]}function lc(e,t,i,n,s,a,c){for(;null!=i;){const f=n[i.index],v=i.type;if(c&&0===t&&(f&&zi(yi(f),n),i.flags|=4),64!=(64&i.flags))if(8&v)lc(e,t,i.child,n,s,a,!1),eo(t,e,s,f,a);else if(32&v){const M=qu(i,n);let D;for(;D=M();)eo(t,e,s,D,a);eo(t,e,s,f,a)}else 16&v?im(e,t,n,i,s,a):eo(t,e,s,f,a);i=c?i.projectionNext:i.next}}function pa(e,t,i,n,s,a){lc(i,n,e.firstChild,t,s,a,!1)}function im(e,t,i,n,s,a){const c=i[16],v=c[6].projection[n.projection];if(Array.isArray(v))for(let M=0;M<v.length;M++)eo(t,e,s,v[M],a);else lc(e,t,v,c[3],s,a,!0)}function nm(e,t,i){li(e)?e.setAttribute(t,"style",i):t.style.cssText=i}function hc(e,t,i){li(e)?""===i?e.removeAttribute(t,"class"):e.setAttribute(t,"class",i):t.className=i}function sm(e,t,i){let n=e.length;for(;;){const s=e.indexOf(t,i);if(-1===s)return s;if(0===s||e.charCodeAt(s-1)<=32){const a=t.length;if(s+a===n||e.charCodeAt(s+a)<=32)return s}i=s+1}}const rm="ng-template";function Kw(e,t,i){let n=0;for(;n<e.length;){let s=e[n++];if(i&&"class"===s){if(s=e[n],-1!==sm(s.toLowerCase(),t,0))return!0}else if(1===s){for(;n<e.length&&"string"==typeof(s=e[n++]);)if(s.toLowerCase()===t)return!0;return!1}}return!1}function om(e){return 4===e.type&&e.value!==rm}function Qw(e,t,i){return t===(4!==e.type||i?e.value:rm)}function Jw(e,t,i){let n=4;const s=e.attrs||[],a=function eM(e){for(let t=0;t<e.length;t++)if(Qf(e[t]))return t;return e.length}(s);let c=!1;for(let f=0;f<t.length;f++){const v=t[f];if("number"!=typeof v){if(!c)if(4&n){if(n=2|1&n,""!==v&&!Qw(e,v,i)||""===v&&1===t.length){if(Yn(n))return!1;c=!0}}else{const M=8&n?v:t[++f];if(8&n&&null!==e.attrs){if(!Kw(e.attrs,M,i)){if(Yn(n))return!1;c=!0}continue}const I=Zw(8&n?"class":v,s,om(e),i);if(-1===I){if(Yn(n))return!1;c=!0;continue}if(""!==M){let R;R=I>a?"":s[I+1].toLowerCase();const N=8&n?R:null;if(N&&-1!==sm(N,M,0)||2&n&&M!==R){if(Yn(n))return!1;c=!0}}}}else{if(!c&&!Yn(n)&&!Yn(v))return!1;if(c&&Yn(v))continue;c=!1,n=v|1&n}}return Yn(n)||c}function Yn(e){return 0==(1&e)}function Zw(e,t,i,n){if(null===t)return-1;let s=0;if(n||!i){let a=!1;for(;s<t.length;){const c=t[s];if(c===e)return s;if(3===c||6===c)a=!0;else{if(1===c||2===c){let f=t[++s];for(;"string"==typeof f;)f=t[++s];continue}if(4===c)break;if(0===c){s+=4;continue}}s+=a?1:2}return-1}return function tM(e,t){let i=e.indexOf(4);if(i>-1)for(i++;i<e.length;){const n=e[i];if("number"==typeof n)return-1;if(n===t)return i;i++}return-1}(t,e)}function am(e,t,i=!1){for(let n=0;n<t.length;n++)if(Jw(e,t[n],i))return!0;return!1}function lm(e,t){return e?":not("+t.trim()+")":t}function nM(e){let t=e[0],i=1,n=2,s="",a=!1;for(;i<e.length;){let c=e[i];if("string"==typeof c)if(2&n){const f=e[++i];s+="["+c+(f.length>0?'="'+f+'"':"")+"]"}else 8&n?s+="."+c:4&n&&(s+=" "+c);else""!==s&&!Yn(c)&&(t+=lm(a,s),s=""),n=c,a=a||!Yn(n);i++}return""!==s&&(t+=lm(a,s)),t}const ut={};function Ee(e){hm(It(),xe(),Zi()+e,!1)}function hm(e,t,i,n){if(!n)if(3==(3&t[2])){const a=e.preOrderCheckHooks;null!==a&&bl(t,a,i)}else{const a=e.preOrderHooks;null!==a&&_l(t,a,0,i)}zs(i)}function Wl(e,t){return e<<17|t<<2}function $n(e){return e>>17&32767}function uc(e){return 2|e}function ks(e){return(131068&e)>>2}function cc(e,t){return-131069&e|t<<2}function dc(e){return 1|e}function bm(e,t){const i=e.contentQueries;if(null!==i)for(let n=0;n<i.length;n+=2){const s=i[n],a=i[n+1];if(-1!==a){const c=e.data[a];Su(s),c.contentQueries(2,t[a],a)}}}function fa(e,t,i,n,s,a,c,f,v,M){const D=t.blueprint.slice();return D[0]=s,D[2]=140|n,Bf(D),D[3]=D[15]=e,D[8]=i,D[10]=c||e&&e[10],D[11]=f||e&&e[11],D[12]=v||e&&e[12]||null,D[9]=M||e&&e[9]||null,D[6]=a,D[16]=2==t.type?e[16]:D,D}function to(e,t,i,n,s){let a=e.data[t];if(null===a)a=function _c(e,t,i,n,s){const a=Wf(),c=Cu(),v=e.data[t]=function _M(e,t,i,n,s,a){return{type:i,index:n,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:s,attrs:a,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,c?a:a&&a.parent,i,t,n,s);return null===e.firstChild&&(e.firstChild=v),null!==a&&(c?null==a.child&&null!==v.parent&&(a.child=v):null===a.next&&(a.next=v)),v}(e,t,i,n,s),function jC(){return ht.lFrame.inI18n}()&&(a.flags|=64);else if(64&a.type){a.type=i,a.value=n,a.attrs=s;const c=function $o(){const e=ht.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();a.injectorIndex=null===c?-1:c.injectorIndex}return as(a,!0),a}function io(e,t,i,n){if(0===i)return-1;const s=t.length;for(let a=0;a<i;a++)t.push(n),e.blueprint.push(n),e.data.push(null);return s}function ga(e,t,i){xl(t);try{const n=e.viewQuery;null!==n&&Ac(1,n,i);const s=e.template;null!==s&&_m(e,t,s,1,i),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&bm(e,t),e.staticViewQueries&&Ac(2,e.viewQuery,i);const a=e.components;null!==a&&function yM(e,t){for(let i=0;i<t.length;i++)NM(e,t[i])}(t,a)}catch(n){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),n}finally{t[2]&=-5,yl()}}function no(e,t,i,n){const s=t[2];if(256!=(256&s)){xl(t);try{Bf(t),function Hf(e){return ht.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==i&&_m(e,t,i,2,n);const c=3==(3&s);if(c){const M=e.preOrderCheckHooks;null!==M&&bl(t,M,null)}else{const M=e.preOrderHooks;null!==M&&_l(t,M,0,null),Du(t,0)}if(function BM(e){for(let t=ec(e);null!==t;t=tc(t)){if(!t[2])continue;const i=t[9];for(let n=0;n<i.length;n++){const s=i[n],a=s[3];0==(1024&s[2])&&_u(a,1),s[2]|=1024}}}(t),function OM(e){for(let t=ec(e);null!==t;t=tc(t))for(let i=10;i<t.length;i++){const n=t[i],s=n[1];bu(n)&&no(s,n,s.template,n[8])}}(t),null!==e.contentQueries&&bm(e,t),c){const M=e.contentCheckHooks;null!==M&&bl(t,M)}else{const M=e.contentHooks;null!==M&&_l(t,M,1),Du(t,1)}!function mM(e,t){const i=e.hostBindingOpCodes;if(null!==i)try{for(let n=0;n<i.length;n++){const s=i[n];if(s<0)zs(~s);else{const a=s,c=i[++n],f=i[++n];UC(c,a),f(2,t[a])}}}finally{zs(-1)}}(e,t);const f=e.components;null!==f&&function xM(e,t){for(let i=0;i<t.length;i++)RM(e,t[i])}(t,f);const v=e.viewQuery;if(null!==v&&Ac(2,v,n),c){const M=e.viewCheckHooks;null!==M&&bl(t,M)}else{const M=e.viewHooks;null!==M&&_l(t,M,2),Du(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[2]&=-73,1024&t[2]&&(t[2]&=-1025,_u(t[3],-1))}finally{yl()}}}function vM(e,t,i,n){const s=t[10],c=function Of(e){return 4==(4&e[2])}(t);try{!c&&s.begin&&s.begin(),c&&ga(e,t,n),no(e,t,i,n)}finally{!c&&s.end&&s.end()}}function _m(e,t,i,n,s){const a=Zi(),c=2&n;try{zs(-1),c&&t.length>20&&hm(e,t,20,!1),i(n,s)}finally{zs(a)}}function Cc(e,t,i){!Nf()||(function PM(e,t,i,n){const s=i.directiveStart,a=i.directiveEnd;e.firstCreatePass||Qo(i,t),zi(n,t);const c=i.initialInputs;for(let f=s;f<a;f++){const v=e.data[f],M=zn(v);M&&FM(t,i,v);const D=Jo(t,e,f,i);zi(D,t),null!==c&&LM(0,f-s,D,v,0,c),M&&(fn(i.index,t)[8]=D)}}(e,t,i,An(i,t)),128==(128&i.flags)&&function kM(e,t,i){const n=i.directiveStart,s=i.directiveEnd,c=i.index,f=function XC(){return ht.lFrame.currentDirectiveIndex}();try{zs(c);for(let v=n;v<s;v++){const M=e.data[v],D=t[v];Mu(v),(null!==M.hostBindings||0!==M.hostVars||null!==M.hostAttrs)&&Am(M,D)}}finally{zs(-1),Mu(f)}}(e,t,i))}function wc(e,t,i=An){const n=t.localNames;if(null!==n){let s=t.index+1;for(let a=0;a<n.length;a+=2){const c=n[a+1],f=-1===c?i(t,e):e[c];e[s++]=f}}}function wm(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Ul(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Ul(e,t,i,n,s,a,c,f,v,M){const D=20+n,I=D+s,R=function bM(e,t){const i=[];for(let n=0;n<t;n++)i.push(n<e?null:ut);return i}(D,I),N="function"==typeof M?M():M;return R[1]={type:e,blueprint:R,template:i,queries:null,viewQuery:f,declTNode:t,data:R.slice().fill(null,D),bindingStartIndex:D,expandoStartIndex:I,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof a?a():a,pipeRegistry:"function"==typeof c?c():c,firstChild:null,schemas:v,consts:N,incompleteFirstPass:!1}}function Dm(e,t,i){for(let n in e)if(e.hasOwnProperty(n)){const s=e[n];(i=null===i?{}:i).hasOwnProperty(n)?i[n].push(t,s):i[n]=[t,s]}return i}function xn(e,t,i,n,s,a,c,f){const v=An(t,i);let D,M=t.inputs;!f&&null!=M&&(D=M[n])?(Wm(e,i,D,n,s),pl(t)&&function MM(e,t){const i=fn(t,e);16&i[2]||(i[2]|=64)}(i,t.index)):3&t.type&&(n=function wM(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(n),s=null!=c?c(s,t.value||"",n):s,li(a)?a.setProperty(v,n,s):ku(n)||(v.setProperty?v.setProperty(n,s):v[n]=s))}function Mc(e,t,i,n){let s=!1;if(Nf()){const a=function AM(e,t,i){const n=e.directiveRegistry;let s=null;if(n)for(let a=0;a<n.length;a++){const c=n[a];am(i,c.selectors,!1)&&(s||(s=[]),Sl(Qo(i,t),e,c.type),zn(c)?(Em(e,i),s.unshift(c)):s.push(c))}return s}(e,t,i),c=null===n?null:{"":-1};if(null!==a){s=!0,Im(i,e.data.length,a.length);for(let D=0;D<a.length;D++){const I=a[D];I.providersResolver&&I.providersResolver(I)}let f=!1,v=!1,M=io(e,t,a.length,null);for(let D=0;D<a.length;D++){const I=a[D];i.mergedAttrs=wl(i.mergedAttrs,I.hostAttrs),Fm(e,i,t,M,I),IM(M,I,c),null!==I.contentQueries&&(i.flags|=8),(null!==I.hostBindings||null!==I.hostAttrs||0!==I.hostVars)&&(i.flags|=128);const R=I.type.prototype;!f&&(R.ngOnChanges||R.ngOnInit||R.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(i.index),f=!0),!v&&(R.ngOnChanges||R.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(i.index),v=!0),M++}!function CM(e,t){const n=t.directiveEnd,s=e.data,a=t.attrs,c=[];let f=null,v=null;for(let M=t.directiveStart;M<n;M++){const D=s[M],I=D.inputs,R=null===a||om(t)?null:VM(I,a);c.push(R),f=Dm(I,M,f),v=Dm(D.outputs,M,v)}null!==f&&(f.hasOwnProperty("class")&&(t.flags|=16),f.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=c,t.inputs=f,t.outputs=v}(e,i)}c&&function EM(e,t,i){if(t){const n=e.localNames=[];for(let s=0;s<t.length;s+=2){const a=i[t[s+1]];if(null==a)throw new W(-301,!1);n.push(t[s],a)}}}(i,n,c)}return i.mergedAttrs=wl(i.mergedAttrs,i.attrs),s}function km(e,t,i,n,s,a){const c=a.hostBindings;if(c){let f=e.hostBindingOpCodes;null===f&&(f=e.hostBindingOpCodes=[]);const v=~t.index;(function DM(e){let t=e.length;for(;t>0;){const i=e[--t];if("number"==typeof i&&i<0)return i}return 0})(f)!=v&&f.push(v),f.push(n,s,c)}}function Am(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Em(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function IM(e,t,i){if(i){if(t.exportAs)for(let n=0;n<t.exportAs.length;n++)i[t.exportAs[n]]=e;zn(t)&&(i[""]=e)}}function Im(e,t,i){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+i,e.providerIndexes=t}function Fm(e,t,i,n,s){e.data[n]=s;const a=s.factory||(s.factory=gr(s.type)),c=new Go(a,zn(s),null);e.blueprint[n]=c,i[n]=c,km(e,t,0,n,io(e,i,s.hostVars,ut),s)}function FM(e,t,i){const n=An(t,e),s=wm(i),a=e[10],c=Xl(e,fa(e,s,null,i.onPush?64:16,n,t,a,a.createRenderer(n,i),null,null));e[t.index]=c}function cs(e,t,i,n,s,a){const c=An(e,t);!function Tc(e,t,i,n,s,a,c){if(null==a)li(e)?e.removeAttribute(t,s,i):t.removeAttribute(s);else{const f=null==c?we(a):c(a,n||"",s);li(e)?e.setAttribute(t,s,f,i):i?t.setAttributeNS(i,s,f):t.setAttribute(s,f)}}(t[11],c,a,e.value,i,n,s)}function LM(e,t,i,n,s,a){const c=a[t];if(null!==c){const f=n.setInput;for(let v=0;v<c.length;){const M=c[v++],D=c[v++],I=c[v++];null!==f?n.setInput(i,I,M,D):i[D]=I}}}function VM(e,t){let i=null,n=0;for(;n<t.length;){const s=t[n];if(0!==s)if(5!==s){if("number"==typeof s)break;e.hasOwnProperty(s)&&(null===i&&(i=[]),i.push(s,e[s],t[n+1])),n+=2}else n+=2;else n+=4}return i}function Lm(e,t,i,n){return new Array(e,!0,!1,t,null,0,n,i,null,null)}function RM(e,t){const i=fn(t,e);if(bu(i)){const n=i[1];80&i[2]?no(n,i,n.template,i[8]):i[5]>0&&Sc(i)}}function Sc(e){for(let n=ec(e);null!==n;n=tc(n))for(let s=10;s<n.length;s++){const a=n[s];if(1024&a[2]){const c=a[1];no(c,a,c.template,a[8])}else a[5]>0&&Sc(a)}const i=e[1].components;if(null!==i)for(let n=0;n<i.length;n++){const s=fn(i[n],e);bu(s)&&s[5]>0&&Sc(s)}}function NM(e,t){const i=fn(t,e),n=i[1];(function WM(e,t){for(let i=t.length;i<e.blueprint.length;i++)t.push(e.blueprint[i])})(n,i),ga(n,i,i[8])}function Xl(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function Dc(e){for(;e;){e[2]|=64;const t=da(e);if(bC(e)&&!t)return e;e=t}return null}function Vm(e){!function Pc(e){for(let t=0;t<e.components.length;t++){const i=e.components[t],n=Ku(i),s=n[1];vM(s,n,s.template,i)}}(e[8])}function Ac(e,t,i){Su(0),t(e,i)}const jM=(()=>Promise.resolve(null))();function Om(e){return e[7]||(e[7]=[])}function Bm(e){return e.cleanup||(e.cleanup=[])}function Nm(e,t){const i=e[9],n=i?i.get(ca,null):null;n&&n.handleError(t)}function Wm(e,t,i,n,s){for(let a=0;a<i.length;){const c=i[a++],f=i[a++],v=t[c],M=e.data[c];null!==M.setInput?M.setInput(v,s,n,f):v[f]=s}}function As(e,t,i){const n=gl(t,e);!function Ug(e,t,i){li(e)?e.setValue(t,i):t.textContent=i}(e[11],n,i)}function zl(e,t,i){let n=i?e.styles:null,s=i?e.classes:null,a=0;if(null!==t)for(let c=0;c<t.length;c++){const f=t[c];"number"==typeof f?a=f:1==a?s=K(s,f):2==a&&(n=K(n,f+": "+t[++c]+";"))}i?e.styles=n:e.stylesWithoutHost=n,i?e.classes=s:e.classesWithoutHost=s}const Ec=new yt("INJECTOR",-1);class Hm{get(t,i=ia){if(i===ia){const n=new Error(`NullInjectorError: No provider for ${G(t)}!`);throw n.name="NullInjectorError",n}return i}}const Ic=new yt("Set Injector scope."),ma={},zM={};let Fc;function jm(){return void 0===Fc&&(Fc=new Hm),Fc}function Um(e,t=null,i=null,n){const s=Xm(e,t,i,n);return s._resolveInjectorDefTypes(),s}function Xm(e,t=null,i=null,n){return new YM(e,i,t||jm(),n)}class YM{constructor(t,i,n,s=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const a=[];i&&ls(i,f=>this.processProvider(f,t,i)),ls([t],f=>this.processInjectorType(f,[],a)),this.records.set(Ec,so(void 0,this));const c=this.records.get(Ic);this.scope=null!=c?c.value:null,this.source=s||("object"==typeof t?null:G(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,i=ia,n=Ce.Default){this.assertNotDestroyed();const s=fg(this),a=Hs(void 0);try{if(!(n&Ce.SkipSelf)){let f=this.records.get(t);if(void 0===f){const v=function eT(e){return"function"==typeof e||"object"==typeof e&&e instanceof yt}(t)&&Jt(t);f=v&&this.injectableDefInScope(v)?so(Lc(t),ma):null,this.records.set(t,f)}if(null!=f)return this.hydrate(t,f)}return(n&Ce.Self?jm():this.parent).get(t,i=n&Ce.Optional&&i===ia?null:i)}catch(c){if("NullInjectorError"===c.name){if((c[Al]=c[Al]||[]).unshift(G(t)),s)throw c;return function k1(e,t,i,n){const s=e[Al];throw t[pg]&&s.unshift(t[pg]),e.message=function A1(e,t,i,n=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let s=G(t);if(Array.isArray(t))s=t.map(G).join(" -> ");else if("object"==typeof t){let a=[];for(let c in t)if(t.hasOwnProperty(c)){let f=t[c];a.push(c+":"+("string"==typeof f?JSON.stringify(f):G(f)))}s=`{${a.join(", ")}}`}return`${i}${n?"("+n+")":""}[${s}]: ${e.replace(w1,"\n  ")}`}("\n"+e.message,s,i,n),e.ngTokenPath=s,e[Al]=null,e}(c,t,"R3InjectorError",this.source)}throw c}finally{Hs(a),fg(s)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((n,s)=>t.push(G(s))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new W(205,!1)}processInjectorType(t,i,n){if(!(t=O(t)))return!1;let s=ke(t);const a=null==s&&t.ngModule||void 0,c=void 0===a?t:a,f=-1!==n.indexOf(c);if(void 0!==a&&(s=ke(a)),null==s)return!1;if(null!=s.imports&&!f){let D;n.push(c);try{ls(s.imports,I=>{this.processInjectorType(I,i,n)&&(void 0===D&&(D=[]),D.push(I))})}finally{}if(void 0!==D)for(let I=0;I<D.length;I++){const{ngModule:R,providers:N}=D[I];ls(N,Z=>this.processProvider(Z,R,N||Gt))}}this.injectorDefTypes.add(c);const v=gr(c)||(()=>new c);this.records.set(c,so(v,ma));const M=s.providers;if(null!=M&&!f){const D=t;ls(M,I=>this.processProvider(I,D,M))}return void 0!==a&&void 0!==t.providers}processProvider(t,i,n){let s=ro(t=O(t))?t:O(t&&t.provide);const a=function GM(e,t,i){return Ym(e)?so(void 0,e.useValue):so(zm(e),ma)}(t);if(ro(t)||!0!==t.multi)this.records.get(s);else{let c=this.records.get(s);c||(c=so(void 0,ma,!0),c.factory=()=>Nu(c.multi),this.records.set(s,c)),s=t,c.multi.push(t)}this.records.set(s,a)}hydrate(t,i){return i.value===ma&&(i.value=zM,i.value=i.factory()),"object"==typeof i.value&&i.value&&function qM(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(i.value)&&this.onDestroy.add(i.value),i.value}injectableDefInScope(t){if(!t.providedIn)return!1;const i=O(t.providedIn);return"string"==typeof i?"any"===i||i===this.scope:this.injectorDefTypes.has(i)}}function Lc(e){const t=Jt(e),i=null!==t?t.factory:gr(e);if(null!==i)return i;if(e instanceof yt)throw new W(204,!1);if(e instanceof Function)return function $M(e){const t=e.length;if(t>0)throw function ta(e,t){const i=[];for(let n=0;n<e;n++)i.push(t);return i}(t,"?"),new W(204,!1);const i=function Ne(e){const t=e&&(e[ct]||e[Ai]);if(t){const i=function at(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${i}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${i}" class.`),t}return null}(e);return null!==i?()=>i.factory(e):()=>new e}(e);throw new W(204,!1)}function zm(e,t,i){let n;if(ro(e)){const s=O(e);return gr(s)||Lc(s)}if(Ym(e))n=()=>O(e.useValue);else if(function QM(e){return!(!e||!e.useFactory)}(e))n=()=>e.useFactory(...Nu(e.deps||[]));else if(function KM(e){return!(!e||!e.useExisting)}(e))n=()=>Oe(O(e.useExisting));else{const s=O(e&&(e.useClass||e.provide));if(!function ZM(e){return!!e.deps}(e))return gr(s)||Lc(s);n=()=>new s(...Nu(e.deps))}return n}function so(e,t,i=!1){return{factory:e,value:t,multi:i?[]:void 0}}function Ym(e){return null!==e&&"object"==typeof e&&T1 in e}function ro(e){return"function"==typeof e}let en=(()=>{class e{static create(i,n){var s;if(Array.isArray(i))return Um({name:""},n,i,"");{const a=null!==(s=i.name)&&void 0!==s?s:"";return Um({name:a},i.parent,i.providers,a)}}}return e.THROW_IF_NOT_FOUND=ia,e.NULL=new Hm,e.\u0275prov=Pe({token:e,providedIn:"any",factory:()=>Oe(Ec)}),e.__NG_ELEMENT_ID__=-1,e})();function lT(e,t){vl(Ku(e)[1],Si())}function Xt(e){let t=function sx(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),i=!0;const n=[e];for(;t;){let s;if(zn(e))s=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new W(903,"");s=t.\u0275dir}if(s){if(i){n.push(s);const c=e;c.inputs=Bc(e.inputs),c.declaredInputs=Bc(e.declaredInputs),c.outputs=Bc(e.outputs);const f=s.hostBindings;f&&dT(e,f);const v=s.viewQuery,M=s.contentQueries;if(v&&uT(e,v),M&&cT(e,M),ae(e.inputs,s.inputs),ae(e.declaredInputs,s.declaredInputs),ae(e.outputs,s.outputs),zn(s)&&s.data.animation){const D=e.data;D.animation=(D.animation||[]).concat(s.data.animation)}}const a=s.features;if(a)for(let c=0;c<a.length;c++){const f=a[c];f&&f.ngInherit&&f(e),f===Xt&&(i=!1)}}t=Object.getPrototypeOf(t)}!function hT(e){let t=0,i=null;for(let n=e.length-1;n>=0;n--){const s=e[n];s.hostVars=t+=s.hostVars,s.hostAttrs=wl(s.hostAttrs,i=wl(i,s.hostAttrs))}}(n)}function Bc(e){return e===Or?{}:e===Gt?[]:e}function uT(e,t){const i=e.viewQuery;e.viewQuery=i?(n,s)=>{t(n,s),i(n,s)}:t}function cT(e,t){const i=e.contentQueries;e.contentQueries=i?(n,s,a)=>{t(n,s,a),i(n,s,a)}:t}function dT(e,t){const i=e.hostBindings;e.hostBindings=i?(n,s)=>{t(n,s),i(n,s)}:t}let Yl=null;function oo(){if(!Yl){const e=Yt.Symbol;if(e&&e.iterator)Yl=e.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let i=0;i<t.length;++i){const n=t[i];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Yl=n)}}}return Yl}function xa(e){return!!Rc(e)&&(Array.isArray(e)||!(e instanceof Map)&&oo()in e)}function Rc(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Yi(e,t,i){return!Object.is(e[t],i)&&(e[t]=i,!0)}function ps(e,t,i,n){const s=xe();return Yi(s,jr(),t)&&(It(),cs(hi(),s,e,t,i,n)),ps}function lo(e,t,i,n){return Yi(e,jr(),i)?t+we(i)+n:ut}function ho(e,t,i,n,s,a){const f=function xr(e,t,i,n){const s=Yi(e,t,i);return Yi(e,t+1,n)||s}(e,function Ds(){return ht.lFrame.bindingIndex}(),i,s);return Ps(2),f?t+we(i)+n+we(s)+a:ut}function vt(e,t,i,n,s,a,c,f){const v=xe(),M=It(),D=e+20,I=M.firstCreatePass?function vT(e,t,i,n,s,a,c,f,v){const M=t.consts,D=to(t,e,4,c||null,Xs(M,f));Mc(t,i,D,Xs(M,v)),vl(t,D);const I=D.tViews=Ul(2,D,n,s,a,t.directiveRegistry,t.pipeRegistry,null,t.schemas,M);return null!==t.queries&&(t.queries.template(t,D),I.queries=t.queries.embeddedTView(D)),D}(D,M,v,t,i,n,s,a,c):M.data[D];as(I,!1);const R=v[11].createComment("");Rl(M,v,R,I),zi(R,v),Xl(v,v[D]=Lm(R,v,R,I)),fl(I)&&Cc(M,v,I),null!=c&&wc(v,I,f)}function de(e,t=Ce.Default){const i=xe();return null===i?Oe(e,t):ng(Si(),i,O(e),t)}function Uc(){throw new Error("invalid")}function Ve(e,t,i){const n=xe();return Yi(n,jr(),t)&&xn(It(),hi(),n,e,t,n[11],i,!1),Ve}function Xc(e,t,i,n,s){const c=s?"class":"style";Wm(e,i,t.inputs[c],c,n)}function X(e,t,i,n){const s=xe(),a=It(),c=20+e,f=s[11],v=s[c]=nc(f,t,function ZC(){return ht.lFrame.currentNamespace}()),M=a.firstCreatePass?function WT(e,t,i,n,s,a,c){const f=t.consts,M=to(t,e,2,s,Xs(f,a));return Mc(t,i,M,Xs(f,c)),null!==M.attrs&&zl(M,M.attrs,!1),null!==M.mergedAttrs&&zl(M,M.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,M),M}(c,a,s,0,t,i,n):a.data[c];as(M,!0);const D=M.mergedAttrs;null!==D&&Cl(f,v,D);const I=M.classes;null!==I&&hc(f,v,I);const R=M.styles;return null!==R&&nm(f,v,R),64!=(64&M.flags)&&Rl(a,s,v,M),0===function OC(){return ht.lFrame.elementDepthCount}()&&zi(v,s),function BC(){ht.lFrame.elementDepthCount++}(),fl(M)&&(Cc(a,s,M),function Cm(e,t,i){if(du(t)){const s=t.directiveEnd;for(let a=t.directiveStart;a<s;a++){const c=e.data[a];c.contentQueries&&c.contentQueries(1,i[a],a)}}}(a,M,s)),null!==n&&wc(s,M),X}function $(){let e=Si();Cu()?function wu(){ht.lFrame.isParent=!1}():(e=e.parent,as(e,!1));const t=e;!function RC(){ht.lFrame.elementDepthCount--}();const i=It();return i.firstCreatePass&&(vl(i,e),du(e)&&i.queries.elementEnd(e)),null!=t.classesWithoutHost&&function n1(e){return 0!=(16&e.flags)}(t)&&Xc(i,t,xe(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function s1(e){return 0!=(32&e.flags)}(t)&&Xc(i,t,xe(),t.stylesWithoutHost,!1),$}function Ue(e,t,i,n){return X(e,t,i,n),$(),Ue}function hn(){return xe()}function va(e){return!!e&&"function"==typeof e.then}const $c=function Sx(e){return!!e&&"function"==typeof e.subscribe};function Xe(e,t,i,n){const s=xe(),a=It(),c=Si();return function Px(e,t,i,n,s,a,c,f){const v=fl(n),D=e.firstCreatePass&&Bm(e),I=t[8],R=Om(t);let N=!0;if(3&n.type||f){const ve=An(n,t),ye=f?f(ve):ve,oe=R.length,We=f?dt=>f(yi(dt[n.index])):n.index;if(li(i)){let dt=null;if(!f&&v&&(dt=function jT(e,t,i,n){const s=e.cleanup;if(null!=s)for(let a=0;a<s.length-1;a+=2){const c=s[a];if(c===i&&s[a+1]===n){const f=t[7],v=s[a+2];return f.length>v?f[v]:null}"string"==typeof c&&(a+=2)}return null}(e,t,s,n.index)),null!==dt)(dt.__ngLastListenerFn__||dt).__ngNextListenerFn__=a,dt.__ngLastListenerFn__=a,N=!1;else{a=Gc(n,t,I,a,!1);const Vt=i.listen(ye,s,a);R.push(a,Vt),D&&D.push(s,We,oe,oe+1)}}else a=Gc(n,t,I,a,!0),ye.addEventListener(s,a,c),R.push(a),D&&D.push(s,We,oe,c)}else a=Gc(n,t,I,a,!1);const Z=n.outputs;let le;if(N&&null!==Z&&(le=Z[s])){const ve=le.length;if(ve)for(let ye=0;ye<ve;ye+=2){const _n=t[le[ye]][le[ye+1]].subscribe(a),Ir=R.length;R.push(a,_n),D&&D.push(s,n.index,Ir,-(Ir+1))}}}(a,s,s[11],c,e,t,!!i,n),Xe}function kx(e,t,i,n){try{return!1!==i(n)}catch(s){return Nm(e,s),!1}}function Gc(e,t,i,n,s){return function a(c){if(c===Function)return n;const f=2&e.flags?fn(e.index,t):t;0==(32&t[2])&&Dc(f);let v=kx(t,0,n,c),M=a.__ngNextListenerFn__;for(;M;)v=kx(t,0,M,c)&&v,M=M.__ngNextListenerFn__;return s&&!1===v&&(c.preventDefault(),c.returnValue=!1),v}}function Et(e=1){return function YC(e){return(ht.lFrame.contextLView=function $C(e,t){for(;e>0;)t=t[15],e--;return t}(e,ht.lFrame.contextLView))[8]}(e)}function Kc(e,t,i){return Qc(e,"",t,"",i),Kc}function Qc(e,t,i,n,s){const a=xe(),c=lo(a,t,i,n);return c!==ut&&xn(It(),hi(),a,e,c,a[11],s,!1),Qc}function Rx(e,t,i,n,s){const a=e[i+1],c=null===t;let f=n?$n(a):ks(a),v=!1;for(;0!==f&&(!1===v||c);){const D=e[f+1];GT(e[f],t)&&(v=!0,e[f+1]=n?dc(D):uc(D)),f=n?$n(D):ks(D)}v&&(e[i+1]=n?uc(a):dc(a))}function GT(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Qr(e,t)>=0}function Kl(e,t){return function Kn(e,t,i,n){const s=xe(),a=It(),c=Ps(2);a.firstUpdatePass&&function $x(e,t,i,n){const s=e.data;if(null===s[i+1]){const a=s[Zi()],c=function Yx(e,t){return t>=e.expandoStartIndex}(e,i);(function Jx(e,t){return 0!=(e.flags&(t?16:32))})(a,n)&&null===t&&!c&&(t=!1),t=function nS(e,t,i,n){const s=function Tu(e){const t=ht.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let a=n?t.residualClasses:t.residualStyles;if(null===s)0===(n?t.classBindings:t.styleBindings)&&(i=ba(i=Jc(null,e,t,i,n),t.attrs,n),a=null);else{const c=t.directiveStylingLast;if(-1===c||e[c]!==s)if(i=Jc(s,e,t,i,n),null===a){let v=function sS(e,t,i){const n=i?t.classBindings:t.styleBindings;if(0!==ks(n))return e[$n(n)]}(e,t,n);void 0!==v&&Array.isArray(v)&&(v=Jc(null,e,t,v[1],n),v=ba(v,t.attrs,n),function rS(e,t,i,n){e[$n(i?t.classBindings:t.styleBindings)]=n}(e,t,n,v))}else a=function oS(e,t,i){let n;const s=t.directiveEnd;for(let a=1+t.directiveStylingLast;a<s;a++)n=ba(n,e[a].hostAttrs,i);return ba(n,t.attrs,i)}(e,t,n)}return void 0!==a&&(n?t.residualClasses=a:t.residualStyles=a),i}(s,a,t,n),function YT(e,t,i,n,s,a){let c=a?t.classBindings:t.styleBindings,f=$n(c),v=ks(c);e[n]=i;let D,M=!1;if(Array.isArray(i)){const I=i;D=I[1],(null===D||Qr(I,D)>0)&&(M=!0)}else D=i;if(s)if(0!==v){const R=$n(e[f+1]);e[n+1]=Wl(R,f),0!==R&&(e[R+1]=cc(e[R+1],n)),e[f+1]=function oM(e,t){return 131071&e|t<<17}(e[f+1],n)}else e[n+1]=Wl(f,0),0!==f&&(e[f+1]=cc(e[f+1],n)),f=n;else e[n+1]=Wl(v,0),0===f?f=n:e[v+1]=cc(e[v+1],n),v=n;M&&(e[n+1]=uc(e[n+1])),Rx(e,D,n,!0),Rx(e,D,n,!1),function $T(e,t,i,n,s){const a=s?e.residualClasses:e.residualStyles;null!=a&&"string"==typeof t&&Qr(a,t)>=0&&(i[n+1]=dc(i[n+1]))}(t,D,e,n,a),c=Wl(f,v),a?t.classBindings=c:t.styleBindings=c}(s,a,t,i,c,n)}}(a,e,c,n),t!==ut&&Yi(s,c,t)&&function Kx(e,t,i,n,s,a,c,f){if(!(3&t.type))return;const v=e.data,M=v[f+1];Ql(function dm(e){return 1==(1&e)}(M)?Qx(v,t,i,s,ks(M),c):void 0)||(Ql(a)||function cm(e){return 2==(2&e)}(M)&&(a=Qx(v,null,i,s,f,c)),function Gw(e,t,i,n,s){const a=li(e);if(t)s?a?e.addClass(i,n):i.classList.add(n):a?e.removeClass(i,n):i.classList.remove(n);else{let c=-1===n.indexOf("-")?void 0:mn.DashCase;if(null==s)a?e.removeStyle(i,n,c):i.style.removeProperty(n);else{const f="string"==typeof s&&s.endsWith("!important");f&&(s=s.slice(0,-10),c|=mn.Important),a?e.setStyle(i,n,s,c):i.style.setProperty(n,s,f?"important":"")}}}(n,c,gl(Zi(),i),s,a))}(a,a.data[Zi()],s,s[11],e,s[c+1]=function hS(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=G(Gs(e)))),e}(t,i),n,c)}(e,t,null,!0),Kl}function Jc(e,t,i,n,s){let a=null;const c=i.directiveEnd;let f=i.directiveStylingLast;for(-1===f?f=i.directiveStart:f++;f<c&&(a=t[f],n=ba(n,a.hostAttrs,s),a!==e);)f++;return null!==e&&(i.directiveStylingLast=f),n}function ba(e,t,i){const n=i?1:2;let s=-1;if(null!==t)for(let a=0;a<t.length;a++){const c=t[a];"number"==typeof c?s=c:s===n&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),gn(e,c,!!i||t[++a]))}return void 0===e?null:e}function Qx(e,t,i,n,s,a){const c=null===t;let f;for(;s>0;){const v=e[s],M=Array.isArray(v),D=M?v[1]:v,I=null===D;let R=i[s+1];R===ut&&(R=I?Gt:void 0);let N=I?Ou(R,n):D===n?R:void 0;if(M&&!Ql(N)&&(N=Ou(v,n)),Ql(N)&&(f=N,c))return f;const Z=e[s+1];s=c?$n(Z):ks(Z)}if(null!==t){let v=a?t.residualClasses:t.residualStyles;null!=v&&(f=Ou(v,n))}return f}function Ql(e){return void 0!==e}function q(e,t=""){const i=xe(),n=It(),s=e+20,a=n.firstCreatePass?to(n,s,1,t,null):n.data[s],c=i[s]=function ic(e,t){return li(e)?e.createText(t):e.createTextNode(t)}(i[11],t);Rl(n,i,c,a),as(a,!1)}function Es(e){return vo("",e,""),Es}function vo(e,t,i){const n=xe(),s=lo(n,e,t,i);return s!==ut&&As(n,Zi(),s),vo}function Zc(e,t,i,n,s){const a=xe(),c=ho(a,e,t,i,n,s);return c!==ut&&As(a,Zi(),c),Zc}const Jl="en-US";let yy=Jl;function td(e,t,i,n,s){if(e=O(e),Array.isArray(e))for(let a=0;a<e.length;a++)td(e[a],t,i,n,s);else{const a=It(),c=xe();let f=ro(e)?e:O(e.provide),v=zm(e);const M=Si(),D=1048575&M.providerIndexes,I=M.directiveStart,R=M.providerIndexes>>20;if(ro(e)||!e.multi){const N=new Go(v,s,de),Z=nd(f,t,s?D:D+R,I);-1===Z?(Sl(Qo(M,c),a,f),id(a,e,t.length),t.push(f),M.directiveStart++,M.directiveEnd++,s&&(M.providerIndexes+=1048576),i.push(N),c.push(N)):(i[Z]=N,c[Z]=N)}else{const N=nd(f,t,D+R,I),Z=nd(f,t,D,D+R),le=N>=0&&i[N],ve=Z>=0&&i[Z];if(s&&!ve||!s&&!le){Sl(Qo(M,c),a,f);const ye=function PD(e,t,i,n,s){const a=new Go(e,i,de);return a.multi=[],a.index=t,a.componentProviders=0,jy(a,s,n&&!i),a}(s?DD:SD,i.length,s,n,v);!s&&ve&&(i[Z].providerFactory=ye),id(a,e,t.length,0),t.push(f),M.directiveStart++,M.directiveEnd++,s&&(M.providerIndexes+=1048576),i.push(ye),c.push(ye)}else id(a,e,N>-1?N:Z,jy(i[s?Z:N],v,!s&&n));!s&&n&&ve&&i[Z].componentProviders++}}}function id(e,t,i,n){const s=ro(t),a=function JM(e){return!!e.useClass}(t);if(s||a){const v=(a?O(t.useClass):t).prototype.ngOnDestroy;if(v){const M=e.destroyHooks||(e.destroyHooks=[]);if(!s&&t.multi){const D=M.indexOf(i);-1===D?M.push(i,[n,v]):M[D+1].push(n,v)}else M.push(i,v)}}}function jy(e,t,i){return i&&e.componentProviders++,e.multi.push(t)-1}function nd(e,t,i,n){for(let s=i;s<n;s++)if(t[s]===e)return s;return-1}function SD(e,t,i,n){return sd(this.multi,[])}function DD(e,t,i,n){const s=this.multi;let a;if(this.providerFactory){const c=this.providerFactory.componentProviders,f=Jo(i,i[1],this.providerFactory.index,n);a=f.slice(0,c),sd(s,a);for(let v=c;v<f.length;v++)a.push(f[v])}else a=[],sd(s,a);return a}function sd(e,t){for(let i=0;i<e.length;i++)t.push((0,e[i])());return t}function ii(e,t=[]){return i=>{i.providersResolver=(n,s)=>function TD(e,t,i){const n=It();if(n.firstCreatePass){const s=zn(e);td(i,n.data,n.blueprint,s,!0),td(t,n.data,n.blueprint,s,!1)}}(n,s?s(e):e,t)}}class Uy{}class ED{resolveComponentFactory(t){throw function AD(e){const t=Error(`No component factory found for ${G(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(t)}}let Ta=(()=>{class e{}return e.NULL=new ED,e})();function ID(){return Co(Si(),xe())}function Co(e,t){return new yn(An(e,t))}let yn=(()=>{class e{constructor(i){this.nativeElement=i}}return e.__NG_ELEMENT_ID__=ID,e})();class zy{}let Is=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>function VD(){const e=xe(),i=fn(Si().index,e);return function LD(e){return e[11]}(os(i)?i:e)}(),e})(),OD=(()=>{class e{}return e.\u0275prov=Pe({token:e,providedIn:"root",factory:()=>null}),e})();class Sa{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const BD=new Sa("13.3.11"),rd={};function ih(e,t,i,n,s=!1){for(;null!==i;){const a=t[i.index];if(null!==a&&n.push(yi(a)),Xn(a))for(let f=10;f<a.length;f++){const v=a[f],M=v[1].firstChild;null!==M&&ih(v[1],v,M,n)}const c=i.type;if(8&c)ih(e,t,i.child,n);else if(32&c){const f=qu(i,t);let v;for(;v=f();)n.push(v)}else if(16&c){const f=em(t,i);if(Array.isArray(f))n.push(...f);else{const v=da(t[16]);ih(v[1],v,f,n,!0)}}i=s?i.projectionNext:i.next}return n}class Da{constructor(t,i){this._lView=t,this._cdRefInjectingView=i,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,i=t[1];return ih(i,t,i.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(Xn(t)){const i=t[8],n=i?i.indexOf(this):-1;n>-1&&(sc(t,n),Pl(i,n))}this._attachedToViewContainer=!1}zg(this._lView[1],this._lView)}onDestroy(t){!function Sm(e,t,i,n){const s=Om(t);null===i?s.push(n):(s.push(i),e.firstCreatePass&&Bm(e).push(n,s.length-1))}(this._lView[1],this._lView,null,t)}markForCheck(){Dc(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){!function kc(e,t,i){const n=t[10];n.begin&&n.begin();try{no(e,t,e.template,i)}catch(s){throw Nm(t,s),s}finally{n.end&&n.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new W(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Rw(e,t){pa(e,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new W(902,"");this._appRef=t}}class RD extends Da{constructor(t){super(t),this._view=t}detectChanges(){Vm(this._view)}checkNoChanges(){}get context(){return null}}class Yy extends Ta{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const i=ji(t);return new od(i,this.ngModule)}}function $y(e){const t=[];for(let i in e)e.hasOwnProperty(i)&&t.push({propName:e[i],templateName:i});return t}class od extends Uy{constructor(t,i){super(),this.componentDef=t,this.ngModule=i,this.componentType=t.type,this.selector=function sM(e){return e.map(nM).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!i}get inputs(){return $y(this.componentDef.inputs)}get outputs(){return $y(this.componentDef.outputs)}create(t,i,n,s){const a=(s=s||this.ngModule)?function WD(e,t){return{get:(i,n,s)=>{const a=e.get(i,rd,s);return a!==rd||n===rd?a:t.get(i,n,s)}}}(t,s.injector):t,c=a.get(zy,Vf),f=a.get(OD,null),v=c.createRenderer(null,this.componentDef),M=this.componentDef.selectors[0][0]||"div",D=n?function Tm(e,t,i){if(li(e))return e.selectRootElement(t,i===rs.ShadowDom);let n="string"==typeof t?e.querySelector(t):t;return n.textContent="",n}(v,n,this.componentDef.encapsulation):nc(c.createRenderer(null,this.componentDef),M,function ND(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(M)),I=this.componentDef.onPush?576:528,R=function nx(e,t){return{components:[],scheduler:e||Aw,clean:jM,playerHandler:t||null,flags:0}}(),N=Ul(0,null,null,1,0,null,null,null,null,null),Z=fa(null,N,R,I,null,null,c,v,f,a);let le,ve;xl(Z);try{const ye=function tx(e,t,i,n,s,a){const c=i[1];i[20]=e;const v=to(c,20,2,"#host",null),M=v.mergedAttrs=t.hostAttrs;null!==M&&(zl(v,M,!0),null!==e&&(Cl(s,e,M),null!==v.classes&&hc(s,e,v.classes),null!==v.styles&&nm(s,e,v.styles)));const D=n.createRenderer(e,t),I=fa(i,wm(t),null,t.onPush?64:16,i[20],v,n,D,a||null,null);return c.firstCreatePass&&(Sl(Qo(v,i),c,t.type),Em(c,v),Im(v,i.length,1)),Xl(i,I),i[20]=I}(D,this.componentDef,Z,c,v);if(D)if(n)Cl(v,D,["ng-version",BD.full]);else{const{attrs:oe,classes:We}=function rM(e){const t=[],i=[];let n=1,s=2;for(;n<e.length;){let a=e[n];if("string"==typeof a)2===s?""!==a&&t.push(a,e[++n]):8===s&&i.push(a);else{if(!Yn(s))break;s=a}n++}return{attrs:t,classes:i}}(this.componentDef.selectors[0]);oe&&Cl(v,D,oe),We&&We.length>0&&hc(v,D,We.join(" "))}if(ve=vu(N,20),void 0!==i){const oe=ve.projection=[];for(let We=0;We<this.ngContentSelectors.length;We++){const dt=i[We];oe.push(null!=dt?Array.from(dt):null)}}le=function ix(e,t,i,n,s){const a=i[1],c=function SM(e,t,i){const n=Si();e.firstCreatePass&&(i.providersResolver&&i.providersResolver(i),Fm(e,n,t,io(e,t,1,null),i));const s=Jo(t,e,n.directiveStart,n);zi(s,t);const a=An(n,t);return a&&zi(a,t),s}(a,i,t);if(n.components.push(c),e[8]=c,s&&s.forEach(v=>v(c,t)),t.contentQueries){const v=Si();t.contentQueries(1,c,v.directiveStart)}const f=Si();return!a.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(zs(f.index),km(i[1],f,0,f.directiveStart,f.directiveEnd,t),Am(t,c)),c}(ye,this.componentDef,Z,R,[lT]),ga(N,Z,null)}finally{yl()}return new jD(this.componentType,le,Co(ve,Z),Z,ve)}}class jD extends class kD{}{constructor(t,i,n,s,a){super(),this.location=n,this._rootLView=s,this._tNode=a,this.instance=i,this.hostView=this.changeDetectorRef=new RD(s),this.componentType=t}get injector(){return new zr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}class Fs{}class Gy{}const wo=new Map;class Jy extends Fs{constructor(t,i){super(),this._parent=i,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Yy(this);const n=Dn(t);this._bootstrapComponents=us(n.bootstrap),this._r3Injector=Xm(t,i,[{provide:Fs,useValue:this},{provide:Ta,useValue:this.componentFactoryResolver}],G(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,i=en.THROW_IF_NOT_FOUND,n=Ce.Default){return t===en||t===Fs||t===Ec?this:this._r3Injector.get(t,i,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class ad extends Gy{constructor(t){super(),this.moduleType=t,null!==Dn(t)&&function XD(e){const t=new Set;!function i(n){const s=Dn(n,!0),a=s.id;null!==a&&(function Ky(e,t,i){if(t&&t!==i)throw new Error(`Duplicate module registered for ${e} - ${G(t)} vs ${G(t.name)}`)}(a,wo.get(a),n),wo.set(a,n));const c=us(s.imports);for(const f of c)t.has(f)||(t.add(f),i(f))}(e)}(t)}create(t){return new Jy(this.moduleType,t)}}function vr(e,t,i){const n=function Ji(){const e=ht.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}()+e,s=xe();return s[n]===ut?function ds(e,t,i){return e[t]=i}(s,n,i?t.call(i):t()):function ya(e,t){return e[t]}(s,n)}function ld(e){return t=>{setTimeout(e,void 0,t)}}const Wt=class aP extends Y{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,i,n){var s,a,c;let f=t,v=i||(()=>null),M=n;if(t&&"object"==typeof t){const I=t;f=null===(s=I.next)||void 0===s?void 0:s.bind(I),v=null===(a=I.error)||void 0===a?void 0:a.bind(I),M=null===(c=I.complete)||void 0===c?void 0:c.bind(I)}this.__isAsync&&(v=ld(v),f&&(f=ld(f)),M&&(M=ld(M)));const D=super.subscribe({next:f,error:v,complete:M});return t instanceof Ft&&t.add(D),D}};Symbol;let Ls=(()=>{class e{}return e.__NG_ELEMENT_ID__=cP,e})();const hP=Ls,uP=class extends hP{constructor(t,i,n){super(),this._declarationLView=t,this._declarationTContainer=i,this.elementRef=n}createEmbeddedView(t){const i=this._declarationTContainer.tViews,n=fa(this._declarationLView,i,t,16,null,i.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const a=this._declarationLView[19];return null!==a&&(n[19]=a.createEmbeddedView(i)),ga(i,n,t),new Da(n)}};function cP(){return nh(Si(),xe())}function nh(e,t){return 4&e.type?new uP(t,e,Co(e,t)):null}let Jn=(()=>{class e{}return e.__NG_ELEMENT_ID__=dP,e})();function dP(){return function rv(e,t){let i;const n=t[e.index];if(Xn(n))i=n;else{let s;if(8&e.type)s=yi(n);else{const a=t[11];s=a.createComment("");const c=An(e,t);mr(a,Bl(a,c),s,function zw(e,t){return li(e)?e.nextSibling(t):t.nextSibling}(a,c),!1)}t[e.index]=i=Lm(n,t,s,e),Xl(t,i)}return new nv(i,e,t)}(Si(),xe())}const pP=Jn,nv=class extends pP{constructor(t,i,n){super(),this._lContainer=t,this._hostTNode=i,this._hostLView=n}get element(){return Co(this._hostTNode,this._hostLView)}get injector(){return new zr(this._hostTNode,this._hostLView)}get parentInjector(){const t=Tl(this._hostTNode,this._hostLView);if(Zf(t)){const i=Xr(t,this._hostLView),n=Ur(t);return new zr(i[1].data[n+8],i)}return new zr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const i=sv(this._lContainer);return null!==i&&i[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,i,n){const s=t.createEmbeddedView(i||{});return this.insert(s,n),s}createComponent(t,i,n,s,a){const c=t&&!function ea(e){return"function"==typeof e}(t);let f;if(c)f=i;else{const I=i||{};f=I.index,n=I.injector,s=I.projectableNodes,a=I.ngModuleRef}const v=c?t:new od(ji(t)),M=n||this.parentInjector;if(!a&&null==v.ngModule){const R=(c?M:this.parentInjector).get(Fs,null);R&&(a=R)}const D=v.create(M,s,void 0,a);return this.insert(D.hostView,f),D}insert(t,i){const n=t._lView,s=n[1];if(function VC(e){return Xn(e[3])}(n)){const D=this.indexOf(t);if(-1!==D)this.detach(D);else{const I=n[3],R=new nv(I,I[6],I[3]);R.detach(R.indexOf(t))}}const a=this._adjustIndex(i),c=this._lContainer;!function Ww(e,t,i,n){const s=10+n,a=i.length;n>0&&(i[s-1][4]=t),n<a-10?(t[4]=i[s],lg(i,10+n,t)):(i.push(t),t[4]=null),t[3]=i;const c=t[17];null!==c&&i!==c&&function Hw(e,t){const i=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===i?e[9]=[t]:i.push(t)}(c,t);const f=t[19];null!==f&&f.insertView(e),t[2]|=128}(s,n,c,a);const f=ac(a,c),v=n[11],M=Bl(v,c[7]);return null!==M&&function Bw(e,t,i,n,s,a){n[0]=s,n[6]=t,pa(e,n,i,1,s,a)}(s,c[6],v,n,M,f),t.attachToViewContainerRef(),lg(ud(c),a,t),t}move(t,i){return this.insert(t,i)}indexOf(t){const i=sv(this._lContainer);return null!==i?i.indexOf(t):-1}remove(t){const i=this._adjustIndex(t,-1),n=sc(this._lContainer,i);n&&(Pl(ud(this._lContainer),i),zg(n[1],n))}detach(t){const i=this._adjustIndex(t,-1),n=sc(this._lContainer,i);return n&&null!=Pl(ud(this._lContainer),i)?new Da(n):null}_adjustIndex(t,i=0){return null==t?this.length+i:t}};function sv(e){return e[8]}function ud(e){return e[8]||(e[8]=[])}function cv(e,t){return nh(e,t)}function oh(...e){}const Md=new yt("Application Initializer");let Td=(()=>{class e{constructor(i){this.appInits=i,this.resolve=oh,this.reject=oh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,s)=>{this.resolve=n,this.reject=s})}runInitializers(){if(this.initialized)return;const i=[],n=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let s=0;s<this.appInits.length;s++){const a=this.appInits[s]();if(va(a))i.push(a);else if($c(a)){const c=new Promise((f,v)=>{a.subscribe({complete:f,error:v})});i.push(c)}}Promise.all(i).then(()=>{n()}).catch(s=>{this.reject(s)}),0===i.length&&n(),this.initialized=!0}}return e.\u0275fac=function(i){return new(i||e)(Oe(Md,8))},e.\u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Ea=new yt("AppId",{providedIn:"root",factory:function Pv(){return`${Sd()}${Sd()}${Sd()}`}});function Sd(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const kv=new yt("Platform Initializer"),Dd=new yt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Av=new yt("appBootstrapListener");let NP=(()=>{class e{log(i){console.log(i)}warn(i){console.warn(i)}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const Js=new yt("LocaleId",{providedIn:"root",factory:()=>D1(Js,Ce.Optional|Ce.SkipSelf)||function WP(){return"undefined"!=typeof $localize&&$localize.locale||Jl}()});class jP{constructor(t,i){this.ngModuleFactory=t,this.componentFactories=i}}let Ev=(()=>{class e{compileModuleSync(i){return new ad(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){const n=this.compileModuleSync(i),a=us(Dn(i).declarations).reduce((c,f)=>{const v=ji(f);return v&&c.push(new od(v)),c},[]);return new jP(n,a)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const XP=(()=>Promise.resolve(0))();function Pd(e){"undefined"==typeof Zone?XP.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class Oi{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Wt(!1),this.onMicrotaskEmpty=new Wt(!1),this.onStable=new Wt(!1),this.onError=new Wt(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!n&&i,s.shouldCoalesceRunChangeDetection=n,s.lastRequestAnimationFrameId=-1,s.nativeRequestAnimationFrame=function zP(){let e=Yt.requestAnimationFrame,t=Yt.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i);const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function GP(e){const t=()=>{!function $P(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Yt,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Ad(e),e.isCheckStableRunning=!0,kd(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Ad(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(i,n,s,a,c,f)=>{try{return Iv(e),i.invokeTask(s,a,c,f)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===a.type||e.shouldCoalesceRunChangeDetection)&&t(),Fv(e)}},onInvoke:(i,n,s,a,c,f,v)=>{try{return Iv(e),i.invoke(s,a,c,f,v)}finally{e.shouldCoalesceRunChangeDetection&&t(),Fv(e)}},onHasTask:(i,n,s,a)=>{i.hasTask(s,a),n===s&&("microTask"==a.change?(e._hasPendingMicrotasks=a.microTask,Ad(e),kd(e)):"macroTask"==a.change&&(e.hasPendingMacrotasks=a.macroTask))},onHandleError:(i,n,s,a)=>(i.handleError(s,a),e.runOutsideAngular(()=>e.onError.emit(a)),!1)})}(s)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Oi.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Oi.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,i,n){return this._inner.run(t,i,n)}runTask(t,i,n,s){const a=this._inner,c=a.scheduleEventTask("NgZoneEvent: "+s,t,YP,oh,oh);try{return a.runTask(c,i,n)}finally{a.cancelTask(c)}}runGuarded(t,i,n){return this._inner.runGuarded(t,i,n)}runOutsideAngular(t){return this._outer.run(t)}}const YP={};function kd(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Ad(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function Iv(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Fv(e){e._nesting--,kd(e)}class KP{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Wt,this.onMicrotaskEmpty=new Wt,this.onStable=new Wt,this.onError=new Wt}run(t,i,n){return t.apply(i,n)}runGuarded(t,i,n){return t.apply(i,n)}runOutsideAngular(t){return t()}runTask(t,i,n,s){return t.apply(i,n)}}let Ed=(()=>{class e{constructor(i){this._ngZone=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Oi.assertNotInAngularZone(),Pd(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Pd(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb(this._didWork)}this._didWork=!1});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(n=>!n.updateCb||!n.updateCb(i)||(clearTimeout(n.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,n,s){let a=-1;n&&n>0&&(a=setTimeout(()=>{this._callbacks=this._callbacks.filter(c=>c.timeoutId!==a),i(this._didWork,this.getPendingTasks())},n)),this._callbacks.push({doneCb:i,timeoutId:a,updateCb:s})}whenStable(i,n,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,n,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(i,n,s){return[]}}return e.\u0275fac=function(i){return new(i||e)(Oe(Oi))},e.\u0275prov=Pe({token:e,factory:e.\u0275fac}),e})(),QP=(()=>{class e{constructor(){this._applications=new Map,Id.addToWindow(this)}registerApplication(i,n){this._applications.set(i,n)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,n=!0){return Id.findTestabilityInTree(this,i,n)}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();class JP{addToWindow(t){}findTestabilityInTree(t,i,n){return null}}let Id=new JP,br=null;const Lv=new yt("AllowMultipleToken"),Vv=new yt("PlatformOnDestroy");class Ov{constructor(t,i){this.name=t,this.token=i}}function Bv(e,t,i=[]){const n=`Platform: ${t}`,s=new yt(n);return(a=[])=>{let c=Fd();if(!c||c.injector.get(Lv,!1)){const f=[...i,...a,{provide:s,useValue:!0}];e?e(f):function tk(e){if(br&&!br.get(Lv,!1))throw new W(400,"");br=e;const t=e.get(Rv),i=e.get(kv,null);i&&i.forEach(n=>n())}(function nk(e=[],t){return en.create({name:t,providers:[{provide:Ic,useValue:"platform"},{provide:Vv,useValue:()=>br=null},...e]})}(f,n))}return function ik(e){const t=Fd();if(!t)throw new W(401,"");return t}()}}function Fd(){var e;return null!==(e=null==br?void 0:br.get(Rv))&&void 0!==e?e:null}let Rv=(()=>{class e{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,n){const f=function sk(e,t){let i;return i="noop"===e?new KP:("zone.js"===e?void 0:e)||new Oi({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),i}(n?n.ngZone:void 0,{ngZoneEventCoalescing:n&&n.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:n&&n.ngZoneRunCoalescing||!1}),v=[{provide:Oi,useValue:f}];return f.run(()=>{const M=en.create({providers:v,parent:this.injector,name:i.moduleType.name}),D=i.create(M),I=D.injector.get(ca,null);if(!I)throw new W(402,"");return f.runOutsideAngular(()=>{const R=f.onError.subscribe({next:N=>{I.handleError(N)}});D.onDestroy(()=>{Vd(this._modules,D),R.unsubscribe()})}),function rk(e,t,i){try{const n=i();return va(n)?n.catch(s=>{throw t.runOutsideAngular(()=>e.handleError(s)),s}):n}catch(n){throw t.runOutsideAngular(()=>e.handleError(n)),n}}(I,f,()=>{const R=D.injector.get(Td);return R.runInitializers(),R.donePromise.then(()=>(function LS(e){be(e,"Expected localeId to be defined"),"string"==typeof e&&(yy=e.toLowerCase().replace(/_/g,"-"))}(D.injector.get(Js,Jl)||Jl),this._moduleDoBootstrap(D),D))})})}bootstrapModule(i,n=[]){const s=Nv({},n);return function qP(e,t,i){const n=new ad(i);return Promise.resolve(n)}(0,0,i).then(a=>this.bootstrapModuleFactory(a,s))}_moduleDoBootstrap(i){const n=i.injector.get(Ld);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(s=>n.bootstrap(s));else{if(!i.instance.ngDoBootstrap)throw new W(403,"");i.instance.ngDoBootstrap(n)}this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new W(404,"");this._modules.slice().forEach(n=>n.destroy()),this._destroyListeners.forEach(n=>n());const i=this._injector.get(Vv,null);null==i||i(),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(i){return new(i||e)(Oe(en))},e.\u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();function Nv(e,t){return Array.isArray(t)?t.reduce(Nv,e):Object.assign(Object.assign({},e),t)}let Ld=(()=>{class e{constructor(i,n,s,a){this._zone=i,this._injector=n,this._exceptionHandler=s,this._initStatus=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new Nt(v=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{v.next(this._stable),v.complete()})}),f=new Nt(v=>{let M;this._zone.runOutsideAngular(()=>{M=this._zone.onStable.subscribe(()=>{Oi.assertNotInAngularZone(),Pd(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,v.next(!0))})})});const D=this._zone.onUnstable.subscribe(()=>{Oi.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{v.next(!1)}))});return()=>{M.unsubscribe(),D.unsubscribe()}});this.isStable=function H(...e){const t=w(e),i=function x(e,t){return"number"==typeof m(e)?e.pop():t}(e,1/0),n=e;return n.length?1===n.length?st(n[0]):u(i)(F(n,t)):l}(c,f.pipe(function z(e={}){const{connector:t=(()=>new Y),resetOnError:i=!0,resetOnComplete:n=!0,resetOnRefCountZero:s=!0}=e;return a=>{let c,f,v,M=0,D=!1,I=!1;const R=()=>{null==f||f.unsubscribe(),f=void 0},N=()=>{R(),c=v=void 0,D=I=!1},Z=()=>{const le=c;N(),null==le||le.unsubscribe()};return L((le,ve)=>{M++,!I&&!D&&R();const ye=v=null!=v?v:t();ve.add(()=>{M--,0===M&&!I&&!D&&(f=V(Z,s))}),ye.subscribe(ve),!c&&M>0&&(c=new Kt({next:oe=>ye.next(oe),error:oe=>{I=!0,R(),f=V(N,i,oe),ye.error(oe)},complete:()=>{D=!0,R(),f=V(N,n),ye.complete()}}),st(le).subscribe(c))})(a)}}()))}bootstrap(i,n){if(!this._initStatus.done)throw new W(405,"");let s;s=i instanceof Uy?i:this._injector.get(Ta).resolveComponentFactory(i),this.componentTypes.push(s.componentType);const a=function ek(e){return e.isBoundToModule}(s)?void 0:this._injector.get(Fs),f=s.create(en.NULL,[],n||s.selector,a),v=f.location.nativeElement,M=f.injector.get(Ed,null),D=M&&f.injector.get(QP);return M&&D&&D.registerApplication(v,M),f.onDestroy(()=>{this.detachView(f.hostView),Vd(this.components,f),D&&D.unregisterApplication(v)}),this._loadComponent(f),f}tick(){if(this._runningTick)throw new W(101,"");try{this._runningTick=!0;for(let i of this._views)i.detectChanges()}catch(i){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(i))}finally{this._runningTick=!1}}attachView(i){const n=i;this._views.push(n),n.attachToAppRef(this)}detachView(i){const n=i;Vd(this._views,n),n.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i),this._injector.get(Av,[]).concat(this._bootstrapListeners).forEach(s=>s(i))}ngOnDestroy(){this._views.slice().forEach(i=>i.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return e.\u0275fac=function(i){return new(i||e)(Oe(Oi),Oe(en),Oe(ca),Oe(Td))},e.\u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Vd(e,t){const i=e.indexOf(t);i>-1&&e.splice(i,1)}let Hv=!0,ah=(()=>{class e{}return e.__NG_ELEMENT_ID__=lk,e})();function lk(e){return function hk(e,t,i){if(pl(e)&&!i){const n=fn(e.index,t);return new Da(n,n)}return 47&e.type?new Da(t[16],t):null}(Si(),xe(),16==(16&e))}class Yv{constructor(){}supports(t){return xa(t)}create(t){return new gk(t)}}const fk=(e,t)=>t;class gk{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||fk}forEachItem(t){let i;for(i=this._itHead;null!==i;i=i._next)t(i)}forEachOperation(t){let i=this._itHead,n=this._removalsHead,s=0,a=null;for(;i||n;){const c=!n||i&&i.currentIndex<Gv(n,s,a)?i:n,f=Gv(c,s,a),v=c.currentIndex;if(c===n)s--,n=n._nextRemoved;else if(i=i._next,null==c.previousIndex)s++;else{a||(a=[]);const M=f-s,D=v-s;if(M!=D){for(let R=0;R<M;R++){const N=R<a.length?a[R]:a[R]=0,Z=N+R;D<=Z&&Z<M&&(a[R]=N+1)}a[c.previousIndex]=D-M}}f!==v&&t(c,f,v)}}forEachPreviousItem(t){let i;for(i=this._previousItHead;null!==i;i=i._nextPrevious)t(i)}forEachAddedItem(t){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)t(i)}forEachMovedItem(t){let i;for(i=this._movesHead;null!==i;i=i._nextMoved)t(i)}forEachRemovedItem(t){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)t(i)}forEachIdentityChange(t){let i;for(i=this._identityChangesHead;null!==i;i=i._nextIdentityChange)t(i)}diff(t){if(null==t&&(t=[]),!xa(t))throw new W(900,"");return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let s,a,c,i=this._itHead,n=!1;if(Array.isArray(t)){this.length=t.length;for(let f=0;f<this.length;f++)a=t[f],c=this._trackByFn(f,a),null!==i&&Object.is(i.trackById,c)?(n&&(i=this._verifyReinsertion(i,a,c,f)),Object.is(i.item,a)||this._addIdentityChange(i,a)):(i=this._mismatch(i,a,c,f),n=!0),i=i._next}else s=0,function yT(e,t){if(Array.isArray(e))for(let i=0;i<e.length;i++)t(e[i]);else{const i=e[oo()]();let n;for(;!(n=i.next()).done;)t(n.value)}}(t,f=>{c=this._trackByFn(s,f),null!==i&&Object.is(i.trackById,c)?(n&&(i=this._verifyReinsertion(i,f,c,s)),Object.is(i.item,f)||this._addIdentityChange(i,f)):(i=this._mismatch(i,f,c,s),n=!0),i=i._next,s++}),this.length=s;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,i,n,s){let a;return null===t?a=this._itTail:(a=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,i)||this._addIdentityChange(t,i),this._reinsertAfter(t,a,s)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,s))?(Object.is(t.item,i)||this._addIdentityChange(t,i),this._moveAfter(t,a,s)):t=this._addAfter(new mk(i,n),a,s),t}_verifyReinsertion(t,i,n,s){let a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==a?t=this._reinsertAfter(a,t._prev,s):t.currentIndex!=s&&(t.currentIndex=s,this._addToMoves(t,s)),t}_truncate(t){for(;null!==t;){const i=t._next;this._addToRemovals(this._unlink(t)),t=i}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,i,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const s=t._prevRemoved,a=t._nextRemoved;return null===s?this._removalsHead=a:s._nextRemoved=a,null===a?this._removalsTail=s:a._prevRemoved=s,this._insertAfter(t,i,n),this._addToMoves(t,n),t}_moveAfter(t,i,n){return this._unlink(t),this._insertAfter(t,i,n),this._addToMoves(t,n),t}_addAfter(t,i,n){return this._insertAfter(t,i,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,i,n){const s=null===i?this._itHead:i._next;return t._next=s,t._prev=i,null===s?this._itTail=t:s._prev=t,null===i?this._itHead=t:i._next=t,null===this._linkedRecords&&(this._linkedRecords=new $v),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const i=t._prev,n=t._next;return null===i?this._itHead=n:i._next=n,null===n?this._itTail=i:n._prev=i,t}_addToMoves(t,i){return t.previousIndex===i||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new $v),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,i){return t.item=i,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class mk{constructor(t,i){this.item=t,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class xk{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,i){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===i||i<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const i=t._prevDup,n=t._nextDup;return null===i?this._head=n:i._nextDup=n,null===n?this._tail=i:n._prevDup=i,null===this._head}}class $v{constructor(){this.map=new Map}put(t){const i=t.trackById;let n=this.map.get(i);n||(n=new xk,this.map.set(i,n)),n.add(t)}get(t,i){const s=this.map.get(t);return s?s.get(t,i):null}remove(t){const i=t.trackById;return this.map.get(i).remove(t)&&this.map.delete(i),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Gv(e,t,i){const n=e.previousIndex;if(null===n)return n;let s=0;return i&&n<i.length&&(s=i[n]),n+t+s}class Kv{constructor(){}supports(t){return t instanceof Map||Rc(t)}create(){return new yk}}class yk{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let i;for(i=this._mapHead;null!==i;i=i._next)t(i)}forEachPreviousItem(t){let i;for(i=this._previousMapHead;null!==i;i=i._nextPrevious)t(i)}forEachChangedItem(t){let i;for(i=this._changesHead;null!==i;i=i._nextChanged)t(i)}forEachAddedItem(t){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)t(i)}forEachRemovedItem(t){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)t(i)}diff(t){if(t){if(!(t instanceof Map||Rc(t)))throw new W(900,"")}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(t,(n,s)=>{if(i&&i.key===s)this._maybeAddToChanges(i,n),this._appendAfter=i,i=i._next;else{const a=this._getOrCreateRecordForKey(s,n);i=this._insertBeforeOrAppend(i,a)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let n=i;null!==n;n=n._nextRemoved)n===this._mapHead&&(this._mapHead=null),this._records.delete(n.key),n._nextRemoved=n._next,n.previousValue=n.currentValue,n.currentValue=null,n._prev=null,n._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,i){if(t){const n=t._prev;return i._next=t,i._prev=n,t._prev=i,n&&(n._next=i),t===this._mapHead&&(this._mapHead=i),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(t,i){if(this._records.has(t)){const s=this._records.get(t);this._maybeAddToChanges(s,i);const a=s._prev,c=s._next;return a&&(a._next=c),c&&(c._prev=a),s._next=null,s._prev=null,s}const n=new vk(t);return this._records.set(t,n),n.currentValue=i,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,i){Object.is(i,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=i,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,i){t instanceof Map?t.forEach(i):Object.keys(t).forEach(n=>i(t[n],n))}}class vk{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Qv(){return new uh([new Yv])}let uh=(()=>{class e{constructor(i){this.factories=i}static create(i,n){if(null!=n){const s=n.factories.slice();i=i.concat(s)}return new e(i)}static extend(i){return{provide:e,useFactory:n=>e.create(i,n||Qv()),deps:[[e,new ra,new $s]]}}find(i){const n=this.factories.find(s=>s.supports(i));if(null!=n)return n;throw new W(901,"")}}return e.\u0275prov=Pe({token:e,providedIn:"root",factory:Qv}),e})();function Jv(){return new Ia([new Kv])}let Ia=(()=>{class e{constructor(i){this.factories=i}static create(i,n){if(n){const s=n.factories.slice();i=i.concat(s)}return new e(i)}static extend(i){return{provide:e,useFactory:n=>e.create(i,n||Jv()),deps:[[e,new ra,new $s]]}}find(i){const n=this.factories.find(a=>a.supports(i));if(n)return n;throw new W(901,"")}}return e.\u0275prov=Pe({token:e,providedIn:"root",factory:Jv}),e})();const Ck=Bv(null,"core",[]);let wk=(()=>{class e{constructor(i){}}return e.\u0275fac=function(i){return new(i||e)(Oe(Ld))},e.\u0275mod=Hi({type:e}),e.\u0275inj=ot({}),e})(),ch=null;function ms(){return ch}const vn=new yt("DocumentToken");let Cr=(()=>{class e{historyGo(i){throw new Error("Not implemented")}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Pe({token:e,factory:function(){return function Dk(){return Oe(Zv)}()},providedIn:"platform"}),e})();const Pk=new yt("Location Initialized");let Zv=(()=>{class e extends Cr{constructor(i){super(),this._doc=i,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ms().getBaseHref(this._doc)}onPopState(i){const n=ms().getGlobalEventTarget(this._doc,"window");return n.addEventListener("popstate",i,!1),()=>n.removeEventListener("popstate",i)}onHashChange(i){const n=ms().getGlobalEventTarget(this._doc,"window");return n.addEventListener("hashchange",i,!1),()=>n.removeEventListener("hashchange",i)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(i){this.location.pathname=i}pushState(i,n,s){qv()?this._history.pushState(i,n,s):this.location.hash=s}replaceState(i,n,s){qv()?this._history.replaceState(i,n,s):this.location.hash=s}forward(){this._history.forward()}back(){this._history.back()}historyGo(i=0){this._history.go(i)}getState(){return this._history.state}}return e.\u0275fac=function(i){return new(i||e)(Oe(vn))},e.\u0275prov=Pe({token:e,factory:function(){return function kk(){return new Zv(Oe(vn))}()},providedIn:"platform"}),e})();function qv(){return!!window.history.pushState}function Wd(e,t){if(0==e.length)return t;if(0==t.length)return e;let i=0;return e.endsWith("/")&&i++,t.startsWith("/")&&i++,2==i?e+t.substring(1):1==i?e+t:e+"/"+t}function e0(e){const t=e.match(/#|\?|$/),i=t&&t.index||e.length;return e.slice(0,i-("/"===e[i-1]?1:0))+e.slice(i)}function Vs(e){return e&&"?"!==e[0]?"?"+e:e}let To=(()=>{class e{historyGo(i){throw new Error("Not implemented")}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Pe({token:e,factory:function(){return function Ak(e){const t=Oe(vn).location;return new t0(Oe(Cr),t&&t.origin||"")}()},providedIn:"root"}),e})();const Hd=new yt("appBaseHref");let t0=(()=>{class e extends To{constructor(i,n){if(super(),this._platformLocation=i,this._removeListenerFns=[],null==n&&(n=this._platformLocation.getBaseHrefFromDOM()),null==n)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=n}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}prepareExternalUrl(i){return Wd(this._baseHref,i)}path(i=!1){const n=this._platformLocation.pathname+Vs(this._platformLocation.search),s=this._platformLocation.hash;return s&&i?`${n}${s}`:n}pushState(i,n,s,a){const c=this.prepareExternalUrl(s+Vs(a));this._platformLocation.pushState(i,n,c)}replaceState(i,n,s,a){const c=this.prepareExternalUrl(s+Vs(a));this._platformLocation.replaceState(i,n,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(i=0){var n,s;null===(s=(n=this._platformLocation).historyGo)||void 0===s||s.call(n,i)}}return e.\u0275fac=function(i){return new(i||e)(Oe(Cr),Oe(Hd,8))},e.\u0275prov=Pe({token:e,factory:e.\u0275fac}),e})(),Ek=(()=>{class e extends To{constructor(i,n){super(),this._platformLocation=i,this._baseHref="",this._removeListenerFns=[],null!=n&&(this._baseHref=n)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}path(i=!1){let n=this._platformLocation.hash;return null==n&&(n="#"),n.length>0?n.substring(1):n}prepareExternalUrl(i){const n=Wd(this._baseHref,i);return n.length>0?"#"+n:n}pushState(i,n,s,a){let c=this.prepareExternalUrl(s+Vs(a));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(i,n,c)}replaceState(i,n,s,a){let c=this.prepareExternalUrl(s+Vs(a));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(i,n,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(i=0){var n,s;null===(s=(n=this._platformLocation).historyGo)||void 0===s||s.call(n,i)}}return e.\u0275fac=function(i){return new(i||e)(Oe(Cr),Oe(Hd,8))},e.\u0275prov=Pe({token:e,factory:e.\u0275fac}),e})(),jd=(()=>{class e{constructor(i,n){this._subject=new Wt,this._urlChangeListeners=[],this._platformStrategy=i;const s=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=e0(n0(s)),this._platformStrategy.onPopState(a=>{this._subject.emit({url:this.path(!0),pop:!0,state:a.state,type:a.type})})}path(i=!1){return this.normalize(this._platformStrategy.path(i))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(i,n=""){return this.path()==this.normalize(i+Vs(n))}normalize(i){return e.stripTrailingSlash(function Fk(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,n0(i)))}prepareExternalUrl(i){return i&&"/"!==i[0]&&(i="/"+i),this._platformStrategy.prepareExternalUrl(i)}go(i,n="",s=null){this._platformStrategy.pushState(s,"",i,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+Vs(n)),s)}replaceState(i,n="",s=null){this._platformStrategy.replaceState(s,"",i,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+Vs(n)),s)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(i=0){var n,s;null===(s=(n=this._platformStrategy).historyGo)||void 0===s||s.call(n,i)}onUrlChange(i){this._urlChangeListeners.push(i),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(n=>{this._notifyUrlChangeListeners(n.url,n.state)}))}_notifyUrlChangeListeners(i="",n){this._urlChangeListeners.forEach(s=>s(i,n))}subscribe(i,n,s){return this._subject.subscribe({next:i,error:n,complete:s})}}return e.normalizeQueryParams=Vs,e.joinWithSlash=Wd,e.stripTrailingSlash=e0,e.\u0275fac=function(i){return new(i||e)(Oe(To),Oe(Cr))},e.\u0275prov=Pe({token:e,factory:function(){return function Ik(){return new jd(Oe(To),Oe(Cr))}()},providedIn:"root"}),e})();function n0(e){return e.replace(/\/index.html$/,"")}function d0(e,t){t=encodeURIComponent(t);for(const i of e.split(";")){const n=i.indexOf("="),[s,a]=-1==n?[i,""]:[i.slice(0,n),i.slice(n+1)];if(s.trim()===t)return decodeURIComponent(a)}return null}let Va=(()=>{class e{constructor(i,n,s,a){this._iterableDiffers=i,this._keyValueDiffers=n,this._ngEl=s,this._renderer=a,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(i){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof i?i.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(i){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof i?i.split(/\s+/):i,this._rawClass&&(xa(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const i=this._iterableDiffer.diff(this._rawClass);i&&this._applyIterableChanges(i)}else if(this._keyValueDiffer){const i=this._keyValueDiffer.diff(this._rawClass);i&&this._applyKeyValueChanges(i)}}_applyKeyValueChanges(i){i.forEachAddedItem(n=>this._toggleClass(n.key,n.currentValue)),i.forEachChangedItem(n=>this._toggleClass(n.key,n.currentValue)),i.forEachRemovedItem(n=>{n.previousValue&&this._toggleClass(n.key,!1)})}_applyIterableChanges(i){i.forEachAddedItem(n=>{if("string"!=typeof n.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${G(n.item)}`);this._toggleClass(n.item,!0)}),i.forEachRemovedItem(n=>this._toggleClass(n.item,!1))}_applyClasses(i){i&&(Array.isArray(i)||i instanceof Set?i.forEach(n=>this._toggleClass(n,!0)):Object.keys(i).forEach(n=>this._toggleClass(n,!!i[n])))}_removeClasses(i){i&&(Array.isArray(i)||i instanceof Set?i.forEach(n=>this._toggleClass(n,!1)):Object.keys(i).forEach(n=>this._toggleClass(n,!1)))}_toggleClass(i,n){(i=i.trim())&&i.split(/\s+/g).forEach(s=>{n?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}}return e.\u0275fac=function(i){return new(i||e)(de(uh),de(Ia),de(yn),de(Is))},e.\u0275dir=rt({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),e})();class xA{constructor(t,i,n,s){this.$implicit=t,this.ngForOf=i,this.index=n,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let _h=(()=>{class e{constructor(i,n,s){this._viewContainer=i,this._template=n,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(i){this._ngForOf=i,this._ngForOfDirty=!0}set ngForTrackBy(i){this._trackByFn=i}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(i){i&&(this._template=i)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const i=this._ngForOf;!this._differ&&i&&(this._differ=this._differs.find(i).create(this.ngForTrackBy))}if(this._differ){const i=this._differ.diff(this._ngForOf);i&&this._applyChanges(i)}}_applyChanges(i){const n=this._viewContainer;i.forEachOperation((s,a,c)=>{if(null==s.previousIndex)n.createEmbeddedView(this._template,new xA(s.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)n.remove(null===a?void 0:a);else if(null!==a){const f=n.get(a);n.move(f,c),p0(f,s)}});for(let s=0,a=n.length;s<a;s++){const f=n.get(s).context;f.index=s,f.count=a,f.ngForOf=this._ngForOf}i.forEachIdentityChange(s=>{p0(n.get(s.currentIndex),s)})}static ngTemplateContextGuard(i,n){return!0}}return e.\u0275fac=function(i){return new(i||e)(de(Jn),de(Ls),de(uh))},e.\u0275dir=rt({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),e})();function p0(e,t){e.context.$implicit=t.item}let xs=(()=>{class e{constructor(i,n){this._viewContainer=i,this._context=new yA,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}set ngIf(i){this._context.$implicit=this._context.ngIf=i,this._updateView()}set ngIfThen(i){f0("ngIfThen",i),this._thenTemplateRef=i,this._thenViewRef=null,this._updateView()}set ngIfElse(i){f0("ngIfElse",i),this._elseTemplateRef=i,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(i,n){return!0}}return e.\u0275fac=function(i){return new(i||e)(de(Jn),de(Ls))},e.\u0275dir=rt({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),e})();class yA{constructor(){this.$implicit=null,this.ngIf=null}}function f0(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${G(t)}'.`)}let m0=(()=>{class e{constructor(i,n,s){this._ngEl=i,this._differs=n,this._renderer=s,this._ngStyle=null,this._differ=null}set ngStyle(i){this._ngStyle=i,!this._differ&&i&&(this._differ=this._differs.find(i).create())}ngDoCheck(){if(this._differ){const i=this._differ.diff(this._ngStyle);i&&this._applyChanges(i)}}_setStyle(i,n){const[s,a]=i.split(".");null!=(n=null!=n&&a?`${n}${a}`:n)?this._renderer.setStyle(this._ngEl.nativeElement,s,n):this._renderer.removeStyle(this._ngEl.nativeElement,s)}_applyChanges(i){i.forEachRemovedItem(n=>this._setStyle(n.key,null)),i.forEachAddedItem(n=>this._setStyle(n.key,n.currentValue)),i.forEachChangedItem(n=>this._setStyle(n.key,n.currentValue))}}return e.\u0275fac=function(i){return new(i||e)(de(yn),de(Ia),de(Is))},e.\u0275dir=rt({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),e})(),So=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Hi({type:e}),e.\u0275inj=ot({}),e})();let $A=(()=>{class e{}return e.\u0275prov=Pe({token:e,providedIn:"root",factory:()=>new GA(Oe(vn),window)}),e})();class GA{constructor(t,i){this.document=t,this.window=i,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const i=function KA(e,t){const i=e.getElementById(t)||e.getElementsByName(t)[0];if(i)return i;if("function"==typeof e.createTreeWalker&&e.body&&(e.body.createShadowRoot||e.body.attachShadow)){const n=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let s=n.currentNode;for(;s;){const a=s.shadowRoot;if(a){const c=a.getElementById(t)||a.querySelector(`[name="${t}"]`);if(c)return c}s=n.nextNode()}}return null}(this.document,t);i&&(this.scrollToElement(i),i.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const i=this.window.history;i&&i.scrollRestoration&&(i.scrollRestoration=t)}}scrollToElement(t){const i=t.getBoundingClientRect(),n=i.left+this.window.pageXOffset,s=i.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(n-a[0],s-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=v0(this.window.history)||v0(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function v0(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class b0{}class ip extends class QA extends class Sk{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function Tk(e){ch||(ch=e)}(new ip)}onAndCancel(t,i,n){return t.addEventListener(i,n,!1),()=>{t.removeEventListener(i,n,!1)}}dispatchEvent(t,i){t.dispatchEvent(i)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,i){return(i=i||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,i){return"window"===i?window:"document"===i?t:"body"===i?t.body:null}getBaseHref(t){const i=function JA(){return Oa=Oa||document.querySelector("base"),Oa?Oa.getAttribute("href"):null}();return null==i?null:function ZA(e){Ch=Ch||document.createElement("a"),Ch.setAttribute("href",e);const t=Ch.pathname;return"/"===t.charAt(0)?t:`/${t}`}(i)}resetBaseElement(){Oa=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return d0(document.cookie,t)}}let Ch,Oa=null;const _0=new yt("TRANSITION_ID"),eE=[{provide:Md,useFactory:function qA(e,t,i){return()=>{i.get(Td).donePromise.then(()=>{const n=ms(),s=t.querySelectorAll(`style[ng-transition="${e}"]`);for(let a=0;a<s.length;a++)n.remove(s[a])})}},deps:[_0,vn,en],multi:!0}];class np{static init(){!function ZP(e){Id=e}(new np)}addToWindow(t){Yt.getAngularTestability=(n,s=!0)=>{const a=t.findTestabilityInTree(n,s);if(null==a)throw new Error("Could not find testability for element.");return a},Yt.getAllAngularTestabilities=()=>t.getAllTestabilities(),Yt.getAllAngularRootElements=()=>t.getAllRootElements(),Yt.frameworkStabilizers||(Yt.frameworkStabilizers=[]),Yt.frameworkStabilizers.push(n=>{const s=Yt.getAllAngularTestabilities();let a=s.length,c=!1;const f=function(v){c=c||v,a--,0==a&&n(c)};s.forEach(function(v){v.whenStable(f)})})}findTestabilityInTree(t,i,n){if(null==i)return null;const s=t.getTestability(i);return null!=s?s:n?ms().isShadowRoot(i)?this.findTestabilityInTree(t,i.host,!0):this.findTestabilityInTree(t,i.parentElement,!0):null}}let tE=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Pe({token:e,factory:e.\u0275fac}),e})();const wh=new yt("EventManagerPlugins");let Mh=(()=>{class e{constructor(i,n){this._zone=n,this._eventNameToPlugin=new Map,i.forEach(s=>s.manager=this),this._plugins=i.slice().reverse()}addEventListener(i,n,s){return this._findPluginFor(n).addEventListener(i,n,s)}addGlobalEventListener(i,n,s){return this._findPluginFor(n).addGlobalEventListener(i,n,s)}getZone(){return this._zone}_findPluginFor(i){const n=this._eventNameToPlugin.get(i);if(n)return n;const s=this._plugins;for(let a=0;a<s.length;a++){const c=s[a];if(c.supports(i))return this._eventNameToPlugin.set(i,c),c}throw new Error(`No event manager plugin found for event ${i}`)}}return e.\u0275fac=function(i){return new(i||e)(Oe(wh),Oe(Oi))},e.\u0275prov=Pe({token:e,factory:e.\u0275fac}),e})();class C0{constructor(t){this._doc=t}addGlobalEventListener(t,i,n){const s=ms().getGlobalEventTarget(this._doc,t);if(!s)throw new Error(`Unsupported event target ${s} for event ${i}`);return this.addEventListener(s,i,n)}}let w0=(()=>{class e{constructor(){this._stylesSet=new Set}addStyles(i){const n=new Set;i.forEach(s=>{this._stylesSet.has(s)||(this._stylesSet.add(s),n.add(s))}),this.onStylesAdded(n)}onStylesAdded(i){}getAllStyles(){return Array.from(this._stylesSet)}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Pe({token:e,factory:e.\u0275fac}),e})(),Ba=(()=>{class e extends w0{constructor(i){super(),this._doc=i,this._hostNodes=new Map,this._hostNodes.set(i.head,[])}_addStylesToHost(i,n,s){i.forEach(a=>{const c=this._doc.createElement("style");c.textContent=a,s.push(n.appendChild(c))})}addHost(i){const n=[];this._addStylesToHost(this._stylesSet,i,n),this._hostNodes.set(i,n)}removeHost(i){const n=this._hostNodes.get(i);n&&n.forEach(M0),this._hostNodes.delete(i)}onStylesAdded(i){this._hostNodes.forEach((n,s)=>{this._addStylesToHost(i,s,n)})}ngOnDestroy(){this._hostNodes.forEach(i=>i.forEach(M0))}}return e.\u0275fac=function(i){return new(i||e)(Oe(vn))},e.\u0275prov=Pe({token:e,factory:e.\u0275fac}),e})();function M0(e){ms().remove(e)}const sp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},rp=/%COMP%/g;function Th(e,t,i){for(let n=0;n<t.length;n++){let s=t[n];Array.isArray(s)?Th(e,s,i):(s=s.replace(rp,e),i.push(s))}return i}function D0(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let op=(()=>{class e{constructor(i,n,s){this.eventManager=i,this.sharedStylesHost=n,this.appId=s,this.rendererByCompId=new Map,this.defaultRenderer=new ap(i)}createRenderer(i,n){if(!i||!n)return this.defaultRenderer;switch(n.encapsulation){case rs.Emulated:{let s=this.rendererByCompId.get(n.id);return s||(s=new aE(this.eventManager,this.sharedStylesHost,n,this.appId),this.rendererByCompId.set(n.id,s)),s.applyToHost(i),s}case 1:case rs.ShadowDom:return new lE(this.eventManager,this.sharedStylesHost,i,n);default:if(!this.rendererByCompId.has(n.id)){const s=Th(n.id,n.styles,[]);this.sharedStylesHost.addStyles(s),this.rendererByCompId.set(n.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return e.\u0275fac=function(i){return new(i||e)(Oe(Mh),Oe(Ba),Oe(Ea))},e.\u0275prov=Pe({token:e,factory:e.\u0275fac}),e})();class ap{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,i){return i?document.createElementNS(sp[i]||i,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,i){t.appendChild(i)}insertBefore(t,i,n){t&&t.insertBefore(i,n)}removeChild(t,i){t&&t.removeChild(i)}selectRootElement(t,i){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return i||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,i,n,s){if(s){i=s+":"+i;const a=sp[s];a?t.setAttributeNS(a,i,n):t.setAttribute(i,n)}else t.setAttribute(i,n)}removeAttribute(t,i,n){if(n){const s=sp[n];s?t.removeAttributeNS(s,i):t.removeAttribute(`${n}:${i}`)}else t.removeAttribute(i)}addClass(t,i){t.classList.add(i)}removeClass(t,i){t.classList.remove(i)}setStyle(t,i,n,s){s&(mn.DashCase|mn.Important)?t.style.setProperty(i,n,s&mn.Important?"important":""):t.style[i]=n}removeStyle(t,i,n){n&mn.DashCase?t.style.removeProperty(i):t.style[i]=""}setProperty(t,i,n){t[i]=n}setValue(t,i){t.nodeValue=i}listen(t,i,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,i,D0(n)):this.eventManager.addEventListener(t,i,D0(n))}}class aE extends ap{constructor(t,i,n,s){super(t),this.component=n;const a=Th(s+"-"+n.id,n.styles,[]);i.addStyles(a),this.contentAttr=function sE(e){return"_ngcontent-%COMP%".replace(rp,e)}(s+"-"+n.id),this.hostAttr=function rE(e){return"_nghost-%COMP%".replace(rp,e)}(s+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,i){const n=super.createElement(t,i);return super.setAttribute(n,this.contentAttr,""),n}}class lE extends ap{constructor(t,i,n,s){super(t),this.sharedStylesHost=i,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=Th(s.id,s.styles,[]);for(let c=0;c<a.length;c++){const f=document.createElement("style");f.textContent=a[c],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,i){return super.appendChild(this.nodeOrShadowRoot(t),i)}insertBefore(t,i,n){return super.insertBefore(this.nodeOrShadowRoot(t),i,n)}removeChild(t,i){return super.removeChild(this.nodeOrShadowRoot(t),i)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let hE=(()=>{class e extends C0{constructor(i){super(i)}supports(i){return!0}addEventListener(i,n,s){return i.addEventListener(n,s,!1),()=>this.removeEventListener(i,n,s)}removeEventListener(i,n,s){return i.removeEventListener(n,s)}}return e.\u0275fac=function(i){return new(i||e)(Oe(vn))},e.\u0275prov=Pe({token:e,factory:e.\u0275fac}),e})();const k0=["alt","control","meta","shift"],cE={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},A0={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},dE={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let pE=(()=>{class e extends C0{constructor(i){super(i)}supports(i){return null!=e.parseEventName(i)}addEventListener(i,n,s){const a=e.parseEventName(n),c=e.eventCallback(a.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ms().onAndCancel(i,a.domEventName,c))}static parseEventName(i){const n=i.toLowerCase().split("."),s=n.shift();if(0===n.length||"keydown"!==s&&"keyup"!==s)return null;const a=e._normalizeKey(n.pop());let c="";if(k0.forEach(v=>{const M=n.indexOf(v);M>-1&&(n.splice(M,1),c+=v+".")}),c+=a,0!=n.length||0===a.length)return null;const f={};return f.domEventName=s,f.fullKey=c,f}static getEventFullKey(i){let n="",s=function fE(e){let t=e.key;if(null==t){if(t=e.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&A0.hasOwnProperty(t)&&(t=A0[t]))}return cE[t]||t}(i);return s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),k0.forEach(a=>{a!=s&&dE[a](i)&&(n+=a+".")}),n+=s,n}static eventCallback(i,n,s){return a=>{e.getEventFullKey(a)===i&&s.runGuarded(()=>n(a))}}static _normalizeKey(i){return"esc"===i?"escape":i}}return e.\u0275fac=function(i){return new(i||e)(Oe(vn))},e.\u0275prov=Pe({token:e,factory:e.\u0275fac}),e})();const yE=Bv(Ck,"browser",[{provide:Dd,useValue:"browser"},{provide:kv,useValue:function gE(){ip.makeCurrent(),np.init()},multi:!0},{provide:vn,useFactory:function xE(){return function EC(e){xu=e}(document),document},deps:[]}]),vE=[{provide:Ic,useValue:"root"},{provide:ca,useFactory:function mE(){return new ca},deps:[]},{provide:wh,useClass:hE,multi:!0,deps:[vn,Oi,Dd]},{provide:wh,useClass:pE,multi:!0,deps:[vn]},{provide:op,useClass:op,deps:[Mh,Ba,Ea]},{provide:zy,useExisting:op},{provide:w0,useExisting:Ba},{provide:Ba,useClass:Ba,deps:[vn]},{provide:Ed,useClass:Ed,deps:[Oi]},{provide:Mh,useClass:Mh,deps:[wh,Oi]},{provide:b0,useClass:tE,deps:[]}];let bE=(()=>{class e{constructor(i){if(i)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(i){return{ngModule:e,providers:[{provide:Ea,useValue:i.appId},{provide:_0,useExisting:Ea},eE]}}}return e.\u0275fac=function(i){return new(i||e)(Oe(e,12))},e.\u0275mod=Hi({type:e}),e.\u0275inj=ot({providers:vE,imports:[So,wk]}),e})();function gt(...e){return F(e,w(e))}"undefined"!=typeof window&&window;class Bi extends Y{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const i=super._subscribe(t);return!i.closed&&t.next(this._value),i}getValue(){const{hasError:t,thrownError:i,_value:n}=this;if(t)throw i;return this._throwIfClosed(),n}next(t){super.next(this._value=t)}}const{isArray:EE}=Array,{getPrototypeOf:IE,prototype:FE,keys:LE}=Object;function F0(e){if(1===e.length){const t=e[0];if(EE(t))return{args:t,keys:null};if(function VE(e){return e&&"object"==typeof e&&IE(e)===FE}(t)){const i=LE(t);return{args:i.map(n=>t[n]),keys:i}}}return{args:e,keys:null}}const{isArray:OE}=Array;function L0(e){return te(t=>function BE(e,t){return OE(t)?e(...t):e(t)}(e,t))}function V0(e,t){return e.reduce((i,n,s)=>(i[n]=t[s],i),{})}function O0(e,t,i){e?Se(i,e,t):t()}function Sh(e,t){const i=Ht(e)?e:()=>e,n=s=>s.error(i());return new Nt(t?s=>t.schedule(n,0,s):n)}const Dh=fi(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function hp(...e){return function WE(){return u(1)}()(F(e,w(e)))}function B0(e){return new Nt(t=>{st(e()).subscribe(t)})}function R0(){return L((e,t)=>{let i=null;e._refCount++;const n=Q(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(i=null);const s=e._connection,a=i;i=null,s&&(!a||s===a)&&s.unsubscribe(),t.unsubscribe()});e.subscribe(n),n.closed||(i=e.connect())})}class HE extends Nt{constructor(t,i){super(),this.source=t,this.subjectFactory=i,this._subject=null,this._refCount=0,this._connection=null,Re(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,null==t||t.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Ft;const i=this.getSubject();t.add(this.source.subscribe(Q(i,void 0,()=>{this._teardown(),i.complete()},n=>{this._teardown(),i.error(n)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Ft.EMPTY)}return t}refCount(){return R0()(this)}}function wr(e,t){return L((i,n)=>{let s=null,a=0,c=!1;const f=()=>c&&!s&&n.complete();i.subscribe(Q(n,v=>{null==s||s.unsubscribe();let M=0;const D=a++;st(e(v,D)).subscribe(s=Q(n,I=>n.next(t?t(v,I,D,M++):I),()=>{s=null,f()}))},()=>{c=!0,f()}))})}function up(e){return e<=0?()=>l:L((t,i)=>{let n=0;t.subscribe(Q(i,s=>{++n<=e&&(i.next(s),e<=n&&i.complete())}))})}function UE(e,t,i,n,s){return(a,c)=>{let f=i,v=t,M=0;a.subscribe(Q(c,D=>{const I=M++;v=f?e(v,D,I):(f=!0,D),n&&c.next(v)},s&&(()=>{f&&c.next(v),c.complete()})))}}function N0(e,t){return L(UE(e,t,arguments.length>=2,!0))}function Mr(e,t){return L((i,n)=>{let s=0;i.subscribe(Q(n,a=>e.call(t,a,s++)&&n.next(a)))})}function qs(e){return L((t,i)=>{let a,n=null,s=!1;n=t.subscribe(Q(i,void 0,void 0,c=>{a=st(e(c,qs(e)(t))),n?(n.unsubscribe(),n=null,a.subscribe(i)):s=!0})),s&&(n.unsubscribe(),n=null,a.subscribe(i))})}function Do(e,t){return Ht(t)?r(e,t,1):r(e,1)}function cp(e){return e<=0?()=>l:L((t,i)=>{let n=[];t.subscribe(Q(i,s=>{n.push(s),e<n.length&&n.shift()},()=>{for(const s of n)i.next(s);i.complete()},void 0,()=>{n=null}))})}function W0(e=XE){return L((t,i)=>{let n=!1;t.subscribe(Q(i,s=>{n=!0,i.next(s)},()=>n?i.complete():i.error(e())))})}function XE(){return new Dh}function H0(e){return L((t,i)=>{let n=!1;t.subscribe(Q(i,s=>{n=!0,i.next(s)},()=>{n||i.next(e),i.complete()}))})}function Po(e,t){const i=arguments.length>=2;return n=>n.pipe(e?Mr((s,a)=>e(s,a,n)):Ze,up(1),i?H0(t):W0(()=>new Dh))}function bn(e,t,i){const n=Ht(e)||t||i?{next:e,error:t,complete:i}:e;return n?L((s,a)=>{var c;null===(c=n.subscribe)||void 0===c||c.call(n);let f=!0;s.subscribe(Q(a,v=>{var M;null===(M=n.next)||void 0===M||M.call(n,v),a.next(v)},()=>{var v;f=!1,null===(v=n.complete)||void 0===v||v.call(n),a.complete()},v=>{var M;f=!1,null===(M=n.error)||void 0===M||M.call(n,v),a.error(v)},()=>{var v,M;f&&(null===(v=n.unsubscribe)||void 0===v||v.call(n)),null===(M=n.finalize)||void 0===M||M.call(n)}))}):Ze}class Bs{constructor(t,i){this.id=t,this.url=i}}class dp extends Bs{constructor(t,i,n="imperative",s=null){super(t,i),this.navigationTrigger=n,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ko extends Bs{constructor(t,i,n){super(t,i),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class j0 extends Bs{constructor(t,i,n){super(t,i),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class $E extends Bs{constructor(t,i,n){super(t,i),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class GE extends Bs{constructor(t,i,n,s){super(t,i),this.urlAfterRedirects=n,this.state=s}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class KE extends Bs{constructor(t,i,n,s){super(t,i),this.urlAfterRedirects=n,this.state=s}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class QE extends Bs{constructor(t,i,n,s,a){super(t,i),this.urlAfterRedirects=n,this.state=s,this.shouldActivate=a}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class JE extends Bs{constructor(t,i,n,s){super(t,i),this.urlAfterRedirects=n,this.state=s}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ZE extends Bs{constructor(t,i,n,s){super(t,i),this.urlAfterRedirects=n,this.state=s}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class U0{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class X0{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class qE{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class eI{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tI{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class iI{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class z0{constructor(t,i,n){this.routerEvent=t,this.position=i,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Mt="primary";class nI{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const i=this.params[t];return Array.isArray(i)?i[0]:i}return null}getAll(t){if(this.has(t)){const i=this.params[t];return Array.isArray(i)?i:[i]}return[]}get keys(){return Object.keys(this.params)}}function Ao(e){return new nI(e)}const Y0="ngNavigationCancelingError";function pp(e){const t=Error("NavigationCancelingError: "+e);return t[Y0]=!0,t}function rI(e,t,i){const n=i.path.split("/");if(n.length>e.length||"full"===i.pathMatch&&(t.hasChildren()||n.length<e.length))return null;const s={};for(let a=0;a<n.length;a++){const c=n[a],f=e[a];if(c.startsWith(":"))s[c.substring(1)]=f;else if(c!==f.path)return null}return{consumed:e.slice(0,n.length),posParams:s}}function ys(e,t){const i=e?Object.keys(e):void 0,n=t?Object.keys(t):void 0;if(!i||!n||i.length!=n.length)return!1;let s;for(let a=0;a<i.length;a++)if(s=i[a],!$0(e[s],t[s]))return!1;return!0}function $0(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const i=[...e].sort(),n=[...t].sort();return i.every((s,a)=>n[a]===s)}return e===t}function G0(e){return Array.prototype.concat.apply([],e)}function K0(e){return e.length>0?e[e.length-1]:null}function Ri(e,t){for(const i in e)e.hasOwnProperty(i)&&t(e[i],i)}function vs(e){return $c(e)?e:va(e)?F(Promise.resolve(e)):gt(e)}const lI={exact:function Z0(e,t,i){if(!Sr(e.segments,t.segments)||!Ph(e.segments,t.segments,i)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const n in t.children)if(!e.children[n]||!Z0(e.children[n],t.children[n],i))return!1;return!0},subset:q0},Q0={exact:function hI(e,t){return ys(e,t)},subset:function uI(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(i=>$0(e[i],t[i]))},ignored:()=>!0};function J0(e,t,i){return lI[i.paths](e.root,t.root,i.matrixParams)&&Q0[i.queryParams](e.queryParams,t.queryParams)&&!("exact"===i.fragment&&e.fragment!==t.fragment)}function q0(e,t,i){return eb(e,t,t.segments,i)}function eb(e,t,i,n){if(e.segments.length>i.length){const s=e.segments.slice(0,i.length);return!(!Sr(s,i)||t.hasChildren()||!Ph(s,i,n))}if(e.segments.length===i.length){if(!Sr(e.segments,i)||!Ph(e.segments,i,n))return!1;for(const s in t.children)if(!e.children[s]||!q0(e.children[s],t.children[s],n))return!1;return!0}{const s=i.slice(0,e.segments.length),a=i.slice(e.segments.length);return!!(Sr(e.segments,s)&&Ph(e.segments,s,n)&&e.children[Mt])&&eb(e.children[Mt],t,a,n)}}function Ph(e,t,i){return t.every((n,s)=>Q0[i](e[s].parameters,n.parameters))}class Tr{constructor(t,i,n){this.root=t,this.queryParams=i,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ao(this.queryParams)),this._queryParamMap}toString(){return pI.serialize(this)}}class At{constructor(t,i){this.segments=t,this.children=i,this.parent=null,Ri(i,(n,s)=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return kh(this)}}class Ra{constructor(t,i){this.path=t,this.parameters=i}get parameterMap(){return this._parameterMap||(this._parameterMap=Ao(this.parameters)),this._parameterMap}toString(){return rb(this)}}function Sr(e,t){return e.length===t.length&&e.every((i,n)=>i.path===t[n].path)}class tb{}class ib{parse(t){const i=new CI(t);return new Tr(i.parseRootSegment(),i.parseQueryParams(),i.parseFragment())}serialize(t){const i=`/${Na(t.root,!0)}`,n=function mI(e){const t=Object.keys(e).map(i=>{const n=e[i];return Array.isArray(n)?n.map(s=>`${Ah(i)}=${Ah(s)}`).join("&"):`${Ah(i)}=${Ah(n)}`}).filter(i=>!!i);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${i}${n}${"string"==typeof t.fragment?`#${function fI(e){return encodeURI(e)}(t.fragment)}`:""}`}}const pI=new ib;function kh(e){return e.segments.map(t=>rb(t)).join("/")}function Na(e,t){if(!e.hasChildren())return kh(e);if(t){const i=e.children[Mt]?Na(e.children[Mt],!1):"",n=[];return Ri(e.children,(s,a)=>{a!==Mt&&n.push(`${a}:${Na(s,!1)}`)}),n.length>0?`${i}(${n.join("//")})`:i}{const i=function dI(e,t){let i=[];return Ri(e.children,(n,s)=>{s===Mt&&(i=i.concat(t(n,s)))}),Ri(e.children,(n,s)=>{s!==Mt&&(i=i.concat(t(n,s)))}),i}(e,(n,s)=>s===Mt?[Na(e.children[Mt],!1)]:[`${s}:${Na(n,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[Mt]?`${kh(e)}/${i[0]}`:`${kh(e)}/(${i.join("//")})`}}function nb(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ah(e){return nb(e).replace(/%3B/gi,";")}function fp(e){return nb(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Eh(e){return decodeURIComponent(e)}function sb(e){return Eh(e.replace(/\+/g,"%20"))}function rb(e){return`${fp(e.path)}${function gI(e){return Object.keys(e).map(t=>`;${fp(t)}=${fp(e[t])}`).join("")}(e.parameters)}`}const xI=/^[^\/()?;=#]+/;function Ih(e){const t=e.match(xI);return t?t[0]:""}const yI=/^[^=?&#]+/,bI=/^[^&#]+/;class CI{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new At([],{}):new At([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let i={};this.peekStartsWith("/(")&&(this.capture("/"),i=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(i).length>0)&&(n[Mt]=new At(t,i)),n}parseSegment(){const t=Ih(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Ra(Eh(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const i=Ih(this.remaining);if(!i)return;this.capture(i);let n="";if(this.consumeOptional("=")){const s=Ih(this.remaining);s&&(n=s,this.capture(n))}t[Eh(i)]=Eh(n)}parseQueryParam(t){const i=function vI(e){const t=e.match(yI);return t?t[0]:""}(this.remaining);if(!i)return;this.capture(i);let n="";if(this.consumeOptional("=")){const c=function _I(e){const t=e.match(bI);return t?t[0]:""}(this.remaining);c&&(n=c,this.capture(n))}const s=sb(i),a=sb(n);if(t.hasOwnProperty(s)){let c=t[s];Array.isArray(c)||(c=[c],t[s]=c),c.push(a)}else t[s]=a}parseParens(t){const i={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Ih(this.remaining),s=this.remaining[n.length];if("/"!==s&&")"!==s&&";"!==s)throw new Error(`Cannot parse url '${this.url}'`);let a;n.indexOf(":")>-1?(a=n.substr(0,n.indexOf(":")),this.capture(a),this.capture(":")):t&&(a=Mt);const c=this.parseChildren();i[a]=1===Object.keys(c).length?c[Mt]:new At([],c),this.consumeOptional("//")}return i}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class ob{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const i=this.pathFromRoot(t);return i.length>1?i[i.length-2]:null}children(t){const i=gp(t,this._root);return i?i.children.map(n=>n.value):[]}firstChild(t){const i=gp(t,this._root);return i&&i.children.length>0?i.children[0].value:null}siblings(t){const i=mp(t,this._root);return i.length<2?[]:i[i.length-2].children.map(s=>s.value).filter(s=>s!==t)}pathFromRoot(t){return mp(t,this._root).map(i=>i.value)}}function gp(e,t){if(e===t.value)return t;for(const i of t.children){const n=gp(e,i);if(n)return n}return null}function mp(e,t){if(e===t.value)return[t];for(const i of t.children){const n=mp(e,i);if(n.length)return n.unshift(t),n}return[]}class Rs{constructor(t,i){this.value=t,this.children=i}toString(){return`TreeNode(${this.value})`}}function Eo(e){const t={};return e&&e.children.forEach(i=>t[i.value.outlet]=i),t}class ab extends ob{constructor(t,i){super(t),this.snapshot=i,xp(this,t)}toString(){return this.snapshot.toString()}}function lb(e,t){const i=function wI(e,t){const c=new Fh([],{},{},"",{},Mt,t,null,e.root,-1,{});return new ub("",new Rs(c,[]))}(e,t),n=new Bi([new Ra("",{})]),s=new Bi({}),a=new Bi({}),c=new Bi({}),f=new Bi(""),v=new Io(n,s,c,f,a,Mt,t,i.root);return v.snapshot=i.root,new ab(new Rs(v,[]),i)}class Io{constructor(t,i,n,s,a,c,f,v){this.url=t,this.params=i,this.queryParams=n,this.fragment=s,this.data=a,this.outlet=c,this.component=f,this._futureSnapshot=v}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(te(t=>Ao(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(te(t=>Ao(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function hb(e,t="emptyOnly"){const i=e.pathFromRoot;let n=0;if("always"!==t)for(n=i.length-1;n>=1;){const s=i[n],a=i[n-1];if(s.routeConfig&&""===s.routeConfig.path)n--;else{if(a.component)break;n--}}return function MI(e){return e.reduce((t,i)=>({params:Object.assign(Object.assign({},t.params),i.params),data:Object.assign(Object.assign({},t.data),i.data),resolve:Object.assign(Object.assign({},t.resolve),i._resolvedData)}),{params:{},data:{},resolve:{}})}(i.slice(n))}class Fh{constructor(t,i,n,s,a,c,f,v,M,D,I){this.url=t,this.params=i,this.queryParams=n,this.fragment=s,this.data=a,this.outlet=c,this.component=f,this.routeConfig=v,this._urlSegment=M,this._lastPathIndex=D,this._resolve=I}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ao(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ao(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(n=>n.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ub extends ob{constructor(t,i){super(i),this.url=t,xp(this,i)}toString(){return cb(this._root)}}function xp(e,t){t.value._routerState=e,t.children.forEach(i=>xp(e,i))}function cb(e){const t=e.children.length>0?` { ${e.children.map(cb).join(", ")} } `:"";return`${e.value}${t}`}function yp(e){if(e.snapshot){const t=e.snapshot,i=e._futureSnapshot;e.snapshot=i,ys(t.queryParams,i.queryParams)||e.queryParams.next(i.queryParams),t.fragment!==i.fragment&&e.fragment.next(i.fragment),ys(t.params,i.params)||e.params.next(i.params),function oI(e,t){if(e.length!==t.length)return!1;for(let i=0;i<e.length;++i)if(!ys(e[i],t[i]))return!1;return!0}(t.url,i.url)||e.url.next(i.url),ys(t.data,i.data)||e.data.next(i.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function vp(e,t){const i=ys(e.params,t.params)&&function cI(e,t){return Sr(e,t)&&e.every((i,n)=>ys(i.parameters,t[n].parameters))}(e.url,t.url);return i&&!(!e.parent!=!t.parent)&&(!e.parent||vp(e.parent,t.parent))}function Wa(e,t,i){if(i&&e.shouldReuseRoute(t.value,i.value.snapshot)){const n=i.value;n._futureSnapshot=t.value;const s=function SI(e,t,i){return t.children.map(n=>{for(const s of i.children)if(e.shouldReuseRoute(n.value,s.value.snapshot))return Wa(e,n,s);return Wa(e,n)})}(e,t,i);return new Rs(n,s)}{if(e.shouldAttach(t.value)){const a=e.retrieve(t.value);if(null!==a){const c=a.route;return c.value._futureSnapshot=t.value,c.children=t.children.map(f=>Wa(e,f)),c}}const n=function DI(e){return new Io(new Bi(e.url),new Bi(e.params),new Bi(e.queryParams),new Bi(e.fragment),new Bi(e.data),e.outlet,e.component,e)}(t.value),s=t.children.map(a=>Wa(e,a));return new Rs(n,s)}}function Lh(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Ha(e){return"object"==typeof e&&null!=e&&e.outlets}function bp(e,t,i,n,s){let a={};if(n&&Ri(n,(f,v)=>{a[v]=Array.isArray(f)?f.map(M=>`${M}`):`${f}`}),e===t)return new Tr(i,a,s);const c=db(e,t,i);return new Tr(c,a,s)}function db(e,t,i){const n={};return Ri(e.children,(s,a)=>{n[a]=s===t?i:db(s,t,i)}),new At(e.segments,n)}class pb{constructor(t,i,n){if(this.isAbsolute=t,this.numberOfDoubleDots=i,this.commands=n,t&&n.length>0&&Lh(n[0]))throw new Error("Root segment cannot have matrix parameters");const s=n.find(Ha);if(s&&s!==K0(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class _p{constructor(t,i,n){this.segmentGroup=t,this.processChildren=i,this.index=n}}function fb(e,t,i){if(e||(e=new At([],{})),0===e.segments.length&&e.hasChildren())return Vh(e,t,i);const n=function FI(e,t,i){let n=0,s=t;const a={match:!1,pathIndex:0,commandIndex:0};for(;s<e.segments.length;){if(n>=i.length)return a;const c=e.segments[s],f=i[n];if(Ha(f))break;const v=`${f}`,M=n<i.length-1?i[n+1]:null;if(s>0&&void 0===v)break;if(v&&M&&"object"==typeof M&&void 0===M.outlets){if(!mb(v,M,c))return a;n+=2}else{if(!mb(v,{},c))return a;n++}s++}return{match:!0,pathIndex:s,commandIndex:n}}(e,t,i),s=i.slice(n.commandIndex);if(n.match&&n.pathIndex<e.segments.length){const a=new At(e.segments.slice(0,n.pathIndex),{});return a.children[Mt]=new At(e.segments.slice(n.pathIndex),e.children),Vh(a,0,s)}return n.match&&0===s.length?new At(e.segments,{}):n.match&&!e.hasChildren()?Cp(e,t,i):n.match?Vh(e,0,s):Cp(e,t,i)}function Vh(e,t,i){if(0===i.length)return new At(e.segments,{});{const n=function II(e){return Ha(e[0])?e[0].outlets:{[Mt]:e}}(i),s={};return Ri(n,(a,c)=>{"string"==typeof a&&(a=[a]),null!==a&&(s[c]=fb(e.children[c],t,a))}),Ri(e.children,(a,c)=>{void 0===n[c]&&(s[c]=a)}),new At(e.segments,s)}}function Cp(e,t,i){const n=e.segments.slice(0,t);let s=0;for(;s<i.length;){const a=i[s];if(Ha(a)){const v=LI(a.outlets);return new At(n,v)}if(0===s&&Lh(i[0])){n.push(new Ra(e.segments[t].path,gb(i[0]))),s++;continue}const c=Ha(a)?a.outlets[Mt]:`${a}`,f=s<i.length-1?i[s+1]:null;c&&f&&Lh(f)?(n.push(new Ra(c,gb(f))),s+=2):(n.push(new Ra(c,{})),s++)}return new At(n,{})}function LI(e){const t={};return Ri(e,(i,n)=>{"string"==typeof i&&(i=[i]),null!==i&&(t[n]=Cp(new At([],{}),0,i))}),t}function gb(e){const t={};return Ri(e,(i,n)=>t[n]=`${i}`),t}function mb(e,t,i){return e==i.path&&ys(t,i.parameters)}class OI{constructor(t,i,n,s){this.routeReuseStrategy=t,this.futureState=i,this.currState=n,this.forwardEvent=s}activate(t){const i=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(i,n,t),yp(this.futureState.root),this.activateChildRoutes(i,n,t)}deactivateChildRoutes(t,i,n){const s=Eo(i);t.children.forEach(a=>{const c=a.value.outlet;this.deactivateRoutes(a,s[c],n),delete s[c]}),Ri(s,(a,c)=>{this.deactivateRouteAndItsChildren(a,n)})}deactivateRoutes(t,i,n){const s=t.value,a=i?i.value:null;if(s===a)if(s.component){const c=n.getContext(s.outlet);c&&this.deactivateChildRoutes(t,i,c.children)}else this.deactivateChildRoutes(t,i,n);else a&&this.deactivateRouteAndItsChildren(i,n)}deactivateRouteAndItsChildren(t,i){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,i):this.deactivateRouteAndOutlet(t,i)}detachAndStoreRouteSubtree(t,i){const n=i.getContext(t.value.outlet),s=n&&t.value.component?n.children:i,a=Eo(t);for(const c of Object.keys(a))this.deactivateRouteAndItsChildren(a[c],s);if(n&&n.outlet){const c=n.outlet.detach(),f=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:c,route:t,contexts:f})}}deactivateRouteAndOutlet(t,i){const n=i.getContext(t.value.outlet),s=n&&t.value.component?n.children:i,a=Eo(t);for(const c of Object.keys(a))this.deactivateRouteAndItsChildren(a[c],s);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(t,i,n){const s=Eo(i);t.children.forEach(a=>{this.activateRoutes(a,s[a.value.outlet],n),this.forwardEvent(new iI(a.value.snapshot))}),t.children.length&&this.forwardEvent(new eI(t.value.snapshot))}activateRoutes(t,i,n){const s=t.value,a=i?i.value:null;if(yp(s),s===a)if(s.component){const c=n.getOrCreateContext(s.outlet);this.activateChildRoutes(t,i,c.children)}else this.activateChildRoutes(t,i,n);else if(s.component){const c=n.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){const f=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),c.children.onOutletReAttached(f.contexts),c.attachRef=f.componentRef,c.route=f.route.value,c.outlet&&c.outlet.attach(f.componentRef,f.route.value),yp(f.route.value),this.activateChildRoutes(t,null,c.children)}else{const f=function BI(e){for(let t=e.parent;t;t=t.parent){const i=t.routeConfig;if(i&&i._loadedConfig)return i._loadedConfig;if(i&&i.component)return null}return null}(s.snapshot),v=f?f.module.componentFactoryResolver:null;c.attachRef=null,c.route=s,c.resolver=v,c.outlet&&c.outlet.activateWith(s,v),this.activateChildRoutes(t,null,c.children)}}else this.activateChildRoutes(t,null,n)}}class wp{constructor(t,i){this.routes=t,this.module=i}}function er(e){return"function"==typeof e}function Dr(e){return e instanceof Tr}const ja=Symbol("INITIAL_VALUE");function Ua(){return wr(e=>function RE(...e){const t=w(e),i=_(e),{args:n,keys:s}=F0(e);if(0===n.length)return F([],t);const a=new Nt(function NE(e,t,i=Ze){return n=>{O0(t,()=>{const{length:s}=e,a=new Array(s);let c=s,f=s;for(let v=0;v<s;v++)O0(t,()=>{const M=F(e[v],t);let D=!1;M.subscribe(Q(n,I=>{a[v]=I,D||(D=!0,f--),f||n.next(i(a.slice()))},()=>{--c||n.complete()}))},n)},n)}}(n,t,s?c=>V0(s,c):Ze));return i?a.pipe(L0(i)):a}(e.map(t=>t.pipe(up(1),function jE(...e){const t=w(e);return L((i,n)=>{(t?hp(e,i,t):hp(e,i)).subscribe(n)})}(ja)))).pipe(N0((t,i)=>{let n=!1;return i.reduce((s,a,c)=>s!==ja?s:(a===ja&&(n=!0),n||!1!==a&&c!==i.length-1&&!Dr(a)?s:a),t)},ja),Mr(t=>t!==ja),te(t=>Dr(t)?t:!0===t),up(1)))}class UI{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Xa,this.attachRef=null}}class Xa{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const n=this.getOrCreateContext(t);n.outlet=i,this.contexts.set(t,n)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new UI,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}}let Mp=(()=>{class e{constructor(i,n,s,a,c){this.parentContexts=i,this.location=n,this.resolver=s,this.changeDetector=c,this.activated=null,this._activatedRoute=null,this.activateEvents=new Wt,this.deactivateEvents=new Wt,this.attachEvents=new Wt,this.detachEvents=new Wt,this.name=a||Mt,i.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const i=this.parentContexts.getContext(this.name);i&&i.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const i=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(i.instance),i}attach(i,n){this.activated=i,this._activatedRoute=n,this.location.insert(i.hostView),this.attachEvents.emit(i.instance)}deactivate(){if(this.activated){const i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,n){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=i;const c=(n=n||this.resolver).resolveComponentFactory(i._futureSnapshot.routeConfig.component),f=this.parentContexts.getOrCreateContext(this.name).children,v=new XI(i,f,this.location.injector);this.activated=this.location.createComponent(c,this.location.length,v),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(i){return new(i||e)(de(Xa),de(Jn),de(Ta),function Zo(e){return function l1(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const i=e.attrs;if(i){const n=i.length;let s=0;for(;s<n;){const a=i[s];if(Qf(a))break;if(0===a)s+=2;else if("number"==typeof a)for(s++;s<n&&"string"==typeof i[s];)s++;else{if(a===t)return i[s+1];s+=2}}}return null}(Si(),e)}("name"),de(ah))},e.\u0275dir=rt({type:e,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),e})();class XI{constructor(t,i,n){this.route=t,this.childContexts=i,this.parent=n}get(t,i){return t===Io?this.route:t===Xa?this.childContexts:this.parent.get(t,i)}}let xb=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ci({type:e,selectors:[["ng-component"]],decls:1,vars:0,template:function(i,n){1&i&&Ue(0,"router-outlet")},directives:[Mp],encapsulation:2}),e})();function yb(e,t=""){for(let i=0;i<e.length;i++){const n=e[i];zI(n,YI(t,n))}}function zI(e,t){e.children&&yb(e.children,t)}function YI(e,t){return t?e||t.path?e&&!t.path?`${e}/`:!e&&t.path?t.path:`${e}/${t.path}`:"":e}function Tp(e){const t=e.children&&e.children.map(Tp),i=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!i.component&&(t||i.loadChildren)&&i.outlet&&i.outlet!==Mt&&(i.component=xb),i}function Vn(e){return e.outlet||Mt}function vb(e,t){const i=e.filter(n=>Vn(n)===t);return i.push(...e.filter(n=>Vn(n)!==t)),i}const bb={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Oh(e,t,i){var n;if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||i.length>0)?Object.assign({},bb):{matched:!0,consumedSegments:[],remainingSegments:i,parameters:{},positionalParamSegments:{}};const a=(t.matcher||rI)(i,e,t);if(!a)return Object.assign({},bb);const c={};Ri(a.posParams,(v,M)=>{c[M]=v.path});const f=a.consumed.length>0?Object.assign(Object.assign({},c),a.consumed[a.consumed.length-1].parameters):c;return{matched:!0,consumedSegments:a.consumed,remainingSegments:i.slice(a.consumed.length),parameters:f,positionalParamSegments:null!==(n=a.posParams)&&void 0!==n?n:{}}}function Bh(e,t,i,n,s="corrected"){if(i.length>0&&function KI(e,t,i){return i.some(n=>Rh(e,t,n)&&Vn(n)!==Mt)}(e,i,n)){const c=new At(t,function GI(e,t,i,n){const s={};s[Mt]=n,n._sourceSegment=e,n._segmentIndexShift=t.length;for(const a of i)if(""===a.path&&Vn(a)!==Mt){const c=new At([],{});c._sourceSegment=e,c._segmentIndexShift=t.length,s[Vn(a)]=c}return s}(e,t,n,new At(i,e.children)));return c._sourceSegment=e,c._segmentIndexShift=t.length,{segmentGroup:c,slicedSegments:[]}}if(0===i.length&&function QI(e,t,i){return i.some(n=>Rh(e,t,n))}(e,i,n)){const c=new At(e.segments,function $I(e,t,i,n,s,a){const c={};for(const f of n)if(Rh(e,i,f)&&!s[Vn(f)]){const v=new At([],{});v._sourceSegment=e,v._segmentIndexShift="legacy"===a?e.segments.length:t.length,c[Vn(f)]=v}return Object.assign(Object.assign({},s),c)}(e,t,i,n,e.children,s));return c._sourceSegment=e,c._segmentIndexShift=t.length,{segmentGroup:c,slicedSegments:i}}const a=new At(e.segments,e.children);return a._sourceSegment=e,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:i}}function Rh(e,t,i){return(!(e.hasChildren()||t.length>0)||"full"!==i.pathMatch)&&""===i.path}function _b(e,t,i,n){return!!(Vn(e)===n||n!==Mt&&Rh(t,i,e))&&("**"===e.path||Oh(t,e,i).matched)}function Cb(e,t,i){return 0===t.length&&!e.children[i]}class Nh{constructor(t){this.segmentGroup=t||null}}class wb{constructor(t){this.urlTree=t}}function za(e){return Sh(new Nh(e))}function Mb(e){return Sh(new wb(e))}class e2{constructor(t,i,n,s,a){this.configLoader=i,this.urlSerializer=n,this.urlTree=s,this.config=a,this.allowRedirects=!0,this.ngModule=t.get(Fs)}apply(){const t=Bh(this.urlTree.root,[],[],this.config).segmentGroup,i=new At(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,i,Mt).pipe(te(a=>this.createUrlTree(Sp(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(qs(a=>{if(a instanceof wb)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof Nh?this.noMatchError(a):a}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Mt).pipe(te(s=>this.createUrlTree(Sp(s),t.queryParams,t.fragment))).pipe(qs(s=>{throw s instanceof Nh?this.noMatchError(s):s}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,i,n){const s=t.segments.length>0?new At([],{[Mt]:t}):t;return new Tr(s,i,n)}expandSegmentGroup(t,i,n,s){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,i,n).pipe(te(a=>new At([],a))):this.expandSegment(t,n,i,n.segments,s,!0)}expandChildren(t,i,n){const s=[];for(const a of Object.keys(n.children))"primary"===a?s.unshift(a):s.push(a);return F(s).pipe(Do(a=>{const c=n.children[a],f=vb(i,a);return this.expandSegmentGroup(t,f,c,a).pipe(te(v=>({segment:v,outlet:a})))}),N0((a,c)=>(a[c.outlet]=c.segment,a),{}),function zE(e,t){const i=arguments.length>=2;return n=>n.pipe(e?Mr((s,a)=>e(s,a,n)):Ze,cp(1),i?H0(t):W0(()=>new Dh))}())}expandSegment(t,i,n,s,a,c){return F(n).pipe(Do(f=>this.expandSegmentAgainstRoute(t,i,n,f,s,a,c).pipe(qs(M=>{if(M instanceof Nh)return gt(null);throw M}))),Po(f=>!!f),qs((f,v)=>{if(f instanceof Dh||"EmptyError"===f.name)return Cb(i,s,a)?gt(new At([],{})):za(i);throw f}))}expandSegmentAgainstRoute(t,i,n,s,a,c,f){return _b(s,i,a,c)?void 0===s.redirectTo?this.matchSegmentAgainstRoute(t,i,s,a,c):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,i,n,s,a,c):za(i):za(i)}expandSegmentAgainstRouteUsingRedirect(t,i,n,s,a,c){return"**"===s.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,s,c):this.expandRegularSegmentAgainstRouteUsingRedirect(t,i,n,s,a,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,n,s){const a=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Mb(a):this.lineralizeSegments(n,a).pipe(r(c=>{const f=new At(c,{});return this.expandSegment(t,f,i,c,s,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,i,n,s,a,c){const{matched:f,consumedSegments:v,remainingSegments:M,positionalParamSegments:D}=Oh(i,s,a);if(!f)return za(i);const I=this.applyRedirectCommands(v,s.redirectTo,D);return s.redirectTo.startsWith("/")?Mb(I):this.lineralizeSegments(s,I).pipe(r(R=>this.expandSegment(t,i,n,R.concat(M),c,!1)))}matchSegmentAgainstRoute(t,i,n,s,a){if("**"===n.path)return n.loadChildren?(n._loadedConfig?gt(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe(te(I=>(n._loadedConfig=I,new At(s,{})))):gt(new At(s,{}));const{matched:c,consumedSegments:f,remainingSegments:v}=Oh(i,n,s);return c?this.getChildConfig(t,n,s).pipe(r(D=>{const I=D.module,R=D.routes,{segmentGroup:N,slicedSegments:Z}=Bh(i,f,v,R),le=new At(N.segments,N.children);if(0===Z.length&&le.hasChildren())return this.expandChildren(I,R,le).pipe(te(We=>new At(f,We)));if(0===R.length&&0===Z.length)return gt(new At(f,{}));const ve=Vn(n)===a;return this.expandSegment(I,le,R,Z,ve?Mt:a,!0).pipe(te(oe=>new At(f.concat(oe.segments),oe.children)))})):za(i)}getChildConfig(t,i,n){return i.children?gt(new wp(i.children,t)):i.loadChildren?void 0!==i._loadedConfig?gt(i._loadedConfig):this.runCanLoadGuards(t.injector,i,n).pipe(r(s=>s?this.configLoader.load(t.injector,i).pipe(te(a=>(i._loadedConfig=a,a))):function ZI(e){return Sh(pp(`Cannot load children because the guard of the route "path: '${e.path}'" returned false`))}(i))):gt(new wp([],t))}runCanLoadGuards(t,i,n){const s=i.canLoad;return s&&0!==s.length?gt(s.map(c=>{const f=t.get(c);let v;if(function NI(e){return e&&er(e.canLoad)}(f))v=f.canLoad(i,n);else{if(!er(f))throw new Error("Invalid CanLoad guard");v=f(i,n)}return vs(v)})).pipe(Ua(),bn(c=>{if(!Dr(c))return;const f=pp(`Redirecting to "${this.urlSerializer.serialize(c)}"`);throw f.url=c,f}),te(c=>!0===c)):gt(!0)}lineralizeSegments(t,i){let n=[],s=i.root;for(;;){if(n=n.concat(s.segments),0===s.numberOfChildren)return gt(n);if(s.numberOfChildren>1||!s.children[Mt])return Sh(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t.redirectTo}'`));s=s.children[Mt]}}applyRedirectCommands(t,i,n){return this.applyRedirectCreatreUrlTree(i,this.urlSerializer.parse(i),t,n)}applyRedirectCreatreUrlTree(t,i,n,s){const a=this.createSegmentGroup(t,i.root,n,s);return new Tr(a,this.createQueryParams(i.queryParams,this.urlTree.queryParams),i.fragment)}createQueryParams(t,i){const n={};return Ri(t,(s,a)=>{if("string"==typeof s&&s.startsWith(":")){const f=s.substring(1);n[a]=i[f]}else n[a]=s}),n}createSegmentGroup(t,i,n,s){const a=this.createSegments(t,i.segments,n,s);let c={};return Ri(i.children,(f,v)=>{c[v]=this.createSegmentGroup(t,f,n,s)}),new At(a,c)}createSegments(t,i,n,s){return i.map(a=>a.path.startsWith(":")?this.findPosParam(t,a,s):this.findOrReturn(a,n))}findPosParam(t,i,n){const s=n[i.path.substring(1)];if(!s)throw new Error(`Cannot redirect to '${t}'. Cannot find '${i.path}'.`);return s}findOrReturn(t,i){let n=0;for(const s of i){if(s.path===t.path)return i.splice(n),s;n++}return t}}function Sp(e){const t={};for(const n of Object.keys(e.children)){const a=Sp(e.children[n]);(a.segments.length>0||a.hasChildren())&&(t[n]=a)}return function t2(e){if(1===e.numberOfChildren&&e.children[Mt]){const t=e.children[Mt];return new At(e.segments.concat(t.segments),t.children)}return e}(new At(e.segments,t))}class Tb{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Wh{constructor(t,i){this.component=t,this.route=i}}function n2(e,t,i){const n=e._root;return Ya(n,t?t._root:null,i,[n.value])}function Hh(e,t,i){const n=function r2(e){if(!e)return null;for(let t=e.parent;t;t=t.parent){const i=t.routeConfig;if(i&&i._loadedConfig)return i._loadedConfig}return null}(t);return(n?n.module.injector:i).get(e)}function Ya(e,t,i,n,s={canDeactivateChecks:[],canActivateChecks:[]}){const a=Eo(t);return e.children.forEach(c=>{(function o2(e,t,i,n,s={canDeactivateChecks:[],canActivateChecks:[]}){const a=e.value,c=t?t.value:null,f=i?i.getContext(e.value.outlet):null;if(c&&a.routeConfig===c.routeConfig){const v=function a2(e,t,i){if("function"==typeof i)return i(e,t);switch(i){case"pathParamsChange":return!Sr(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Sr(e.url,t.url)||!ys(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!vp(e,t)||!ys(e.queryParams,t.queryParams);default:return!vp(e,t)}}(c,a,a.routeConfig.runGuardsAndResolvers);v?s.canActivateChecks.push(new Tb(n)):(a.data=c.data,a._resolvedData=c._resolvedData),Ya(e,t,a.component?f?f.children:null:i,n,s),v&&f&&f.outlet&&f.outlet.isActivated&&s.canDeactivateChecks.push(new Wh(f.outlet.component,c))}else c&&$a(t,f,s),s.canActivateChecks.push(new Tb(n)),Ya(e,null,a.component?f?f.children:null:i,n,s)})(c,a[c.value.outlet],i,n.concat([c.value]),s),delete a[c.value.outlet]}),Ri(a,(c,f)=>$a(c,i.getContext(f),s)),s}function $a(e,t,i){const n=Eo(e),s=e.value;Ri(n,(a,c)=>{$a(a,s.component?t?t.children.getContext(c):null:t,i)}),i.canDeactivateChecks.push(new Wh(s.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,s))}class m2{}function Sb(e){return new Nt(t=>t.error(e))}class y2{constructor(t,i,n,s,a,c){this.rootComponentType=t,this.config=i,this.urlTree=n,this.url=s,this.paramsInheritanceStrategy=a,this.relativeLinkResolution=c}recognize(){const t=Bh(this.urlTree.root,[],[],this.config.filter(c=>void 0===c.redirectTo),this.relativeLinkResolution).segmentGroup,i=this.processSegmentGroup(this.config,t,Mt);if(null===i)return null;const n=new Fh([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Mt,this.rootComponentType,null,this.urlTree.root,-1,{}),s=new Rs(n,i),a=new ub(this.url,s);return this.inheritParamsAndData(a._root),a}inheritParamsAndData(t){const i=t.value,n=hb(i,this.paramsInheritanceStrategy);i.params=Object.freeze(n.params),i.data=Object.freeze(n.data),t.children.forEach(s=>this.inheritParamsAndData(s))}processSegmentGroup(t,i,n){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,i):this.processSegment(t,i,i.segments,n)}processChildren(t,i){const n=[];for(const a of Object.keys(i.children)){const c=i.children[a],f=vb(t,a),v=this.processSegmentGroup(f,c,a);if(null===v)return null;n.push(...v)}const s=Db(n);return function v2(e){e.sort((t,i)=>t.value.outlet===Mt?-1:i.value.outlet===Mt?1:t.value.outlet.localeCompare(i.value.outlet))}(s),s}processSegment(t,i,n,s){for(const a of t){const c=this.processSegmentAgainstRoute(a,i,n,s);if(null!==c)return c}return Cb(i,n,s)?[]:null}processSegmentAgainstRoute(t,i,n,s){if(t.redirectTo||!_b(t,i,n,s))return null;let a,c=[],f=[];if("**"===t.path){const N=n.length>0?K0(n).parameters:{};a=new Fh(n,N,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ab(t),Vn(t),t.component,t,Pb(i),kb(i)+n.length,Eb(t))}else{const N=Oh(i,t,n);if(!N.matched)return null;c=N.consumedSegments,f=N.remainingSegments,a=new Fh(c,N.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ab(t),Vn(t),t.component,t,Pb(i),kb(i)+c.length,Eb(t))}const v=function b2(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(t),{segmentGroup:M,slicedSegments:D}=Bh(i,c,f,v.filter(N=>void 0===N.redirectTo),this.relativeLinkResolution);if(0===D.length&&M.hasChildren()){const N=this.processChildren(v,M);return null===N?null:[new Rs(a,N)]}if(0===v.length&&0===D.length)return[new Rs(a,[])];const I=Vn(t)===s,R=this.processSegment(v,M,D,I?Mt:s);return null===R?null:[new Rs(a,R)]}}function _2(e){const t=e.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Db(e){const t=[],i=new Set;for(const n of e){if(!_2(n)){t.push(n);continue}const s=t.find(a=>n.value.routeConfig===a.value.routeConfig);void 0!==s?(s.children.push(...n.children),i.add(s)):t.push(n)}for(const n of i){const s=Db(n.children);t.push(new Rs(n.value,s))}return t.filter(n=>!i.has(n))}function Pb(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function kb(e){let t=e,i=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,i+=t._segmentIndexShift?t._segmentIndexShift:0;return i-1}function Ab(e){return e.data||{}}function Eb(e){return e.resolve||{}}function Ib(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function Dp(e){return wr(t=>{const i=e(t);return i?F(i).pipe(te(()=>t)):gt(t)})}class k2 extends class P2{shouldDetach(t){return!1}store(t,i){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,i){return t.routeConfig===i.routeConfig}}{}const Pp=new yt("ROUTES");class Fb{constructor(t,i,n,s){this.injector=t,this.compiler=i,this.onLoadStartListener=n,this.onLoadEndListener=s}load(t,i){if(i._loader$)return i._loader$;this.onLoadStartListener&&this.onLoadStartListener(i);const s=this.loadModuleFactory(i.loadChildren).pipe(te(a=>{this.onLoadEndListener&&this.onLoadEndListener(i);const c=a.create(t);return new wp(G0(c.injector.get(Pp,void 0,Ce.Self|Ce.Optional)).map(Tp),c)}),qs(a=>{throw i._loader$=void 0,a}));return i._loader$=new HE(s,()=>new Y).pipe(R0()),i._loader$}loadModuleFactory(t){return vs(t()).pipe(r(i=>i instanceof Gy?gt(i):F(this.compiler.compileModuleAsync(i))))}}class E2{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}}function I2(e){throw e}function F2(e,t,i){return t.parse("/")}function Lb(e,t){return gt(null)}const L2={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},V2={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Fi=(()=>{class e{constructor(i,n,s,a,c,f,v){this.rootComponentType=i,this.urlSerializer=n,this.rootContexts=s,this.location=a,this.config=v,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Y,this.errorHandler=I2,this.malformedUriErrorHandler=F2,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Lb,afterPreactivation:Lb},this.urlHandlingStrategy=new E2,this.routeReuseStrategy=new k2,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=c.get(Fs),this.console=c.get(NP);const I=c.get(Oi);this.isNgZoneEnabled=I instanceof Oi&&Oi.isInAngularZone(),this.resetConfig(v),this.currentUrlTree=function aI(){return new Tr(new At([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Fb(c,f,R=>this.triggerEvent(new U0(R)),R=>this.triggerEvent(new X0(R))),this.routerState=lb(this.currentUrlTree,this.rootComponentType),this.transitions=new Bi({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var i;return null===(i=this.location.getState())||void 0===i?void 0:i.\u0275routerPageId}setupNavigations(i){const n=this.events;return i.pipe(Mr(s=>0!==s.id),te(s=>Object.assign(Object.assign({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),wr(s=>{let a=!1,c=!1;return gt(s).pipe(bn(f=>{this.currentNavigation={id:f.id,initialUrl:f.currentRawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),wr(f=>{const v=this.browserUrlTree.toString(),M=!this.navigated||f.extractedUrl.toString()!==v||v!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||M)&&this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return Vb(f.source)&&(this.browserUrlTree=f.extractedUrl),gt(f).pipe(wr(I=>{const R=this.transitions.getValue();return n.next(new dp(I.id,this.serializeUrl(I.extractedUrl),I.source,I.restoredState)),R!==this.transitions.getValue()?l:Promise.resolve(I)}),function i2(e,t,i,n){return wr(s=>function qI(e,t,i,n,s){return new e2(e,t,i,n,s).apply()}(e,t,i,s.extractedUrl,n).pipe(te(a=>Object.assign(Object.assign({},s),{urlAfterRedirects:a}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),bn(I=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:I.urlAfterRedirects})}),function C2(e,t,i,n,s){return r(a=>function x2(e,t,i,n,s="emptyOnly",a="legacy"){try{const c=new y2(e,t,i,n,s,a).recognize();return null===c?Sb(new m2):gt(c)}catch(c){return Sb(c)}}(e,t,a.urlAfterRedirects,i(a.urlAfterRedirects),n,s).pipe(te(c=>Object.assign(Object.assign({},a),{targetSnapshot:c}))))}(this.rootComponentType,this.config,I=>this.serializeUrl(I),this.paramsInheritanceStrategy,this.relativeLinkResolution),bn(I=>{if("eager"===this.urlUpdateStrategy){if(!I.extras.skipLocationChange){const N=this.urlHandlingStrategy.merge(I.urlAfterRedirects,I.rawUrl);this.setBrowserUrl(N,I)}this.browserUrlTree=I.urlAfterRedirects}const R=new GE(I.id,this.serializeUrl(I.extractedUrl),this.serializeUrl(I.urlAfterRedirects),I.targetSnapshot);n.next(R)}));if(M&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:R,extractedUrl:N,source:Z,restoredState:le,extras:ve}=f,ye=new dp(R,this.serializeUrl(N),Z,le);n.next(ye);const oe=lb(N,this.rootComponentType).snapshot;return gt(Object.assign(Object.assign({},f),{targetSnapshot:oe,urlAfterRedirects:N,extras:Object.assign(Object.assign({},ve),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=f.rawUrl,f.resolve(null),l}),Dp(f=>{const{targetSnapshot:v,id:M,extractedUrl:D,rawUrl:I,extras:{skipLocationChange:R,replaceUrl:N}}=f;return this.hooks.beforePreactivation(v,{navigationId:M,appliedUrlTree:D,rawUrlTree:I,skipLocationChange:!!R,replaceUrl:!!N})}),bn(f=>{const v=new KE(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(v)}),te(f=>Object.assign(Object.assign({},f),{guards:n2(f.targetSnapshot,f.currentSnapshot,this.rootContexts)})),function l2(e,t){return r(i=>{const{targetSnapshot:n,currentSnapshot:s,guards:{canActivateChecks:a,canDeactivateChecks:c}}=i;return 0===c.length&&0===a.length?gt(Object.assign(Object.assign({},i),{guardsResult:!0})):function h2(e,t,i,n){return F(e).pipe(r(s=>function g2(e,t,i,n,s){const a=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return a&&0!==a.length?gt(a.map(f=>{const v=Hh(f,t,s);let M;if(function jI(e){return e&&er(e.canDeactivate)}(v))M=vs(v.canDeactivate(e,t,i,n));else{if(!er(v))throw new Error("Invalid CanDeactivate guard");M=vs(v(e,t,i,n))}return M.pipe(Po())})).pipe(Ua()):gt(!0)}(s.component,s.route,i,t,n)),Po(s=>!0!==s,!0))}(c,n,s,e).pipe(r(f=>f&&function RI(e){return"boolean"==typeof e}(f)?function u2(e,t,i,n){return F(t).pipe(Do(s=>hp(function d2(e,t){return null!==e&&t&&t(new qE(e)),gt(!0)}(s.route.parent,n),function c2(e,t){return null!==e&&t&&t(new tI(e)),gt(!0)}(s.route,n),function f2(e,t,i){const n=t[t.length-1],a=t.slice(0,t.length-1).reverse().map(c=>function s2(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(c)).filter(c=>null!==c).map(c=>B0(()=>gt(c.guards.map(v=>{const M=Hh(v,c.node,i);let D;if(function HI(e){return e&&er(e.canActivateChild)}(M))D=vs(M.canActivateChild(n,e));else{if(!er(M))throw new Error("Invalid CanActivateChild guard");D=vs(M(n,e))}return D.pipe(Po())})).pipe(Ua())));return gt(a).pipe(Ua())}(e,s.path,i),function p2(e,t,i){const n=t.routeConfig?t.routeConfig.canActivate:null;if(!n||0===n.length)return gt(!0);const s=n.map(a=>B0(()=>{const c=Hh(a,t,i);let f;if(function WI(e){return e&&er(e.canActivate)}(c))f=vs(c.canActivate(t,e));else{if(!er(c))throw new Error("Invalid CanActivate guard");f=vs(c(t,e))}return f.pipe(Po())}));return gt(s).pipe(Ua())}(e,s.route,i))),Po(s=>!0!==s,!0))}(n,a,e,t):gt(f)),te(f=>Object.assign(Object.assign({},i),{guardsResult:f})))})}(this.ngModule.injector,f=>this.triggerEvent(f)),bn(f=>{if(Dr(f.guardsResult)){const M=pp(`Redirecting to "${this.serializeUrl(f.guardsResult)}"`);throw M.url=f.guardsResult,M}const v=new QE(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.triggerEvent(v)}),Mr(f=>!!f.guardsResult||(this.restoreHistory(f),this.cancelNavigationTransition(f,""),!1)),Dp(f=>{if(f.guards.canActivateChecks.length)return gt(f).pipe(bn(v=>{const M=new JE(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(M)}),wr(v=>{let M=!1;return gt(v).pipe(function w2(e,t){return r(i=>{const{targetSnapshot:n,guards:{canActivateChecks:s}}=i;if(!s.length)return gt(i);let a=0;return F(s).pipe(Do(c=>function M2(e,t,i,n){return function T2(e,t,i,n){const s=Ib(e);if(0===s.length)return gt({});const a={};return F(s).pipe(r(c=>function S2(e,t,i,n){const s=Hh(e,t,n);return vs(s.resolve?s.resolve(t,i):s(t,i))}(e[c],t,i,n).pipe(bn(f=>{a[c]=f}))),cp(1),r(()=>Ib(a).length===s.length?gt(a):l))}(e._resolve,e,t,n).pipe(te(a=>(e._resolvedData=a,e.data=Object.assign(Object.assign({},e.data),hb(e,i).resolve),null)))}(c.route,n,e,t)),bn(()=>a++),cp(1),r(c=>a===s.length?gt(i):l))})}(this.paramsInheritanceStrategy,this.ngModule.injector),bn({next:()=>M=!0,complete:()=>{M||(this.restoreHistory(v),this.cancelNavigationTransition(v,"At least one route resolver didn't emit any value."))}}))}),bn(v=>{const M=new ZE(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(M)}))}),Dp(f=>{const{targetSnapshot:v,id:M,extractedUrl:D,rawUrl:I,extras:{skipLocationChange:R,replaceUrl:N}}=f;return this.hooks.afterPreactivation(v,{navigationId:M,appliedUrlTree:D,rawUrlTree:I,skipLocationChange:!!R,replaceUrl:!!N})}),te(f=>{const v=function TI(e,t,i){const n=Wa(e,t._root,i?i._root:void 0);return new ab(n,t)}(this.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return Object.assign(Object.assign({},f),{targetRouterState:v})}),bn(f=>{this.currentUrlTree=f.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),this.routerState=f.targetRouterState,"deferred"===this.urlUpdateStrategy&&(f.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,f),this.browserUrlTree=f.urlAfterRedirects)}),((e,t,i)=>te(n=>(new OI(t,n.targetRouterState,n.currentRouterState,i).activate(e),n)))(this.rootContexts,this.routeReuseStrategy,f=>this.triggerEvent(f)),bn({next(){a=!0},complete(){a=!0}}),function YE(e){return L((t,i)=>{try{t.subscribe(i)}finally{i.add(e)}})}(()=>{var f;a||c||this.cancelNavigationTransition(s,`Navigation ID ${s.id} is not equal to the current navigation id ${this.navigationId}`),(null===(f=this.currentNavigation)||void 0===f?void 0:f.id)===s.id&&(this.currentNavigation=null)}),qs(f=>{if(c=!0,function sI(e){return e&&e[Y0]}(f)){const v=Dr(f.url);v||(this.navigated=!0,this.restoreHistory(s,!0));const M=new j0(s.id,this.serializeUrl(s.extractedUrl),f.message);n.next(M),v?setTimeout(()=>{const D=this.urlHandlingStrategy.merge(f.url,this.rawUrlTree),I={skipLocationChange:s.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Vb(s.source)};this.scheduleNavigation(D,"imperative",null,I,{resolve:s.resolve,reject:s.reject,promise:s.promise})},0):s.resolve(!1)}else{this.restoreHistory(s,!0);const v=new $E(s.id,this.serializeUrl(s.extractedUrl),f);n.next(v);try{s.resolve(this.errorHandler(f))}catch(M){s.reject(M)}}return l}))}))}resetRootComponentType(i){this.rootComponentType=i,this.routerState.root.component=this.rootComponentType}setTransition(i){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),i))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(i=>{const n="popstate"===i.type?"popstate":"hashchange";"popstate"===n&&setTimeout(()=>{var s;const a={replaceUrl:!0},c=(null===(s=i.state)||void 0===s?void 0:s.navigationId)?i.state:null;if(c){const v=Object.assign({},c);delete v.navigationId,delete v.\u0275routerPageId,0!==Object.keys(v).length&&(a.state=v)}const f=this.parseUrl(i.url);this.scheduleNavigation(f,n,c,a)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(i){this.events.next(i)}resetConfig(i){yb(i),this.config=i.map(Tp),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(i,n={}){const{relativeTo:s,queryParams:a,fragment:c,queryParamsHandling:f,preserveFragment:v}=n,M=s||this.routerState.root,D=v?this.currentUrlTree.fragment:c;let I=null;switch(f){case"merge":I=Object.assign(Object.assign({},this.currentUrlTree.queryParams),a);break;case"preserve":I=this.currentUrlTree.queryParams;break;default:I=a||null}return null!==I&&(I=this.removeEmptyProps(I)),function PI(e,t,i,n,s){if(0===i.length)return bp(t.root,t.root,t.root,n,s);const a=function kI(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new pb(!0,0,e);let t=0,i=!1;const n=e.reduce((s,a,c)=>{if("object"==typeof a&&null!=a){if(a.outlets){const f={};return Ri(a.outlets,(v,M)=>{f[M]="string"==typeof v?v.split("/"):v}),[...s,{outlets:f}]}if(a.segmentPath)return[...s,a.segmentPath]}return"string"!=typeof a?[...s,a]:0===c?(a.split("/").forEach((f,v)=>{0==v&&"."===f||(0==v&&""===f?i=!0:".."===f?t++:""!=f&&s.push(f))}),s):[...s,a]},[]);return new pb(i,t,n)}(i);if(a.toRoot())return bp(t.root,t.root,new At([],{}),n,s);const c=function AI(e,t,i){if(e.isAbsolute)return new _p(t.root,!0,0);if(-1===i.snapshot._lastPathIndex){const a=i.snapshot._urlSegment;return new _p(a,a===t.root,0)}const n=Lh(e.commands[0])?0:1;return function EI(e,t,i){let n=e,s=t,a=i;for(;a>s;){if(a-=s,n=n.parent,!n)throw new Error("Invalid number of '../'");s=n.segments.length}return new _p(n,!1,s-a)}(i.snapshot._urlSegment,i.snapshot._lastPathIndex+n,e.numberOfDoubleDots)}(a,t,e),f=c.processChildren?Vh(c.segmentGroup,c.index,a.commands):fb(c.segmentGroup,c.index,a.commands);return bp(t.root,c.segmentGroup,f,n,s)}(M,this.currentUrlTree,i,I,null!=D?D:null)}navigateByUrl(i,n={skipLocationChange:!1}){const s=Dr(i)?i:this.parseUrl(i),a=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(a,"imperative",null,n)}navigate(i,n={skipLocationChange:!1}){return function O2(e){for(let t=0;t<e.length;t++){const i=e[t];if(null==i)throw new Error(`The requested path contains ${i} segment at index ${t}`)}}(i),this.navigateByUrl(this.createUrlTree(i,n),n)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){let n;try{n=this.urlSerializer.parse(i)}catch(s){n=this.malformedUriErrorHandler(s,this.urlSerializer,i)}return n}isActive(i,n){let s;if(s=!0===n?Object.assign({},L2):!1===n?Object.assign({},V2):n,Dr(i))return J0(this.currentUrlTree,i,s);const a=this.parseUrl(i);return J0(this.currentUrlTree,a,s)}removeEmptyProps(i){return Object.keys(i).reduce((n,s)=>{const a=i[s];return null!=a&&(n[s]=a),n},{})}processNavigations(){this.navigations.subscribe(i=>{this.navigated=!0,this.lastSuccessfulId=i.id,this.currentPageId=i.targetPageId,this.events.next(new ko(i.id,this.serializeUrl(i.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,i.resolve(!0)},i=>{this.console.warn(`Unhandled Navigation Error: ${i}`)})}scheduleNavigation(i,n,s,a,c){var f,v;if(this.disposed)return Promise.resolve(!1);let M,D,I;c?(M=c.resolve,D=c.reject,I=c.promise):I=new Promise((Z,le)=>{M=Z,D=le});const R=++this.navigationId;let N;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(s=this.location.getState()),N=s&&s.\u0275routerPageId?s.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?null!==(f=this.browserPageId)&&void 0!==f?f:0:(null!==(v=this.browserPageId)&&void 0!==v?v:0)+1):N=0,this.setTransition({id:R,targetPageId:N,source:n,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:i,extras:a,resolve:M,reject:D,promise:I,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),I.catch(Z=>Promise.reject(Z))}setBrowserUrl(i,n){const s=this.urlSerializer.serialize(i),a=Object.assign(Object.assign({},n.extras.state),this.generateNgRouterState(n.id,n.targetPageId));this.location.isCurrentPathEqualTo(s)||n.extras.replaceUrl?this.location.replaceState(s,"",a):this.location.go(s,"",a)}restoreHistory(i,n=!1){var s,a;if("computed"===this.canceledNavigationResolution){const c=this.currentPageId-i.targetPageId;"popstate"!==i.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)||0===c?this.currentUrlTree===(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl)&&0===c&&(this.resetState(i),this.browserUrlTree=i.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(c)}else"replace"===this.canceledNavigationResolution&&(n&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=i.currentRouterState,this.currentUrlTree=i.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(i,n){const s=new j0(i.id,this.serializeUrl(i.extractedUrl),n);this.triggerEvent(s),i.resolve(!1)}generateNgRouterState(i,n){return"computed"===this.canceledNavigationResolution?{navigationId:i,\u0275routerPageId:n}:{navigationId:i}}}return e.\u0275fac=function(i){Uc()},e.\u0275prov=Pe({token:e,factory:e.\u0275fac}),e})();function Vb(e){return"imperative"!==e}let Fo=(()=>{class e{constructor(i,n,s){this.router=i,this.route=n,this.locationStrategy=s,this.commands=null,this.href=null,this.onChanges=new Y,this.subscription=i.events.subscribe(a=>{a instanceof ko&&this.updateTargetUrlAndHref()})}set routerLink(i){this.commands=null!=i?Array.isArray(i)?i:[i]:null}ngOnChanges(i){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(i,n,s,a,c){if(0!==i||n||s||a||c||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const f={skipLocationChange:Lo(this.skipLocationChange),replaceUrl:Lo(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,f),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Lo(this.preserveFragment)})}}return e.\u0275fac=function(i){return new(i||e)(de(Fi),de(Io),de(To))},e.\u0275dir=rt({type:e,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(i,n){1&i&&Xe("click",function(a){return n.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&i&&ps("target",n.target)("href",n.href,$u)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[ln]}),e})();function Lo(e){return""===e||!!e}class Ob{}class Bb{preload(t,i){return gt(null)}}let Rb=(()=>{class e{constructor(i,n,s,a){this.router=i,this.injector=s,this.preloadingStrategy=a,this.loader=new Fb(s,n,v=>i.triggerEvent(new U0(v)),v=>i.triggerEvent(new X0(v)))}setUpPreloading(){this.subscription=this.router.events.pipe(Mr(i=>i instanceof ko),Do(()=>this.preload())).subscribe(()=>{})}preload(){const i=this.injector.get(Fs);return this.processRoutes(i,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(i,n){const s=[];for(const a of n)if(a.loadChildren&&!a.canLoad&&a._loadedConfig){const c=a._loadedConfig;s.push(this.processRoutes(c.module,c.routes))}else a.loadChildren&&!a.canLoad?s.push(this.preloadConfig(i,a)):a.children&&s.push(this.processRoutes(i,a.children));return F(s).pipe(u(),te(a=>{}))}preloadConfig(i,n){return this.preloadingStrategy.preload(n,()=>(n._loadedConfig?gt(n._loadedConfig):this.loader.load(i.injector,n)).pipe(r(a=>(n._loadedConfig=a,this.processRoutes(a.module,a.routes)))))}}return e.\u0275fac=function(i){return new(i||e)(Oe(Fi),Oe(Ev),Oe(en),Oe(Ob))},e.\u0275prov=Pe({token:e,factory:e.\u0275fac}),e})(),Ap=(()=>{class e{constructor(i,n,s={}){this.router=i,this.viewportScroller=n,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(i=>{i instanceof dp?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=i.navigationTrigger,this.restoredId=i.restoredState?i.restoredState.navigationId:0):i instanceof ko&&(this.lastId=i.id,this.scheduleScrollEvent(i,this.router.parseUrl(i.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(i=>{i instanceof z0&&(i.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(i.position):i.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(i.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(i,n){this.router.triggerEvent(new z0(i,"popstate"===this.lastSource?this.store[this.restoredId]:null,n))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return e.\u0275fac=function(i){Uc()},e.\u0275prov=Pe({token:e,factory:e.\u0275fac}),e})();const Pr=new yt("ROUTER_CONFIGURATION"),Nb=new yt("ROUTER_FORROOT_GUARD"),W2=[jd,{provide:tb,useClass:ib},{provide:Fi,useFactory:function z2(e,t,i,n,s,a,c={},f,v){const M=new Fi(null,e,t,i,n,s,G0(a));return f&&(M.urlHandlingStrategy=f),v&&(M.routeReuseStrategy=v),function Y2(e,t){e.errorHandler&&(t.errorHandler=e.errorHandler),e.malformedUriErrorHandler&&(t.malformedUriErrorHandler=e.malformedUriErrorHandler),e.onSameUrlNavigation&&(t.onSameUrlNavigation=e.onSameUrlNavigation),e.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=e.paramsInheritanceStrategy),e.relativeLinkResolution&&(t.relativeLinkResolution=e.relativeLinkResolution),e.urlUpdateStrategy&&(t.urlUpdateStrategy=e.urlUpdateStrategy),e.canceledNavigationResolution&&(t.canceledNavigationResolution=e.canceledNavigationResolution)}(c,M),c.enableTracing&&M.events.subscribe(D=>{var I,R;null===(I=console.group)||void 0===I||I.call(console,`Router Event: ${D.constructor.name}`),console.log(D.toString()),console.log(D),null===(R=console.groupEnd)||void 0===R||R.call(console)}),M},deps:[tb,Xa,jd,en,Ev,Pp,Pr,[class A2{},new $s],[class D2{},new $s]]},Xa,{provide:Io,useFactory:function $2(e){return e.routerState.root},deps:[Fi]},Rb,Bb,class N2{preload(t,i){return i().pipe(qs(()=>gt(null)))}},{provide:Pr,useValue:{enableTracing:!1}}];function H2(){return new Ov("Router",Fi)}let Wb=(()=>{class e{constructor(i,n){}static forRoot(i,n){return{ngModule:e,providers:[W2,Hb(i),{provide:Nb,useFactory:X2,deps:[[Fi,new $s,new ra]]},{provide:Pr,useValue:n||{}},{provide:To,useFactory:U2,deps:[Cr,[new El(Hd),new $s],Pr]},{provide:Ap,useFactory:j2,deps:[Fi,$A,Pr]},{provide:Ob,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Bb},{provide:Ov,multi:!0,useFactory:H2},[Ep,{provide:Md,multi:!0,useFactory:G2,deps:[Ep]},{provide:jb,useFactory:K2,deps:[Ep]},{provide:Av,multi:!0,useExisting:jb}]]}}static forChild(i){return{ngModule:e,providers:[Hb(i)]}}}return e.\u0275fac=function(i){return new(i||e)(Oe(Nb,8),Oe(Fi,8))},e.\u0275mod=Hi({type:e}),e.\u0275inj=ot({}),e})();function j2(e,t,i){return i.scrollOffset&&t.setOffset(i.scrollOffset),new Ap(e,t,i)}function U2(e,t,i={}){return i.useHash?new Ek(e,t):new t0(e,t)}function X2(e){return"guarded"}function Hb(e){return[{provide:p1,multi:!0,useValue:e},{provide:Pp,multi:!0,useValue:e}]}let Ep=(()=>{class e{constructor(i){this.injector=i,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Y}appInitializer(){return this.injector.get(Pk,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let n=null;const s=new Promise(f=>n=f),a=this.injector.get(Fi),c=this.injector.get(Pr);return"disabled"===c.initialNavigation?(a.setUpLocationChangeListener(),n(!0)):"enabled"===c.initialNavigation||"enabledBlocking"===c.initialNavigation?(a.hooks.afterPreactivation=()=>this.initNavigation?gt(null):(this.initNavigation=!0,n(!0),this.resultOfPreactivationDone),a.initialNavigation()):n(!0),s})}bootstrapListener(i){const n=this.injector.get(Pr),s=this.injector.get(Rb),a=this.injector.get(Ap),c=this.injector.get(Fi),f=this.injector.get(Ld);i===f.components[0]&&(("enabledNonBlocking"===n.initialNavigation||void 0===n.initialNavigation)&&c.initialNavigation(),s.setUpPreloading(),a.init(),c.resetRootComponentType(f.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return e.\u0275fac=function(i){return new(i||e)(Oe(en))},e.\u0275prov=Pe({token:e,factory:e.\u0275fac}),e})();function G2(e){return e.appInitializer.bind(e)}function K2(e){return e.bootstrapListener.bind(e)}const jb=new yt("Router Initializer");class Ub{}class Xb{}class On{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(i=>{const n=i.indexOf(":");if(n>0){const s=i.slice(0,n),a=s.toLowerCase(),c=i.slice(n+1).trim();this.maybeSetNormalizedName(s,a),this.headers.has(a)?this.headers.get(a).push(c):this.headers.set(a,[c])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(i=>{let n=t[i];const s=i.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(s,n),this.maybeSetNormalizedName(i,s))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const i=this.headers.get(t.toLowerCase());return i&&i.length>0?i[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,i){return this.clone({name:t,value:i,op:"a"})}set(t,i){return this.clone({name:t,value:i,op:"s"})}delete(t,i){return this.clone({name:t,value:i,op:"d"})}maybeSetNormalizedName(t,i){this.normalizedNames.has(i)||this.normalizedNames.set(i,t)}init(){this.lazyInit&&(this.lazyInit instanceof On?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(i=>{this.headers.set(i,t.headers.get(i)),this.normalizedNames.set(i,t.normalizedNames.get(i))})}clone(t){const i=new On;return i.lazyInit=this.lazyInit&&this.lazyInit instanceof On?this.lazyInit:this,i.lazyUpdate=(this.lazyUpdate||[]).concat([t]),i}applyUpdate(t){const i=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,i);const s=("a"===t.op?this.headers.get(i):void 0)||[];s.push(...n),this.headers.set(i,s);break;case"d":const a=t.value;if(a){let c=this.headers.get(i);if(!c)return;c=c.filter(f=>-1===a.indexOf(f)),0===c.length?(this.headers.delete(i),this.normalizedNames.delete(i)):this.headers.set(i,c)}else this.headers.delete(i),this.normalizedNames.delete(i)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(i=>t(this.normalizedNames.get(i),this.headers.get(i)))}}class J2{encodeKey(t){return zb(t)}encodeValue(t){return zb(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const q2=/%(\d[a-f0-9])/gi,eF={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function zb(e){return encodeURIComponent(e).replace(q2,(t,i)=>{var n;return null!==(n=eF[i])&&void 0!==n?n:t})}function Yb(e){return`${e}`}class tr{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new J2,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Z2(e,t){const i=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(s=>{const a=s.indexOf("="),[c,f]=-1==a?[t.decodeKey(s),""]:[t.decodeKey(s.slice(0,a)),t.decodeValue(s.slice(a+1))],v=i.get(c)||[];v.push(f),i.set(c,v)}),i}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(i=>{const n=t.fromObject[i];this.map.set(i,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const i=this.map.get(t);return i?i[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,i){return this.clone({param:t,value:i,op:"a"})}appendAll(t){const i=[];return Object.keys(t).forEach(n=>{const s=t[n];Array.isArray(s)?s.forEach(a=>{i.push({param:n,value:a,op:"a"})}):i.push({param:n,value:s,op:"a"})}),this.clone(i)}set(t,i){return this.clone({param:t,value:i,op:"s"})}delete(t,i){return this.clone({param:t,value:i,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const i=this.encoder.encodeKey(t);return this.map.get(t).map(n=>i+"="+this.encoder.encodeValue(n)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const i=new tr({encoder:this.encoder});return i.cloneFrom=this.cloneFrom||this,i.updates=(this.updates||[]).concat(t),i}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const i=("a"===t.op?this.map.get(t.param):void 0)||[];i.push(Yb(t.value)),this.map.set(t.param,i);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let n=this.map.get(t.param)||[];const s=n.indexOf(Yb(t.value));-1!==s&&n.splice(s,1),n.length>0?this.map.set(t.param,n):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class tF{constructor(){this.map=new Map}set(t,i){return this.map.set(t,i),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function $b(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function Gb(e){return"undefined"!=typeof Blob&&e instanceof Blob}function Kb(e){return"undefined"!=typeof FormData&&e instanceof FormData}class Ga{constructor(t,i,n,s){let a;if(this.url=i,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function iF(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||s?(this.body=void 0!==n?n:null,a=s):a=n,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params)),this.headers||(this.headers=new On),this.context||(this.context=new tF),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=i;else{const f=i.indexOf("?");this.urlWithParams=i+(-1===f?"?":f<i.length-1?"&":"")+c}}else this.params=new tr,this.urlWithParams=i}serializeBody(){return null===this.body?null:$b(this.body)||Gb(this.body)||Kb(this.body)||function nF(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof tr?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Kb(this.body)?null:Gb(this.body)?this.body.type||null:$b(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof tr?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var i;const n=t.method||this.method,s=t.url||this.url,a=t.responseType||this.responseType,c=void 0!==t.body?t.body:this.body,f=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,v=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let M=t.headers||this.headers,D=t.params||this.params;const I=null!==(i=t.context)&&void 0!==i?i:this.context;return void 0!==t.setHeaders&&(M=Object.keys(t.setHeaders).reduce((R,N)=>R.set(N,t.setHeaders[N]),M)),t.setParams&&(D=Object.keys(t.setParams).reduce((R,N)=>R.set(N,t.setParams[N]),D)),new Ga(n,s,c,{params:D,headers:M,context:I,reportProgress:v,responseType:a,withCredentials:f})}}var Ci=(()=>((Ci=Ci||{})[Ci.Sent=0]="Sent",Ci[Ci.UploadProgress=1]="UploadProgress",Ci[Ci.ResponseHeader=2]="ResponseHeader",Ci[Ci.DownloadProgress=3]="DownloadProgress",Ci[Ci.Response=4]="Response",Ci[Ci.User=5]="User",Ci))();class Ip{constructor(t,i=200,n="OK"){this.headers=t.headers||new On,this.status=void 0!==t.status?t.status:i,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Fp extends Ip{constructor(t={}){super(t),this.type=Ci.ResponseHeader}clone(t={}){return new Fp({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class jh extends Ip{constructor(t={}){super(t),this.type=Ci.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new jh({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Qb extends Ip{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function Lp(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let Uh=(()=>{class e{constructor(i){this.handler=i}request(i,n,s={}){let a;if(i instanceof Ga)a=i;else{let v,M;v=s.headers instanceof On?s.headers:new On(s.headers),s.params&&(M=s.params instanceof tr?s.params:new tr({fromObject:s.params})),a=new Ga(i,n,void 0!==s.body?s.body:null,{headers:v,context:s.context,params:M,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials})}const c=gt(a).pipe(Do(v=>this.handler.handle(v)));if(i instanceof Ga||"events"===s.observe)return c;const f=c.pipe(Mr(v=>v instanceof jh));switch(s.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return f.pipe(te(v=>{if(null!==v.body&&!(v.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return v.body}));case"blob":return f.pipe(te(v=>{if(null!==v.body&&!(v.body instanceof Blob))throw new Error("Response is not a Blob.");return v.body}));case"text":return f.pipe(te(v=>{if(null!==v.body&&"string"!=typeof v.body)throw new Error("Response is not a string.");return v.body}));default:return f.pipe(te(v=>v.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(i,n={}){return this.request("DELETE",i,n)}get(i,n={}){return this.request("GET",i,n)}head(i,n={}){return this.request("HEAD",i,n)}jsonp(i,n){return this.request("JSONP",i,{params:(new tr).append(n,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(i,n={}){return this.request("OPTIONS",i,n)}patch(i,n,s={}){return this.request("PATCH",i,Lp(s,n))}post(i,n,s={}){return this.request("POST",i,Lp(s,n))}put(i,n,s={}){return this.request("PUT",i,Lp(s,n))}}return e.\u0275fac=function(i){return new(i||e)(Oe(Ub))},e.\u0275prov=Pe({token:e,factory:e.\u0275fac}),e})();class Jb{constructor(t,i){this.next=t,this.interceptor=i}handle(t){return this.interceptor.intercept(t,this.next)}}const Vp=new yt("HTTP_INTERCEPTORS");let sF=(()=>{class e{intercept(i,n){return n.handle(i)}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Pe({token:e,factory:e.\u0275fac}),e})();const rF=/^\)\]\}',?\n/;let Zb=(()=>{class e{constructor(i){this.xhrFactory=i}handle(i){if("JSONP"===i.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Nt(n=>{const s=this.xhrFactory.build();if(s.open(i.method,i.urlWithParams),i.withCredentials&&(s.withCredentials=!0),i.headers.forEach((N,Z)=>s.setRequestHeader(N,Z.join(","))),i.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!i.headers.has("Content-Type")){const N=i.detectContentTypeHeader();null!==N&&s.setRequestHeader("Content-Type",N)}if(i.responseType){const N=i.responseType.toLowerCase();s.responseType="json"!==N?N:"text"}const a=i.serializeBody();let c=null;const f=()=>{if(null!==c)return c;const N=s.statusText||"OK",Z=new On(s.getAllResponseHeaders()),le=function oF(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(s)||i.url;return c=new Fp({headers:Z,status:s.status,statusText:N,url:le}),c},v=()=>{let{headers:N,status:Z,statusText:le,url:ve}=f(),ye=null;204!==Z&&(ye=void 0===s.response?s.responseText:s.response),0===Z&&(Z=ye?200:0);let oe=Z>=200&&Z<300;if("json"===i.responseType&&"string"==typeof ye){const We=ye;ye=ye.replace(rF,"");try{ye=""!==ye?JSON.parse(ye):null}catch(dt){ye=We,oe&&(oe=!1,ye={error:dt,text:ye})}}oe?(n.next(new jh({body:ye,headers:N,status:Z,statusText:le,url:ve||void 0})),n.complete()):n.error(new Qb({error:ye,headers:N,status:Z,statusText:le,url:ve||void 0}))},M=N=>{const{url:Z}=f(),le=new Qb({error:N,status:s.status||0,statusText:s.statusText||"Unknown Error",url:Z||void 0});n.error(le)};let D=!1;const I=N=>{D||(n.next(f()),D=!0);let Z={type:Ci.DownloadProgress,loaded:N.loaded};N.lengthComputable&&(Z.total=N.total),"text"===i.responseType&&!!s.responseText&&(Z.partialText=s.responseText),n.next(Z)},R=N=>{let Z={type:Ci.UploadProgress,loaded:N.loaded};N.lengthComputable&&(Z.total=N.total),n.next(Z)};return s.addEventListener("load",v),s.addEventListener("error",M),s.addEventListener("timeout",M),s.addEventListener("abort",M),i.reportProgress&&(s.addEventListener("progress",I),null!==a&&s.upload&&s.upload.addEventListener("progress",R)),s.send(a),n.next({type:Ci.Sent}),()=>{s.removeEventListener("error",M),s.removeEventListener("abort",M),s.removeEventListener("load",v),s.removeEventListener("timeout",M),i.reportProgress&&(s.removeEventListener("progress",I),null!==a&&s.upload&&s.upload.removeEventListener("progress",R)),s.readyState!==s.DONE&&s.abort()}})}}return e.\u0275fac=function(i){return new(i||e)(Oe(b0))},e.\u0275prov=Pe({token:e,factory:e.\u0275fac}),e})();const Op=new yt("XSRF_COOKIE_NAME"),Bp=new yt("XSRF_HEADER_NAME");class qb{}let aF=(()=>{class e{constructor(i,n,s){this.doc=i,this.platform=n,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const i=this.doc.cookie||"";return i!==this.lastCookieString&&(this.parseCount++,this.lastToken=d0(i,this.cookieName),this.lastCookieString=i),this.lastToken}}return e.\u0275fac=function(i){return new(i||e)(Oe(vn),Oe(Dd),Oe(Op))},e.\u0275prov=Pe({token:e,factory:e.\u0275fac}),e})(),Rp=(()=>{class e{constructor(i,n){this.tokenService=i,this.headerName=n}intercept(i,n){const s=i.url.toLowerCase();if("GET"===i.method||"HEAD"===i.method||s.startsWith("http://")||s.startsWith("https://"))return n.handle(i);const a=this.tokenService.getToken();return null!==a&&!i.headers.has(this.headerName)&&(i=i.clone({headers:i.headers.set(this.headerName,a)})),n.handle(i)}}return e.\u0275fac=function(i){return new(i||e)(Oe(qb),Oe(Bp))},e.\u0275prov=Pe({token:e,factory:e.\u0275fac}),e})(),lF=(()=>{class e{constructor(i,n){this.backend=i,this.injector=n,this.chain=null}handle(i){if(null===this.chain){const n=this.injector.get(Vp,[]);this.chain=n.reduceRight((s,a)=>new Jb(s,a),this.backend)}return this.chain.handle(i)}}return e.\u0275fac=function(i){return new(i||e)(Oe(Xb),Oe(en))},e.\u0275prov=Pe({token:e,factory:e.\u0275fac}),e})(),hF=(()=>{class e{static disable(){return{ngModule:e,providers:[{provide:Rp,useClass:sF}]}}static withOptions(i={}){return{ngModule:e,providers:[i.cookieName?{provide:Op,useValue:i.cookieName}:[],i.headerName?{provide:Bp,useValue:i.headerName}:[]]}}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Hi({type:e}),e.\u0275inj=ot({providers:[Rp,{provide:Vp,useExisting:Rp,multi:!0},{provide:qb,useClass:aF},{provide:Op,useValue:"XSRF-TOKEN"},{provide:Bp,useValue:"X-XSRF-TOKEN"}]}),e})(),uF=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Hi({type:e}),e.\u0275inj=ot({providers:[Uh,{provide:Ub,useClass:lF},Zb,{provide:Xb,useExisting:Zb}],imports:[[hF.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),e})();var ir=(()=>{return(e=ir||(ir={})).User="User",e.Admin="Admin",e.Seller="Seller",ir;var e})();const e_="https://radiant-headland-28157.herokuapp.com/api/user/",Np="USERNAME",Wp="user",Hp="user_roles",t_={headers:new On({"Content-Type":"application/json"})};let Xh=(()=>{class e{constructor(i){this.http=i,this.userSubject=new Bi(null),this.isAdmin=new Bi(!1),this.isSeller=new Bi(!1),this.isCustmor=new Bi(!1)}findOne(i){return this.http.get(e_+"findOne/"+i,t_)}setUserToAppLevel(){return this.http.get(e_+"findOne/"+this.getUsername(),t_)}saveUsername(i){window.localStorage.removeItem(Np),window.localStorage.setItem(Np,i)}getUsername(){return window.localStorage.getItem(Np)}saveUserDetailsInStorage(i){var n,s,a;console.log("ifnotuser",i),null!=i&&(console.log("ifuser",i),window.localStorage.removeItem(Wp),window.localStorage.setItem(Wp,JSON.stringify(i)),window.localStorage.removeItem(Hp),window.localStorage.setItem(Hp,JSON.stringify(i.roles)),this.isAdmin.next((null===(n=i.roles)||void 0===n?void 0:n.indexOf(ir.Admin))>-1),this.isSeller.next((null===(s=i.roles)||void 0===s?void 0:s.indexOf(ir.Seller))>-1),this.isCustmor.next((null===(a=i.roles)||void 0===a?void 0:a.indexOf(ir.User))>-1))}getRoles(){const i=window.localStorage.getItem(Hp);return i?JSON.parse(i):{}}getUser(){const i=window.localStorage.getItem(Wp);return i?JSON.parse(i):null}}return e.\u0275fac=function(i){return new(i||e)(Oe(Uh))},e.\u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Vo=(()=>{class e{constructor(i,n){this.userService=i,this.router=n}canActivate(i,n){return null!=this.userService.getUser()||(this.router.navigate(["/login"]),!1)}}return e.\u0275fac=function(i){return new(i||e)(Oe(Xh),Oe(Fi))},e.\u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Ka="https://radiant-headland-28157.herokuapp.com/api/",zh={headers:new On({"Content-Type":"application/json"})};let Oo=(()=>{class e{constructor(i,n){this.router=i,this.http=n}login(i,n){return this.http.post(Ka+"authenticate",{username:i,password:n})}register(i){return this.http.post(Ka+"register",i,zh)}forgotPassword(i){return this.http.post(Ka+"forgot_password",i,zh)}validateResetToken(i){return this.http.post(Ka+"reset_password_token",i,zh)}resetPassword(i){return this.http.post(Ka+"reset_password",i,zh)}}return e.\u0275fac=function(i){return new(i||e)(Oe(Fi),Oe(Uh))},e.\u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),i_=(()=>{class e{constructor(i,n){this._renderer=i,this._elementRef=n,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(i,n){this._renderer.setProperty(this._elementRef.nativeElement,i,n)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}}return e.\u0275fac=function(i){return new(i||e)(de(Is),de(yn))},e.\u0275dir=rt({type:e}),e})(),kr=(()=>{class e extends i_{}return e.\u0275fac=function(){let t;return function(n){return(t||(t=Xi(e)))(n||e)}}(),e.\u0275dir=rt({type:e,features:[Xt]}),e})();const bs=new yt("NgValueAccessor"),pF={provide:bs,useExisting:U(()=>Ns),multi:!0},gF=new yt("CompositionEventMode");let Ns=(()=>{class e extends i_{constructor(i,n,s){super(i,n),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function fF(){const e=ms()?ms().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(i){this.setProperty("value",null==i?"":i)}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}}return e.\u0275fac=function(i){return new(i||e)(de(Is),de(yn),de(gF,8))},e.\u0275dir=rt({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,n){1&i&&Xe("input",function(a){return n._handleInput(a.target.value)})("blur",function(){return n.onTouched()})("compositionstart",function(){return n._compositionStart()})("compositionend",function(a){return n._compositionEnd(a.target.value)})},features:[ii([pF]),Xt]}),e})();function nr(e){return null==e||0===e.length}function s_(e){return null!=e&&"number"==typeof e.length}const $i=new yt("NgValidators"),sr=new yt("NgAsyncValidators"),mF=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class es{static min(t){return r_(t)}static max(t){return function o_(e){return t=>{if(nr(t.value)||nr(e))return null;const i=parseFloat(t.value);return!isNaN(i)&&i>e?{max:{max:e,actual:t.value}}:null}}(t)}static required(t){return a_(t)}static requiredTrue(t){return function l_(e){return!0===e.value?null:{required:!0}}(t)}static email(t){return h_(t)}static minLength(t){return function u_(e){return t=>nr(t.value)||!s_(t.value)?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function c_(e){return t=>s_(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null}(t)}static pattern(t){return function d_(e){if(!e)return Yh;let t,i;return"string"==typeof e?(i="","^"!==e.charAt(0)&&(i+="^"),i+=e,"$"!==e.charAt(e.length-1)&&(i+="$"),t=new RegExp(i)):(i=e.toString(),t=e),n=>{if(nr(n.value))return null;const s=n.value;return t.test(s)?null:{pattern:{requiredPattern:i,actualValue:s}}}}(t)}static nullValidator(t){return null}static compose(t){return y_(t)}static composeAsync(t){return v_(t)}}function r_(e){return t=>{if(nr(t.value)||nr(e))return null;const i=parseFloat(t.value);return!isNaN(i)&&i<e?{min:{min:e,actual:t.value}}:null}}function a_(e){return nr(e.value)?{required:!0}:null}function h_(e){return nr(e.value)||mF.test(e.value)?null:{email:!0}}function Yh(e){return null}function p_(e){return null!=e}function f_(e){const t=va(e)?F(e):e;return $c(t),t}function g_(e){let t={};return e.forEach(i=>{t=null!=i?Object.assign(Object.assign({},t),i):t}),0===Object.keys(t).length?null:t}function m_(e,t){return t.map(i=>i(e))}function x_(e){return e.map(t=>function xF(e){return!e.validate}(t)?t:i=>t.validate(i))}function y_(e){if(!e)return null;const t=e.filter(p_);return 0==t.length?null:function(i){return g_(m_(i,t))}}function jp(e){return null!=e?y_(x_(e)):null}function v_(e){if(!e)return null;const t=e.filter(p_);return 0==t.length?null:function(i){return function cF(...e){const t=_(e),{args:i,keys:n}=F0(e),s=new Nt(a=>{const{length:c}=i;if(!c)return void a.complete();const f=new Array(c);let v=c,M=c;for(let D=0;D<c;D++){let I=!1;st(i[D]).subscribe(Q(a,R=>{I||(I=!0,M--),f[D]=R},()=>v--,void 0,()=>{(!v||!I)&&(M||a.next(n?V0(n,f):f),a.complete())}))}});return t?s.pipe(L0(t)):s}(m_(i,t).map(f_)).pipe(te(g_))}}function Up(e){return null!=e?v_(x_(e)):null}function b_(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function __(e){return e._rawValidators}function C_(e){return e._rawAsyncValidators}function Xp(e){return e?Array.isArray(e)?e:[e]:[]}function $h(e,t){return Array.isArray(e)?e.includes(t):e===t}function w_(e,t){const i=Xp(t);return Xp(e).forEach(s=>{$h(i,s)||i.push(s)}),i}function M_(e,t){return Xp(t).filter(i=>!$h(e,i))}class T_{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=jp(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Up(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,i){return!!this.control&&this.control.hasError(t,i)}getError(t,i){return this.control?this.control.getError(t,i):null}}class rr extends T_{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class sn extends T_{get formDirective(){return null}get path(){return null}}class S_{constructor(t){this._cd=t}is(t){var i,n,s;return"submitted"===t?!!(null===(i=this._cd)||void 0===i?void 0:i.submitted):!!(null===(s=null===(n=this._cd)||void 0===n?void 0:n.control)||void 0===s?void 0:s[t])}}let Ar=(()=>{class e extends S_{constructor(i){super(i)}}return e.\u0275fac=function(i){return new(i||e)(de(rr,2))},e.\u0275dir=rt({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,n){2&i&&Kl("ng-untouched",n.is("untouched"))("ng-touched",n.is("touched"))("ng-pristine",n.is("pristine"))("ng-dirty",n.is("dirty"))("ng-valid",n.is("valid"))("ng-invalid",n.is("invalid"))("ng-pending",n.is("pending"))},features:[Xt]}),e})(),Gh=(()=>{class e extends S_{constructor(i){super(i)}}return e.\u0275fac=function(i){return new(i||e)(de(sn,10))},e.\u0275dir=rt({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,n){2&i&&Kl("ng-untouched",n.is("untouched"))("ng-touched",n.is("touched"))("ng-pristine",n.is("pristine"))("ng-dirty",n.is("dirty"))("ng-valid",n.is("valid"))("ng-invalid",n.is("invalid"))("ng-pending",n.is("pending"))("ng-submitted",n.is("submitted"))},features:[Xt]}),e})();function Qh(e,t){return[...t.path,e]}function Qa(e,t){$p(e,t),t.valueAccessor.writeValue(e.value),function TF(e,t){t.valueAccessor.registerOnChange(i=>{e._pendingValue=i,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&P_(e,t)})}(e,t),function DF(e,t){const i=(n,s)=>{t.valueAccessor.writeValue(n),s&&t.viewToModelUpdate(n)};e.registerOnChange(i),t._registerOnDestroy(()=>{e._unregisterOnChange(i)})}(e,t),function SF(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&P_(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function MF(e,t){if(t.valueAccessor.setDisabledState){const i=n=>{t.valueAccessor.setDisabledState(n)};e.registerOnDisabledChange(i),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(i)})}}(e,t)}function Jh(e,t,i=!0){const n=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(n),t.valueAccessor.registerOnTouched(n)),qh(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function Zh(e,t){e.forEach(i=>{i.registerOnValidatorChange&&i.registerOnValidatorChange(t)})}function $p(e,t){const i=__(e);null!==t.validator?e.setValidators(b_(i,t.validator)):"function"==typeof i&&e.setValidators([i]);const n=C_(e);null!==t.asyncValidator?e.setAsyncValidators(b_(n,t.asyncValidator)):"function"==typeof n&&e.setAsyncValidators([n]);const s=()=>e.updateValueAndValidity();Zh(t._rawValidators,s),Zh(t._rawAsyncValidators,s)}function qh(e,t){let i=!1;if(null!==e){if(null!==t.validator){const s=__(e);if(Array.isArray(s)&&s.length>0){const a=s.filter(c=>c!==t.validator);a.length!==s.length&&(i=!0,e.setValidators(a))}}if(null!==t.asyncValidator){const s=C_(e);if(Array.isArray(s)&&s.length>0){const a=s.filter(c=>c!==t.asyncValidator);a.length!==s.length&&(i=!0,e.setAsyncValidators(a))}}}const n=()=>{};return Zh(t._rawValidators,n),Zh(t._rawAsyncValidators,n),i}function P_(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function Gp(e,t){if(!e.hasOwnProperty("model"))return!1;const i=e.model;return!!i.isFirstChange()||!Object.is(t,i.currentValue)}function Kp(e,t){if(!t)return null;let i,n,s;return Array.isArray(t),t.forEach(a=>{a.constructor===Ns?i=a:function AF(e){return Object.getPrototypeOf(e.constructor)===kr}(a)?n=a:s=a}),s||n||i||null}function Qp(e,t){const i=e.indexOf(t);i>-1&&e.splice(i,1)}const Ja="VALID",eu="INVALID",Bo="PENDING",Za="DISABLED";function Zp(e){return(tu(e)?e.validators:e)||null}function I_(e){return Array.isArray(e)?jp(e):e||null}function qp(e,t){return(tu(t)?t.asyncValidators:e)||null}function F_(e){return Array.isArray(e)?Up(e):e||null}function tu(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}const ef=e=>e instanceof or,iu=e=>e instanceof Ro,L_=e=>e instanceof R_;function V_(e){return ef(e)?e.value:e.getRawValue()}function O_(e,t){const i=iu(e),n=e.controls;if(!(i?Object.keys(n):n).length)throw new W(1e3,"");if(!n[t])throw new W(1001,"")}function B_(e,t){iu(e),e._forEachChild((n,s)=>{if(void 0===t[s])throw new W(1002,"")})}class tf{constructor(t,i){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=i,this._composedValidatorFn=I_(this._rawValidators),this._composedAsyncValidatorFn=F_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Ja}get invalid(){return this.status===eu}get pending(){return this.status==Bo}get disabled(){return this.status===Za}get enabled(){return this.status!==Za}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=I_(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=F_(t)}addValidators(t){this.setValidators(w_(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(w_(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(M_(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(M_(t,this._rawAsyncValidators))}hasValidator(t){return $h(this._rawValidators,t)}hasAsyncValidator(t){return $h(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(i=>{i.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Bo,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const i=this._parentMarkedDirty(t.onlySelf);this.status=Za,this.errors=null,this._forEachChild(n=>{n.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:i})),this._onDisabledChange.forEach(n=>n(!0))}enable(t={}){const i=this._parentMarkedDirty(t.onlySelf);this.status=Ja,this._forEachChild(n=>{n.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:i})),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ja||this.status===Bo)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(i=>i._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Za:Ja}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Bo,this._hasOwnPendingAsyncValidator=!0;const i=f_(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(n=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(n,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,i={}){this.errors=t,this._updateControlsErrors(!1!==i.emitEvent)}get(t){return function EF(e,t,i){if(null==t||(Array.isArray(t)||(t=t.split(i)),Array.isArray(t)&&0===t.length))return null;let n=e;return t.forEach(s=>{n=iu(n)?n.controls.hasOwnProperty(s)?n.controls[s]:null:L_(n)&&n.at(s)||null}),n}(this,t,".")}getError(t,i){const n=i?this.get(i):this;return n&&n.errors?n.errors[t]:null}hasError(t,i){return!!this.getError(t,i)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new Wt,this.statusChanges=new Wt}_calculateStatus(){return this._allControlsDisabled()?Za:this.errors?eu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Bo)?Bo:this._anyControlsHaveStatus(eu)?eu:Ja}_anyControlsHaveStatus(t){return this._anyControls(i=>i.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){tu(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class or extends tf{constructor(t=null,i,n){super(Zp(i),qp(n,i)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(i),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),tu(i)&&i.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(t)?t.value:t)}setValue(t,i={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==i.emitModelToViewChange&&this._onChange.forEach(n=>n(this.value,!1!==i.emitViewToModelChange)),this.updateValueAndValidity(i)}patchValue(t,i={}){this.setValue(t,i)}reset(t=this.defaultValue,i={}){this._applyFormState(t),this.markAsPristine(i),this.markAsUntouched(i),this.setValue(this.value,i),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Qp(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Qp(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Ro extends tf{constructor(t,i,n){super(Zp(i),qp(n,i)),this.controls=t,this._initObservables(),this._setUpdateStrategy(i),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,i){return this.controls[t]?this.controls[t]:(this.controls[t]=i,i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange),i)}addControl(t,i,n={}){this.registerControl(t,i),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}setControl(t,i,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],i&&this.registerControl(t,i),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,i={}){B_(this,t),Object.keys(t).forEach(n=>{O_(this,n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i)}patchValue(t,i={}){null!=t&&(Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i))}reset(t={},i={}){this._forEachChild((n,s)=>{n.reset(t[s],{onlySelf:!0,emitEvent:i.emitEvent})}),this._updatePristine(i),this._updateTouched(i),this.updateValueAndValidity(i)}getRawValue(){return this._reduceChildren({},(t,i,n)=>(t[n]=V_(i),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(i,n)=>!!n._syncPendingControls()||i);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(i=>{const n=this.controls[i];n&&t(n,i)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const i of Object.keys(this.controls)){const n=this.controls[i];if(this.contains(i)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,i,n)=>((i.enabled||this.disabled)&&(t[n]=i.value),t))}_reduceChildren(t,i){let n=t;return this._forEachChild((s,a)=>{n=i(n,s,a)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class R_ extends tf{constructor(t,i,n){super(Zp(i),qp(n,i)),this.controls=t,this._initObservables(),this._setUpdateStrategy(i),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,i={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}insert(t,i,n={}){this.controls.splice(t,0,i),this._registerControl(i),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(t,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:i.emitEvent})}setControl(t,i,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),i&&(this.controls.splice(t,0,i),this._registerControl(i)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,i={}){B_(this,t),t.forEach((n,s)=>{O_(this,s),this.at(s).setValue(n,{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i)}patchValue(t,i={}){null!=t&&(t.forEach((n,s)=>{this.at(s)&&this.at(s).patchValue(n,{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i))}reset(t=[],i={}){this._forEachChild((n,s)=>{n.reset(t[s],{onlySelf:!0,emitEvent:i.emitEvent})}),this._updatePristine(i),this._updateTouched(i),this.updateValueAndValidity(i)}getRawValue(){return this.controls.map(t=>V_(t))}clear(t={}){this.controls.length<1||(this._forEachChild(i=>i._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((i,n)=>!!n._syncPendingControls()||i,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((i,n)=>{t(i,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(i=>i.enabled&&t(i))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const LF={provide:rr,useExisting:U(()=>el)},H_=(()=>Promise.resolve(null))();let el=(()=>{class e extends rr{constructor(i,n,s,a,c){super(),this._changeDetectorRef=c,this.control=new or,this._registered=!1,this.update=new Wt,this._parent=i,this._setValidators(n),this._setAsyncValidators(s),this.valueAccessor=Kp(0,a)}ngOnChanges(i){if(this._checkForErrors(),!this._registered||"name"in i){if(this._registered&&(this._checkName(),this.formDirective)){const n=i.name.previousValue;this.formDirective.removeControl({name:n,path:this._getPath(n)})}this._setUpControl()}"isDisabled"in i&&this._updateDisabled(i),Gp(i,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Qa(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(i){H_.then(()=>{var n;this.control.setValue(i,{emitViewToModelChange:!1}),null===(n=this._changeDetectorRef)||void 0===n||n.markForCheck()})}_updateDisabled(i){const n=i.isDisabled.currentValue,s=""===n||n&&"false"!==n;H_.then(()=>{var a;s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),null===(a=this._changeDetectorRef)||void 0===a||a.markForCheck()})}_getPath(i){return this._parent?Qh(i,this._parent):[i]}}return e.\u0275fac=function(i){return new(i||e)(de(sn,9),de($i,10),de(sr,10),de(bs,10),de(ah,8))},e.\u0275dir=rt({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ii([LF]),Xt,ln]}),e})(),nu=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=rt({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})();const VF={provide:bs,useExisting:U(()=>sf),multi:!0};let sf=(()=>{class e extends kr{writeValue(i){this.setProperty("value",null==i?"":i)}registerOnChange(i){this.onChange=n=>{i(""==n?null:parseFloat(n))}}}return e.\u0275fac=function(){let t;return function(n){return(t||(t=Xi(e)))(n||e)}}(),e.\u0275dir=rt({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,n){1&i&&Xe("input",function(a){return n.onChange(a.target.value)})("blur",function(){return n.onTouched()})},features:[ii([VF]),Xt]}),e})(),j_=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Hi({type:e}),e.\u0275inj=ot({}),e})();const rf=new yt("NgModelWithFormControlWarning"),WF={provide:sn,useExisting:U(()=>No)};let No=(()=>{class e extends sn{constructor(i,n){super(),this.validators=i,this.asyncValidators=n,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Wt,this._setValidators(i),this._setAsyncValidators(n)}ngOnChanges(i){this._checkFormPresent(),i.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(qh(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(i){const n=this.form.get(i.path);return Qa(n,i),n.updateValueAndValidity({emitEvent:!1}),this.directives.push(i),n}getControl(i){return this.form.get(i.path)}removeControl(i){Jh(i.control||null,i,!1),Qp(this.directives,i)}addFormGroup(i){this._setUpFormContainer(i)}removeFormGroup(i){this._cleanUpFormContainer(i)}getFormGroup(i){return this.form.get(i.path)}addFormArray(i){this._setUpFormContainer(i)}removeFormArray(i){this._cleanUpFormContainer(i)}getFormArray(i){return this.form.get(i.path)}updateModel(i,n){this.form.get(i.path).setValue(n)}onSubmit(i){return this.submitted=!0,function E_(e,t){e._syncPendingControls(),t.forEach(i=>{const n=i.control;"submit"===n.updateOn&&n._pendingChange&&(i.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(i),!1}onReset(){this.resetForm()}resetForm(i){this.form.reset(i),this.submitted=!1}_updateDomValue(){this.directives.forEach(i=>{const n=i.control,s=this.form.get(i.path);n!==s&&(Jh(n||null,i),ef(s)&&(Qa(s,i),i.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(i){const n=this.form.get(i.path);(function k_(e,t){$p(e,t)})(n,i),n.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(i){if(this.form){const n=this.form.get(i.path);n&&function PF(e,t){return qh(e,t)}(n,i)&&n.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){$p(this.form,this),this._oldForm&&qh(this._oldForm,this)}_checkFormPresent(){}}return e.\u0275fac=function(i){return new(i||e)(de($i,10),de(sr,10))},e.\u0275dir=rt({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,n){1&i&&Xe("submit",function(a){return n.onSubmit(a)})("reset",function(){return n.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ii([WF]),Xt,ln]}),e})();const UF={provide:rr,useExisting:U(()=>tl)};let tl=(()=>{class e extends rr{constructor(i,n,s,a,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.update=new Wt,this._ngModelWarningSent=!1,this._parent=i,this._setValidators(n),this._setAsyncValidators(s),this.valueAccessor=Kp(0,a)}set isDisabled(i){}ngOnChanges(i){this._added||this._setUpControl(),Gp(i,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}get path(){return Qh(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return e._ngModelWarningSentOnce=!1,e.\u0275fac=function(i){return new(i||e)(de(sn,13),de($i,10),de(sr,10),de(bs,10),de(rf,8))},e.\u0275dir=rt({type:e,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[ii([UF]),Xt,ln]}),e})();const XF={provide:bs,useExisting:U(()=>su),multi:!0};function $_(e,t){return null==e?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}let su=(()=>{class e extends kr{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(i){this._compareWith=i}writeValue(i){this.value=i;const s=$_(this._getOptionId(i),i);this.setProperty("value",s)}registerOnChange(i){this.onChange=n=>{this.value=this._getOptionValue(n),i(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(i){for(const n of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(n),i))return n;return null}_getOptionValue(i){const n=function zF(e){return e.split(":")[0]}(i);return this._optionMap.has(n)?this._optionMap.get(n):i}}return e.\u0275fac=function(){let t;return function(n){return(t||(t=Xi(e)))(n||e)}}(),e.\u0275dir=rt({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,n){1&i&&Xe("change",function(a){return n.onChange(a.target.value)})("blur",function(){return n.onTouched()})},inputs:{compareWith:"compareWith"},features:[ii([XF]),Xt]}),e})(),G_=(()=>{class e{constructor(i,n,s){this._element=i,this._renderer=n,this._select=s,this._select&&(this.id=this._select._registerOption())}set ngValue(i){null!=this._select&&(this._select._optionMap.set(this.id,i),this._setElementValue($_(this.id,i)),this._select.writeValue(this._select.value))}set value(i){this._setElementValue(i),this._select&&this._select.writeValue(this._select.value)}_setElementValue(i){this._renderer.setProperty(this._element.nativeElement,"value",i)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return e.\u0275fac=function(i){return new(i||e)(de(yn),de(Is),de(su,9))},e.\u0275dir=rt({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})();const YF={provide:bs,useExisting:U(()=>lf),multi:!0};function K_(e,t){return null==e?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}let lf=(()=>{class e extends kr{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(i){this._compareWith=i}writeValue(i){let n;if(this.value=i,Array.isArray(i)){const s=i.map(a=>this._getOptionId(a));n=(a,c)=>{a._setSelected(s.indexOf(c.toString())>-1)}}else n=(s,a)=>{s._setSelected(!1)};this._optionMap.forEach(n)}registerOnChange(i){this.onChange=n=>{const s=[],a=n.selectedOptions;if(void 0!==a){const c=a;for(let f=0;f<c.length;f++){const M=this._getOptionValue(c[f].value);s.push(M)}}else{const c=n.options;for(let f=0;f<c.length;f++){const v=c[f];if(v.selected){const M=this._getOptionValue(v.value);s.push(M)}}}this.value=s,i(s)}}_registerOption(i){const n=(this._idCounter++).toString();return this._optionMap.set(n,i),n}_getOptionId(i){for(const n of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(n)._value,i))return n;return null}_getOptionValue(i){const n=function $F(e){return e.split(":")[0]}(i);return this._optionMap.has(n)?this._optionMap.get(n)._value:i}}return e.\u0275fac=function(){let t;return function(n){return(t||(t=Xi(e)))(n||e)}}(),e.\u0275dir=rt({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,n){1&i&&Xe("change",function(a){return n.onChange(a.target)})("blur",function(){return n.onTouched()})},inputs:{compareWith:"compareWith"},features:[ii([YF]),Xt]}),e})(),Q_=(()=>{class e{constructor(i,n,s){this._element=i,this._renderer=n,this._select=s,this._select&&(this.id=this._select._registerOption(this))}set ngValue(i){null!=this._select&&(this._value=i,this._setElementValue(K_(this.id,i)),this._select.writeValue(this._select.value))}set value(i){this._select?(this._value=i,this._setElementValue(K_(this.id,i)),this._select.writeValue(this._select.value)):this._setElementValue(i)}_setElementValue(i){this._renderer.setProperty(this._element.nativeElement,"value",i)}_setSelected(i){this._renderer.setProperty(this._element.nativeElement,"selected",i)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return e.\u0275fac=function(i){return new(i||e)(de(yn),de(Is),de(lf,9))},e.\u0275dir=rt({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})();let Er=(()=>{class e{constructor(){this._validator=Yh}ngOnChanges(i){if(this.inputName in i){const n=this.normalizeInput(i[this.inputName].currentValue);this._enabled=this.enabled(n),this._validator=this._enabled?this.createValidator(n):Yh,this._onChange&&this._onChange()}}validate(i){return this._validator(i)}registerOnValidatorChange(i){this._onChange=i}enabled(i){return null!=i}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=rt({type:e,features:[ln]}),e})();const QF={provide:$i,useExisting:U(()=>hf),multi:!0};let hf=(()=>{class e extends Er{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=i=>function Z_(e){return"number"==typeof e?e:parseFloat(e)}(i),this.createValidator=i=>r_(i)}}return e.\u0275fac=function(){let t;return function(n){return(t||(t=Xi(e)))(n||e)}}(),e.\u0275dir=rt({type:e,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(i,n){2&i&&ps("min",n._enabled?n.min:null)},inputs:{min:"min"},features:[ii([QF]),Xt]}),e})();const JF={provide:$i,useExisting:U(()=>Wo),multi:!0};let Wo=(()=>{class e extends Er{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=i=>function GF(e){return null!=e&&!1!==e&&"false"!=`${e}`}(i),this.createValidator=i=>a_}enabled(i){return i}}return e.\u0275fac=function(){let t;return function(n){return(t||(t=Xi(e)))(n||e)}}(),e.\u0275dir=rt({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,n){2&i&&ps("required",n._enabled?"":null)},inputs:{required:"required"},features:[ii([JF]),Xt]}),e})();const qF={provide:$i,useExisting:U(()=>ru),multi:!0};let ru=(()=>{class e extends Er{constructor(){super(...arguments),this.inputName="email",this.normalizeInput=i=>""===i||!0===i||"true"===i,this.createValidator=i=>h_}enabled(i){return i}}return e.\u0275fac=function(){let t;return function(n){return(t||(t=Xi(e)))(n||e)}}(),e.\u0275dir=rt({type:e,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[ii([qF]),Xt]}),e})(),sC=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Hi({type:e}),e.\u0275inj=ot({imports:[[j_]]}),e})(),rC=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Hi({type:e}),e.\u0275inj=ot({imports:[sC]}),e})(),uf=(()=>{class e{static withConfig(i){return{ngModule:e,providers:[{provide:rf,useValue:i.warnOnNgModelWithFormControl}]}}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Hi({type:e}),e.\u0275inj=ot({imports:[sC]}),e})(),sL=(()=>{class e{group(i,n=null){const s=this._reduceControls(i);let f,a=null,c=null;return null!=n&&(function nL(e){return void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn}(n)?(a=null!=n.validators?n.validators:null,c=null!=n.asyncValidators?n.asyncValidators:null,f=null!=n.updateOn?n.updateOn:void 0):(a=null!=n.validator?n.validator:null,c=null!=n.asyncValidator?n.asyncValidator:null)),new Ro(s,{asyncValidators:c,updateOn:f,validators:a})}control(i,n,s){return new or(i,n,s)}array(i,n,s){const a=i.map(c=>this._createControl(c));return new R_(a,n,s)}_reduceControls(i){const n={};return Object.keys(i).forEach(s=>{n[s]=this._createControl(i[s])}),n}_createControl(i){return ef(i)||iu(i)||L_(i)?i:Array.isArray(i)?this.control(i[0],i.length>1?i[1]:null,i.length>2?i[2]:null):this.control(i)}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:uf}),e})();const rL=function(){return["/login"]};function oL(e,t){1&e&&(X(0,"label",6),q(1," Registeration successful, "),X(2,"a",7),q(3,"please login to continue"),$()()),2&e&&(Ee(2),Ve("routerLink",vr(1,rL)))}function aL(e,t){if(1&e){const i=hn();X(0,"div")(1,"div",9)(2,"div",10)(3,"h2"),q(4,"Logo"),$()(),X(5,"label",6),q(6,"Enter your email address"),$(),X(7,"input",11),Xe("ngModelChange",function(s){return Ii(i),Et(2).username=s}),$()(),X(8,"button",12),Xe("click",function(){return Ii(i),Et(2).getResetToken()}),q(9,"Continue"),$()()}if(2&e){const i=Et(2);Ee(7),Ve("ngModel",i.username)("required",!0)}}function lL(e,t){if(1&e){const i=hn();X(0,"div")(1,"div",9)(2,"div",10)(3,"h2"),q(4,"Logo"),$()(),X(5,"label",6),q(6),$(),X(7,"label",6),q(8,"Enter Code"),$(),X(9,"input",13),Xe("ngModelChange",function(s){return Ii(i),Et(2).resetToken.token=s}),$()(),X(10,"button",12),Xe("click",function(){return Ii(i),Et(2).validateResetToken()}),q(11,"Continue"),$()()}if(2&e){const i=Et(2);Ee(6),Es(i.message),Ee(3),Ve("ngModel",i.resetToken.token)("required",!0)}}function hL(e,t){if(1&e){const i=hn();X(0,"div",9)(1,"div",10)(2,"h2"),q(3,"Logo"),$()(),X(4,"label",14),q(5),$(),X(6,"label",6),q(7,"Enter new password"),$(),X(8,"div",15)(9,"input",16),Xe("ngModelChange",function(s){return Ii(i),Et(3).reset.password=s}),$(),X(10,"label",17),q(11,"Password"),$()(),X(12,"div",15)(13,"input",18),Xe("ngModelChange",function(s){return Ii(i),Et(3).reset.confirmPassword=s}),$(),X(14,"label",17),q(15,"Confirm Password"),$()()()}if(2&e){const i=Et(3);Ee(5),Es(i.message),Ee(4),Ve("ngModel",i.reset.password)("required",!0),Ee(4),Ve("ngModel",i.reset.confirmPassword)("required",!0)}}function uL(e,t){if(1&e){const i=hn();X(0,"div"),vt(1,hL,16,5,"div",8),X(2,"button",12),Xe("click",function(){return Ii(i),Et(2).resetPassword()}),q(3,"Submit"),$()()}if(2&e){const i=Et(2);Ee(1),Ve("ngIf",i.isCodeValid)}}function cL(e,t){if(1&e&&(X(0,"div",9)(1,"div",10)(2,"h2"),q(3,"Logo"),$()(),X(4,"label",6),q(5),$()()),2&e){const i=Et(2);Ee(5),Es(i.message)}}function dL(e,t){if(1&e&&(X(0,"div"),vt(1,aL,10,2,"div",4),vt(2,lL,12,3,"div",4),vt(3,uL,4,1,"div",4),vt(4,cL,6,1,"div",8),$()),2&e){const i=Et();Ee(1),Ve("ngIf",!i.isCodeSent),Ee(1),Ve("ngIf",i.isCodeSent&&!i.isCodeValid),Ee(1),Ve("ngIf",i.isCodeValid),Ee(1),Ve("ngIf",i.isCodeSent&&!i.isCodeValid)}}let pL=(()=>{class e{constructor(i){this.authService=i,this.isCodeSent=!1,this.isCodeValid=!1,this.isSuccessful=!1,this.username="",this.resetToken={token:""},this.reset={password:"",confirmPassword:"",token:""}}ngOnInit(){}getResetToken(){this.authService.forgotPassword({username:this.username}).subscribe({next:i=>{this.message="We have sent a reset code to your email. Please check.",this.isCodeSent=!0},error:i=>{this.errorMessage=i.error.message,this.isCodeSent=!0}})}validateResetToken(){this.authService.validateResetToken(this.resetToken).subscribe({next:i=>{this.isCodeSent=!0,this.isCodeValid=!0,this.message=""},error:i=>{this.errorMessage=i.error.message,this.isCodeSent=!0}})}resetPassword(){this.reset.password==this.reset.confirmPassword?(this.reset.token=this.resetToken.token,this.authService.resetPassword(this.reset).subscribe({next:i=>{this.isCodeSent=!0,this.isCodeValid=!0,this.isSuccessful=!0,this.message="Your Password has been changed succusfully, please login again"},error:i=>{this.errorMessage=i.error.message,this.isCodeSent=!0}})):this.message="password and confirm password should be same"}}return e.\u0275fac=function(i){return new(i||e)(de(Oo))},e.\u0275cmp=ci({type:e,selectors:[["app-forgot-password"]],decls:6,vars:2,consts:[[1,"row","mt-4"],[1,"col-lg-4","col-sm-2","col-2"],[1,"col-lg-4","col-sm-8","col-8"],["class","form-label","for","form2Example1",4,"ngIf"],[4,"ngIf"],[1,"col-4","col-sm-4","col-lg-2","col-2"],["for","form2Example1",1,"form-label"],[1,"text-primary",3,"routerLink"],["class","form-outline mb-4",4,"ngIf"],[1,"form-outline","mb-4"],[1,"text-center","mb-4"],["type","text","id","form2Example1","name","username",1,"form-control",3,"ngModel","required","ngModelChange"],["type","button",1,"btn","btn-primary","btn-block","mb-4",3,"click"],["type","text","id","form2Example1","name","token",1,"form-control",3,"ngModel","required","ngModelChange"],["for","form2Example1",1,"form-label","text-danger"],[1,"mb-4"],["type","password","id","form2Example2","name","password",1,"form-control",3,"ngModel","required","ngModelChange"],["for","form2Example2",1,"form-label"],["type","password","id","form2Example2","name","confirmPassword",1,"form-control",3,"ngModel","required","ngModelChange"]],template:function(i,n){1&i&&(X(0,"div",0),Ue(1,"div",1),X(2,"div",2),vt(3,oL,4,2,"label",3),vt(4,dL,5,4,"div",4),$(),Ue(5,"div",5),$()),2&i&&(Ee(3),Ve("ngIf",n.isSuccessful),Ee(1),Ve("ngIf",!n.isSuccessful))},directives:[xs,Fo,Ns,Ar,el,Wo],styles:[""]}),e})();var fL=Ho(524);let oC=(()=>{class e{constructor(){this.shouldUpdateChart=!1,this.chartInstance=new Wt,this.options=this.options?this.options:{},this.styles=this.styles?this.styles:{width:"100%",position:"relative"},this.styles.height=this.options.height?this.options.height+"px":"400px",this.chartContainerId="canvasjs-angular-chart-container-"+e._cjsChartContainerId++}ngDoCheck(){this.prevChartOptions!=this.options&&(this.shouldUpdateChart=!0)}ngOnChanges(){this.shouldUpdateChart&&this.chart&&(this.chart.options=this.options,this.chart.render(),this.shouldUpdateChart=!1,this.prevChartOptions=this.options)}ngAfterViewInit(){this.chart=new fL.Chart(this.chartContainerId,this.options),this.chart.render(),this.prevChartOptions=this.options,this.chartInstance.emit(this.chart)}ngOnDestroy(){this.chart&&this.chart.destroy()}}return e._cjsChartContainerId=0,e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ci({type:e,selectors:[["canvasjs-chart"]],inputs:{options:"options",styles:"styles"},outputs:{chartInstance:"chartInstance"},features:[ln],decls:1,vars:2,consts:[[3,"id","ngStyle"]],template:function(i,n){1&i&&Ue(0,"div",0),2&i&&(Kc("id",n.chartContainerId),Ve("ngStyle",n.styles))},directives:[m0],encapsulation:2}),e})();const gL=function(){return{width:"100%",height:"360px"}};let mL=(()=>{class e{constructor(i,n){this.userService=i,this.authService=n,this.user=null,this.chartOptions={title:{text:"Angular Column Chart with Index Labels"},animationEnabled:!0,axisY:{includeZero:!0},data:[{type:"column",indexLabelFontColor:"#5A5757",dataPoints:[{x:10,y:71},{x:20,y:55},{x:30,y:50},{x:40,y:65},{x:50,y:71},{x:60,y:92,indexLabel:"Highest\u2191"},{x:70,y:68},{x:80,y:38,indexLabel:"Lowest\u2193"},{x:90,y:54},{x:100,y:60}]}]},this.userName=i.getUsername()}ngOnInit(){}}return e.\u0275fac=function(i){return new(i||e)(de(Xh),de(Oo))},e.\u0275cmp=ci({type:e,selectors:[["app-home"]],decls:2,vars:3,consts:[[3,"options","styles"]],template:function(i,n){1&i&&(X(0,"div"),Ue(1,"canvasjs-chart",0),$()),2&i&&(Ee(1),Ve("options",n.chartOptions)("styles",vr(2,gL)))},directives:[oC],styles:[""]}),e})();const il="http://localhost:8080/api/category/",aC="USERNAME",nl={headers:new On({"Content-Type":"application/json"})};let cf=(()=>{class e{constructor(i){this.http=i,this.categorSubject=new Bi(null)}save(i){return this.http.post(il+"save",i,nl)}saveAll(i){return this.http.post(il+"saveAll",i,nl)}findAll(){return this.http.get(il+"findAll",nl)}update(i){return this.http.put(il+"update",i,nl)}deleteById(i){return this.http.delete(il+"delete/"+i,nl)}saveUsername(i){window.localStorage.setItem(aC,i)}getUsername(){return window.localStorage.getItem(aC)}}return e.\u0275fac=function(i){return new(i||e)(Oe(Uh))},e.\u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),xL=(()=>{class e{constructor(i){this.categoryService=i,this.categories=[],this.isOpened=new Wt,this.category={name:"",id:null}}save(){this.categoryService.save(this.category).subscribe({next:i=>{this.categories.push(i),this.categoryService.categorSubject.next(this.categories),this.isOpened.emit("save")},error:i=>{this.isOpened.emit("error")}})}ngOnInit(){}cancel(){this.isOpened.emit("cancel")}}return e.\u0275fac=function(i){return new(i||e)(de(cf))},e.\u0275cmp=ci({type:e,selectors:[["app-add-category"]],outputs:{isOpened:"isOpened"},decls:16,vars:1,consts:[["id","overlay",1,"overlay"],[1,""],[1,"box-center","border","border-dark"],["id","text",1,"m-2","d-flex","justify-content-center"],[1,"form-outline","mb-4","col-6","box-center"],["for","name"],["id","name","type","text",1,"form-control","border","border-dark",3,"ngModel","ngModelChange"],[1,"btn","btn-warning","m-5",3,"click"],[1,"btn","btn-danger","m-5",3,"click"]],template:function(i,n){1&i&&(X(0,"div",0),Ue(1,"div",1),X(2,"div",2)(3,"div",3)(4,"h4")(5,"u"),q(6,"Add Category"),$()()(),X(7,"div")(8,"div",4)(9,"label",5),q(10,"Category Name"),$(),X(11,"input",6),Xe("ngModelChange",function(a){return n.category.name=a}),$(),X(12,"button",7),Xe("click",function(){return n.save()}),q(13,"save"),$(),X(14,"button",8),Xe("click",function(){return n.cancel()}),q(15,"cancel"),$()()()()()),2&i&&(Ee(11),Ve("ngModel",n.category.name))},directives:[Ns,Ar,el],styles:[".overlay[_ngcontent-%COMP%]{position:fixed;display:block;width:100%;height:100%;top:0;left:0;right:0;bottom:0;background-color:#00000080;z-index:10000;cursor:pointer}.box-center[_ngcontent-%COMP%]{background:lightgrey;width:50%;height:50%;margin-left:25%;margin-top:7%}"]}),e})();function yL(e,t){if(1&e){const i=hn();X(0,"app-add-category",12),Xe("isOpened",function(s){return Ii(i),Et().doEdit(s)}),$()}}let df=(()=>{class e{constructor(i){this.categoryService=i,this.isEdit=!1,this.isOpened=new Wt,this.category={name:"",id:null},this.categories=[]}ngOnInit(){this.findAll(),this.categoryService.categorSubject.subscribe({next:i=>{null!=i&&(this.categories=i)}})}findAll(){this.categoryService.findAll().subscribe({next:i=>{this.categories.push(i),this.categoryService.categorSubject.next(this.categories)}})}cancel(){this.isOpened.emit("cancel")}addCategory(){this.isEdit=!0}doEdit(i){"cancel"==i&&(this.isEdit=!1,alert("closed without save")),"save"==i&&(this.isEdit=!1,alert("save")),"error"==i&&(this.isEdit=!1,alert("error")),"addItem"==i&&(this.isEdit=!0)}}return e.\u0275fac=function(i){return new(i||e)(de(cf))},e.\u0275cmp=ci({type:e,selectors:[["app-category"]],outputs:{isOpened:"isOpened"},decls:46,vars:1,consts:[[1,"row","mt-1"],[1,"col-lg-6",2,"display","inline-flex"],["id","name","type","text",1,"form-control","border","border-dark",2,"width","190%"],[2,"margin-left","33% !important"],[1,"btn","btn-md","btn-warning"],[1,"col-lg-6","mt-2"],[1,"btn","btn-sm","btn-danger",3,"click"],[1,"border-top",2,"margin-top","2%"],[1,"table","table-striped"],["scope","col"],["scope","row"],[3,"isOpened",4,"ngIf"],[3,"isOpened"]],template:function(i,n){1&i&&(X(0,"div",0)(1,"div",1)(2,"span"),Ue(3,"input",2),$(),X(4,"span",3)(5,"a",4),q(6,"search"),$()()(),X(7,"div",5)(8,"span")(9,"a",6),Xe("click",function(){return n.addCategory()}),q(10,"Add Category"),$()()()(),X(11,"div",7)(12,"table",8)(13,"thead")(14,"tr")(15,"th",9),q(16,"hh"),$()()(),X(17,"tbody")(18,"tr")(19,"th",10),q(20,"1"),$(),X(21,"td"),q(22,"Mark"),$(),X(23,"td"),q(24,"Otto"),$(),X(25,"td"),q(26,"@mdo"),$()(),X(27,"tr")(28,"th",10),q(29,"2"),$(),X(30,"td"),q(31,"Jacob"),$(),X(32,"td"),q(33,"Thornton"),$(),X(34,"td"),q(35,"@fat"),$()(),X(36,"tr")(37,"th",10),q(38,"3"),$(),X(39,"td"),q(40,"Larry"),$(),X(41,"td"),q(42,"the Bird"),$(),X(43,"td"),q(44,"@twitter"),$()()()()(),vt(45,yL,1,0,"app-add-category",11)),2&i&&(Ee(45),Ve("ngIf",n.isEdit))},directives:[xs,xL],styles:[""]}),e})(),lC=(()=>{class e{constructor(){this.unit={name:""},this.isOpened=new Wt}ngOnInit(){}save(){this.isOpened.emit("error")}cancel(){this.isOpened.emit("cancel")}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ci({type:e,selectors:[["app-add-unit"]],outputs:{isOpened:"isOpened"},decls:16,vars:1,consts:[["id","overlay",1,"overlay"],[1,""],[1,"box-center","border","border-dark"],["id","text",1,"m-2","d-flex","justify-content-center"],[1,"form-outline","mb-4","col-6","box-center"],["for","name"],["id","name","type","text",1,"form-control","border","border-dark",3,"ngModel","ngModelChange"],[1,"btn","btn-warning","m-5",3,"click"],[1,"btn","btn-danger","m-5",3,"click"]],template:function(i,n){1&i&&(X(0,"div",0),Ue(1,"div",1),X(2,"div",2)(3,"div",3)(4,"h4")(5,"u"),q(6,"Add Unit"),$()()(),X(7,"div")(8,"div",4)(9,"label",5),q(10,"Unit Name"),$(),X(11,"input",6),Xe("ngModelChange",function(a){return n.unit.name=a}),$(),X(12,"button",7),Xe("click",function(){return n.save()}),q(13,"save"),$(),X(14,"button",8),Xe("click",function(){return n.cancel()}),q(15,"cancel"),$()()()()()),2&i&&(Ee(11),Ve("ngModel",n.unit.name))},directives:[Ns,Ar,el],styles:[".overlay[_ngcontent-%COMP%]{position:fixed;display:block;width:100%;height:100%;top:0;left:0;right:0;bottom:0;background-color:#00000080;z-index:10000;cursor:pointer}.box-center[_ngcontent-%COMP%]{background:lightgrey;width:50%;height:50%;margin-left:25%;margin-top:7%}"]}),e})();function vL(e,t){if(1&e&&(X(0,"option",28),q(1),$()),2&e){const i=t.$implicit;Ee(1),Es(i.name)}}function bL(e,t){if(1&e){const i=hn();X(0,"app-add-unit",29),Xe("isOpened",function(s){return Ii(i),Et().closePop(s)}),$()}}function _L(e,t){if(1&e){const i=hn();X(0,"app-category",29),Xe("isOpened",function(s){return Ii(i),Et().closePop(s)}),$()}}let CL=(()=>{class e{constructor(i,n){this.fb=i,this.categoryService=n,this.isCategoryOpen=!1,this.isUnitOpen=!1,this.isOpened=new Wt,this.categories=[],this.categoryService.categorSubject.subscribe(s=>{null!=s&&(this.categories=s)})}ngOnInit(){this.itemForm=this.fb.group({name:[""],discount:[""],price:[""],skuId:[""],stocks:[""],unit:[""],category:[""]})}onSubmit(i){console.log("  ",i)}save(){this.isOpened.emit("save")}cancel(){this.isOpened.emit("cancel")}openCategory(){this.isCategoryOpen=!0}openUnit(){this.isUnitOpen=!0}closePop(i){"cancel"==i&&(this.isCategoryOpen=!1,this.isUnitOpen=!1,alert("closed without save")),"save"==i&&(this.isCategoryOpen=!1,this.isUnitOpen=!1,alert("save")),"error"==i&&(this.isCategoryOpen=!1,this.isUnitOpen=!1,alert("error"))}}return e.\u0275fac=function(i){return new(i||e)(de(sL),de(cf))},e.\u0275cmp=ci({type:e,selectors:[["app-add-item"]],outputs:{isOpened:"isOpened"},decls:54,vars:4,consts:[[3,"formGroup","ngSubmit"],[1,"mb-4"],[1,"row"],[1,"form-outline","mb-4","col-lg-6"],["for","item-name"],["id","item-name","type","text","formControlName","name",1,"form-control"],[2,"margin-bottom","-3.5%"],["for","item-category"],["id","item-category","formControlName","category",1,"form-control","d-inline","w-50","m-0"],["value","category.name",4,"ngFor","ngForOf"],[1,"btn","btn-sm","btn-warning","d-inline","m-4",3,"click"],["for","skuId"],["id","skuId","type","text","formControlName","skuId",1,"form-control"],["for","item-unit"],["id","item-unit","formControlName","unit",1,"form-control","d-inline","w-50","m-0"],["value","volvo"],["value","saab"],["value","mercedes"],["value","audi"],["for","item-price"],["id","item-price","type","text","formControlName","price","type","number","step",".01","min","0",1,"form-control"],["for","item-discount"],["id","item-discount","type","text","formControlName","discount","type","number","step",".01","min","0",1,"form-control"],["for","item-stock"],["id","item-stock","type","text","formControlName","stock","type","number","min","0",1,"form-control"],["type","submit",1,"btn","btn-warning","btn-block","mb-4","m-2",3,"click"],["type","submit",1,"btn","btn-danger","btn-block","mb-4","m-2",3,"click"],[3,"isOpened",4,"ngIf"],["value","category.name"],[3,"isOpened"]],template:function(i,n){1&i&&(X(0,"form",0),Xe("ngSubmit",function(){return n.onSubmit(n.itemForm.value)}),X(1,"div",1)(2,"h2"),q(3,"Add Item"),$()(),X(4,"div",2)(5,"div",3)(6,"label",4),q(7,"Item Name"),$(),Ue(8,"input",5),$(),X(9,"div",3)(10,"div",6)(11,"label",7),q(12,"Category"),$()(),X(13,"select",8),vt(14,vL,2,1,"option",9),$(),X(15,"button",10),Xe("click",function(){return n.openCategory()}),q(16,"Add Category"),$()(),X(17,"div",3)(18,"label",11),q(19,"Sku Id"),$(),Ue(20,"input",12),$(),X(21,"div",3)(22,"div",6)(23,"label",13),q(24,"Choose a Unit"),$()(),X(25,"select",14)(26,"option",15),q(27,"Volvo"),$(),X(28,"option",16),q(29,"Saab"),$(),X(30,"option",17),q(31,"Mercedes"),$(),X(32,"option",18),q(33,"Audi"),$()(),X(34,"button",10),Xe("click",function(){return n.openUnit()}),q(35,"Add Unit"),$()(),X(36,"div",3)(37,"label",19),q(38,"Price"),$(),Ue(39,"input",20),$(),X(40,"div",3)(41,"label",21),q(42,"Discount"),$(),Ue(43,"input",22),$(),X(44,"div",3)(45,"label",23),q(46,"Stocks"),$(),Ue(47,"input",24),$()(),X(48,"button",25),Xe("click",function(){return n.save()}),q(49,"Save"),$(),X(50,"button",26),Xe("click",function(){return n.cancel()}),q(51,"Cancel"),$()(),vt(52,bL,1,0,"app-add-unit",27),vt(53,_L,1,0,"app-category",27)),2&i&&(Ve("formGroup",n.itemForm),Ee(14),Ve("ngForOf",n.categories),Ee(38),Ve("ngIf",n.isUnitOpen),Ee(1),Ve("ngIf",n.isCategoryOpen))},directives:[nu,Gh,No,Ns,Ar,tl,su,_h,G_,Q_,sf,hf,xs,lC,df],styles:[".overlay[_ngcontent-%COMP%]{position:fixed;display:block;width:100%;height:100%;top:0;left:0;right:0;bottom:0;background-color:#00000080;z-index:2;cursor:pointer}"]}),e})();function wL(e,t){if(1&e&&(X(0,"th",11),q(1),$()),2&e){const i=t.$implicit;Ee(1),Es(i)}}let ML=(()=>{class e{constructor(){this.isOpened=new Wt,this.tableHeaders=["#","Name","Price","Stocks","Actions"]}ngOnInit(){}addItem(){this.isOpened.emit("addItem")}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ci({type:e,selectors:[["app-list-items"]],outputs:{isOpened:"isOpened"},decls:44,vars:1,consts:[[1,"row","mt-1"],[1,"col-lg-6",2,"display","inline-flex"],["id","name","type","text",1,"form-control","border","border-dark",2,"width","190%"],[2,"margin-left","33% !important"],[1,"btn","btn-md","btn-warning"],[1,"col-lg-6","mt-2"],[1,"btn","btn-sm","btn-danger",3,"click"],[1,"border-top",2,"margin-top","2%"],[1,"table","table-striped"],["scope","col",4,"ngFor","ngForOf"],["scope","row"],["scope","col"]],template:function(i,n){1&i&&(X(0,"div",0)(1,"div",1)(2,"span"),Ue(3,"input",2),$(),X(4,"span",3)(5,"a",4),q(6,"search"),$()()(),X(7,"div",5)(8,"span")(9,"a",6),Xe("click",function(){return n.addItem()}),q(10,"Add Item"),$()()()(),X(11,"div",7)(12,"table",8)(13,"thead")(14,"tr"),vt(15,wL,2,1,"th",9),$()(),X(16,"tbody")(17,"tr")(18,"th",10),q(19,"1"),$(),X(20,"td"),q(21,"Mark"),$(),X(22,"td"),q(23,"Otto"),$(),X(24,"td"),q(25,"@mdo"),$()(),X(26,"tr")(27,"th",10),q(28,"2"),$(),X(29,"td"),q(30,"Jacob"),$(),X(31,"td"),q(32,"Thornton"),$(),X(33,"td"),q(34,"@fat"),$()(),X(35,"tr")(36,"th",10),q(37,"3"),$(),X(38,"td"),q(39,"Larry"),$(),X(40,"td"),q(41,"the Bird"),$(),X(42,"td"),q(43,"@twitter"),$()()()()()),2&i&&(Ee(15),Ve("ngForOf",n.tableHeaders))},directives:[_h],styles:[""]}),e})();function TL(e,t){if(1&e){const i=hn();X(0,"app-add-unit",12),Xe("isOpened",function(s){return Ii(i),Et().closePop(s)}),$()}}let SL=(()=>{class e{constructor(){this.isEdit=!1}ngOnInit(){throw new Error("Method not implemented.")}closePop(i){this.isEdit=!1}addUnit(){this.isEdit=!0}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ci({type:e,selectors:[["app-unit"]],decls:46,vars:1,consts:[[3,"isOpened",4,"ngIf"],[1,"row","mt-1"],[1,"col-lg-6",2,"display","inline-flex"],["id","name","type","text",1,"form-control","border","border-dark",2,"width","190%"],[2,"margin-left","33% !important"],[1,"btn","btn-md","btn-warning"],[1,"col-lg-6","mt-2"],[1,"btn","btn-sm","btn-danger",3,"click"],[1,"border-top",2,"margin-top","2%"],[1,"table","table-striped"],["scope","col"],["scope","row"],[3,"isOpened"]],template:function(i,n){1&i&&(vt(0,TL,1,0,"app-add-unit",0),X(1,"div",1)(2,"div",2)(3,"span"),Ue(4,"input",3),$(),X(5,"span",4)(6,"a",5),q(7,"search"),$()()(),X(8,"div",6)(9,"span")(10,"a",7),Xe("click",function(){return n.addUnit()}),q(11,"Add Unit"),$()()()(),X(12,"div",8)(13,"table",9)(14,"thead")(15,"tr")(16,"th",10),q(17,"hh"),$()()(),X(18,"tbody")(19,"tr")(20,"th",11),q(21,"1"),$(),X(22,"td"),q(23,"Mark"),$(),X(24,"td"),q(25,"Otto"),$(),X(26,"td"),q(27,"@mdo"),$()(),X(28,"tr")(29,"th",11),q(30,"2"),$(),X(31,"td"),q(32,"Jacob"),$(),X(33,"td"),q(34,"Thornton"),$(),X(35,"td"),q(36,"@fat"),$()(),X(37,"tr")(38,"th",11),q(39,"3"),$(),X(40,"td"),q(41,"Larry"),$(),X(42,"td"),q(43,"the Bird"),$(),X(44,"td"),q(45,"@twitter"),$()()()()()),2&i&&Ve("ngIf",n.isEdit)},directives:[xs,lC],styles:[".overlay[_ngcontent-%COMP%]{position:fixed;display:block;width:100%;height:100%;top:0;left:0;right:0;bottom:0;background-color:#00000080;z-index:10000;cursor:pointer}.box-center[_ngcontent-%COMP%]{background:lightgrey;width:50%;height:50%;margin-left:25%;margin-top:7%}"]}),e})();function DL(e,t){if(1&e){const i=hn();X(0,"app-add-item",6),Xe("isOpened",function(s){return Ii(i),Et(2).doItemEdit(s)}),$()}}function PL(e,t){if(1&e){const i=hn();X(0,"app-list-items",6),Xe("isOpened",function(s){return Ii(i),Et(2).doItemEdit(s)}),$()}}function kL(e,t){if(1&e&&(X(0,"div"),vt(1,DL,1,0,"app-add-item",5),vt(2,PL,1,0,"app-list-items",5),$()),2&e){const i=Et();Ee(1),Ve("ngIf",i.isItemEdit),Ee(1),Ve("ngIf",!i.isItemEdit)}}function AL(e,t){1&e&&Ue(0,"app-category")}function EL(e,t){1&e&&Ue(0,"app-unit")}let IL=(()=>{class e{constructor(){this.num=[],this.isItemEdit=!1,this.selectedTab="Items"}ngOnInit(){}switchTab(i){this.selectedTab=i}doItemEdit(i){"cancel"==i&&(this.isItemEdit=!1,alert("closed without save")),"save"==i&&(this.isItemEdit=!1,alert("save")),"error"==i&&(this.isItemEdit=!1,alert("error")),"addItem"==i&&(this.isItemEdit=!0)}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ci({type:e,selectors:[["app-inventory"]],decls:19,vars:6,consts:[[1,"Container"],[1,"row","mt-2"],[1,"col-6-lg","d-flex","justify-content-start"],[3,"ngClass","click"],[4,"ngIf"],[3,"isOpened",4,"ngIf"],[3,"isOpened"]],template:function(i,n){1&i&&(X(0,"div",0)(1,"div",1)(2,"div",2)(3,"span")(4,"h5")(5,"a",3),Xe("click",function(){return n.switchTab("Items")}),X(6,"u"),q(7,"Items"),$()(),q(8," / "),X(9,"a",3),Xe("click",function(){return n.switchTab("Category")}),X(10,"u"),q(11,"Category"),$()(),q(12," / "),X(13,"a",3),Xe("click",function(){return n.switchTab("Units")}),X(14,"u"),q(15,"Units"),$()()()()()(),vt(16,kL,3,2,"div",4),vt(17,AL,1,0,"app-category",4),vt(18,EL,1,0,"app-unit",4),$()),2&i&&(Ee(5),Ve("ngClass","Items"==n.selectedTab?"text-danger":"text-black"),Ee(4),Ve("ngClass","Category"==n.selectedTab?"text-danger":"text-black"),Ee(4),Ve("ngClass","Units"==n.selectedTab?"text-danger":"text-black"),Ee(3),Ve("ngIf","Items"==n.selectedTab),Ee(1),Ve("ngIf","Category"==n.selectedTab),Ee(1),Ve("ngIf","Units"==n.selectedTab))},directives:[Va,xs,CL,ML,df,SL],styles:[""]}),e})();const pf="auth-token";let ou=(()=>{class e{constructor(){this.tokenSubject=new Bi(null)}signOut(){console.log("************88"),window.localStorage.clear()}saveToken(i){window.localStorage.removeItem(pf),window.localStorage.setItem(pf,i)}getToken(){return window.localStorage.getItem(pf)}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function FL(e,t){1&e&&(X(0,"div",27),q(1," Email is invalid "),$())}function LL(e,t){1&e&&(X(0,"div",27),q(1," Email is required. "),$())}function VL(e,t){if(1&e&&(X(0,"div"),vt(1,FL,2,0,"div",26),vt(2,LL,2,0,"div",26),$()),2&e){const i=Et(2);Ee(1),Ve("ngIf",null==i.username.errors?null:i.username.errors.email),Ee(1),Ve("ngIf",null==i.username.errors?null:i.username.errors.required)}}function OL(e,t){1&e&&(X(0,"div",27),q(1," Password is required. "),$())}function BL(e,t){if(1&e&&(X(0,"div"),vt(1,OL,2,0,"div",26),$()),2&e){const i=Et(2);Ee(1),Ve("ngIf",null==i.password.errors?null:i.password.errors.required)}}const RL=function(){return["/forgot-password"]},NL=function(){return["/register"]};function WL(e,t){if(1&e){const i=hn();X(0,"div",1),Ue(1,"div",2),X(2,"div",3)(3,"form",4),Xe("ngSubmit",function(){Ii(i);const s=Et();return s.onSubmit(s.login.value)}),X(4,"div",5)(5,"h2"),q(6,"Logo"),$()(),X(7,"div",6)(8,"label",7),q(9,"Email"),$(),Ue(10,"input",8),vt(11,VL,3,2,"div",9),$(),X(12,"div",6)(13,"label",10),q(14,"Password"),$(),Ue(15,"input",11),vt(16,BL,2,1,"div",9),$(),X(17,"button",12),q(18,"Sign in"),$()(),X(19,"div",13)(20,"div",14)(21,"div",15),Ue(22,"input",16),X(23,"label",17),q(24," Remember me "),$()()(),X(25,"div",14)(26,"a",18),q(27,"Forgot password?"),$()()(),X(28,"div",19)(29,"p"),q(30,"Not a member? "),X(31,"a",18),q(32,"Register"),$()(),X(33,"p"),q(34,"or sign up with:"),$(),X(35,"button",20),Ue(36,"i",21),$(),X(37,"button",20),Ue(38,"i",22),$(),X(39,"button",20),Ue(40,"i",23),$(),X(41,"button",20),Ue(42,"i",24),$()()(),Ue(43,"div",25),$()}if(2&e){const i=Et();Ee(3),Ve("formGroup",i.login),Ee(8),Ve("ngIf",i.username.invalid&&(i.username.dirty||i.username.touched)),Ee(5),Ve("ngIf",i.password.invalid&&(i.password.dirty||i.password.touched)),Ee(10),Ve("routerLink",vr(5,RL)),Ee(5),Ve("routerLink",vr(6,NL))}}let HL=(()=>{class e{constructor(i,n,s,a){this.authService=i,this.tokenStorage=n,this.router=s,this.userService=a,this.isLoggedIn=!1,this.isLoginFailed=!1,this.errorMessage="",this.roles=[]}ngOnInit(){this.login=new Ro({username:new or("",es.compose([es.email])),password:new or("")}),this.tokenStorage.getToken()&&""!=this.tokenStorage.getToken()&&(this.isLoggedIn=!0,this.router.navigate(["/inventory"]))}onSubmit(i){this.login.valid?this.authService.login(i.username,i.password).subscribe({next:n=>{this.userService.saveUsername(i.username),this.tokenStorage.saveToken(n.token?n.token:""),this.tokenStorage.tokenSubject.next(n.token),this.isLoginFailed=!1,this.isLoggedIn=!0},error:n=>{this.errorMessage=n.error.message,this.isLoginFailed=!0}}):(this.login.get("username").touched=!0,this.login.get("password").touched=!0,this.login.get("username").touched=!0)}reloadPage(){window.location.reload()}get username(){return this.login.get("username")}get password(){return this.login.get("password")}}return e.\u0275fac=function(i){return new(i||e)(de(Oo),de(ou),de(Fi),de(Xh))},e.\u0275cmp=ci({type:e,selectors:[["app-login"]],decls:1,vars:1,consts:[["class","row mt-4",4,"ngIf"],[1,"row","mt-4"],[1,"col-lg-4","col-sm-2","col-2"],[1,"col-lg-4","col-sm-8","col-8"],[3,"formGroup","ngSubmit"],[1,"text-center","mb-4"],[1,"form-outline","mb-4"],[1,"form-label"],["type","email","formControlName","username","name","username","email","true","required","",1,"form-control"],[4,"ngIf"],["for","form2Example2",1,"form-label"],["type","password","formControlName","password","name","password","id","password","required","",1,"form-control"],["type","submit",1,"btn","btn-primary","btn-block","mb-4"],[1,"row","mb-4"],[1,"col","d-flex","justify-content-center"],[1,"form-check"],["type","checkbox","value","","checked","",1,"form-check-input"],[1,"form-check-label"],[3,"routerLink"],[1,"text-center"],["type","button",1,"btn","btn-link","btn-floating","mx-1"],[1,"bi","bi-google"],[1,"bi","bi-facebook"],[1,"bi","bi-twitter"],[1,"bi","bi-github"],[1,"col-4","col-sm-4","col-lg-2","col-2"],["class","text-danger",4,"ngIf"],[1,"text-danger"]],template:function(i,n){1&i&&vt(0,WL,44,7,"div",0),2&i&&Ve("ngIf",!n.isLoggedIn)},directives:[xs,nu,Gh,No,Ns,Ar,tl,ru,Wo,Fo],styles:[""]}),e})(),jL=(()=>{class e{constructor(){this.num=[],this.isItemEdit=!1,this.selectedTab="Items"}ngOnInit(){}switchTab(i){this.selectedTab=i}createOrder(){}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ci({type:e,selectors:[["app-order"]],decls:53,vars:1,consts:[[1,"Container"],[1,"row","mt-2"],[1,"col-6-lg","d-flex","justify-content-start"],[3,"ngClass","click"],[1,"row","mt-1"],[1,"col-lg-6",2,"display","inline-flex"],["id","name","type","text",1,"form-control","border","border-dark",2,"width","190%"],[2,"margin-left","33% !important"],[1,"btn","btn-md","btn-warning"],[1,"col-lg-6","mt-2"],[1,"btn","btn-sm","btn-danger",3,"click"],[1,"border-top",2,"margin-top","2%"],[1,"table","table-striped"],["scope","col"],["scope","row"]],template:function(i,n){1&i&&(X(0,"div",0)(1,"div",1)(2,"div",2)(3,"span")(4,"h5")(5,"a",3),Xe("click",function(){return n.switchTab("Order")}),X(6,"u"),q(7,"Orders"),$()()()()()()(),X(8,"div",4)(9,"div",5)(10,"span"),Ue(11,"input",6),$(),X(12,"span",7)(13,"a",8),q(14,"search"),$()()(),X(15,"div",9)(16,"span")(17,"a",10),Xe("click",function(){return n.createOrder()}),q(18,"Create Order"),$()()()(),X(19,"div",11)(20,"table",12)(21,"thead")(22,"tr")(23,"th",13),q(24,"hh"),$()()(),X(25,"tbody")(26,"tr")(27,"th",14),q(28,"1"),$(),X(29,"td"),q(30,"Mark"),$(),X(31,"td"),q(32,"Otto"),$(),X(33,"td"),q(34,"@mdo"),$()(),X(35,"tr")(36,"th",14),q(37,"2"),$(),X(38,"td"),q(39,"Jacob"),$(),X(40,"td"),q(41,"Thornton"),$(),X(42,"td"),q(43,"@fat"),$()(),X(44,"tr")(45,"th",14),q(46,"3"),$(),X(47,"td"),q(48,"Larry"),$(),X(49,"td"),q(50,"the Bird"),$(),X(51,"td"),q(52,"@twitter"),$()()()()()),2&i&&(Ee(5),Ve("ngClass","Order"==n.selectedTab?"text-danger":"text-black"))},directives:[Va],styles:[""]}),e})();function UL(e,t){if(1&e&&(X(0,"li"),q(1),$()),2&e){const i=t.$implicit;Ee(1),vo(" ",i," ")}}function XL(e,t){if(1&e&&(X(0,"div",2)(1,"header",3)(2,"h3")(3,"strong"),q(4),$(),q(5," Profile "),$()(),X(6,"p")(7,"strong"),q(8,"Token:"),$(),q(9),$(),X(10,"p")(11,"strong"),q(12,"Email:"),$(),q(13),$(),X(14,"strong"),q(15,"Roles:"),$(),X(16,"ul"),vt(17,UL,2,1,"li",4),$()()),2&e){const i=Et();Ee(4),Es(i.currentUser.username),Ee(5),Zc(" ",i.currentUser.accessToken.substring(0,20)," ... ",i.currentUser.accessToken.substr(i.currentUser.accessToken.length-20)," "),Ee(4),vo(" ",i.currentUser.email," "),Ee(4),Ve("ngForOf",i.currentUser.roles)}}function zL(e,t){1&e&&q(0," Please login. ")}let YL=(()=>{class e{constructor(i,n){this.token=i,this.authService=n}ngOnInit(){}}return e.\u0275fac=function(i){return new(i||e)(de(ou),de(Oo))},e.\u0275cmp=ci({type:e,selectors:[["app-profile"]],decls:3,vars:2,consts:[["class","container",4,"ngIf","ngIfElse"],["loggedOut",""],[1,"container"],[1,"jumbotron"],[4,"ngFor","ngForOf"]],template:function(i,n){if(1&i&&(vt(0,XL,18,5,"div",0),vt(1,zL,1,0,"ng-template",null,1,cv)),2&i){const s=function fx(e){return function Hr(e,t){return e[t]}(function HC(){return ht.lFrame.contextLView}(),20+e)}(2);Ve("ngIf",n.currentUser)("ngIfElse",s)}},directives:[xs,_h],styles:[""]}),e})();const hC=function(){return["/login"]};function $L(e,t){1&e&&(X(0,"label",7),q(1," Registeration successful, "),X(2,"a",8),q(3,"please login to continue"),$()()),2&e&&(Ee(2),Ve("routerLink",vr(1,hC)))}function GL(e,t){if(1&e&&(X(0,"div",26),q(1),$()),2&e){const i=Et(2);Ee(1),vo(" ",i.errorMessage," ")}}function KL(e,t){1&e&&(X(0,"div",28),q(1," Email is invalid "),$())}function QL(e,t){1&e&&(X(0,"div",28),q(1," Email is required. "),$())}function JL(e,t){if(1&e&&(X(0,"div"),vt(1,KL,2,0,"div",27),vt(2,QL,2,0,"div",27),$()),2&e){const i=Et(2);Ee(1),Ve("ngIf",null==i.username.errors?null:i.username.errors.email),Ee(1),Ve("ngIf",null==i.username.errors?null:i.username.errors.required)}}function ZL(e,t){1&e&&(X(0,"div",28),q(1," Phone number is required. "),$())}function qL(e,t){1&e&&(X(0,"div",28),q(1," Phone number should contain digits of length "),$())}function eV(e,t){if(1&e&&(X(0,"div"),vt(1,ZL,2,0,"div",27),vt(2,qL,2,0,"div",27),$()),2&e){const i=Et(2);Ee(1),Ve("ngIf",null==i.phone.errors?null:i.phone.errors.required),Ee(1),Ve("ngIf",null==i.phone.errors?null:i.phone.errors.pattern)}}function tV(e,t){1&e&&(X(0,"div",28),q(1," Password is required. "),$())}function iV(e,t){1&e&&(X(0,"div",28),q(1," Password should be Minimum eight characters, at least one uppercase letter, one lowercase letter, one number and one special character "),$())}function nV(e,t){if(1&e&&(X(0,"div"),vt(1,tV,2,0,"div",27),vt(2,iV,2,0,"div",27),$()),2&e){const i=Et(2);Ee(1),Ve("ngIf",null==i.password.errors?null:i.password.errors.required),Ee(1),Ve("ngIf",null==i.password.errors?null:i.password.errors.pattern)}}function sV(e,t){if(1&e){const i=hn();X(0,"div"),vt(1,GL,2,1,"div",9),X(2,"form",10),Xe("ngSubmit",function(){Ii(i);const s=Et();return s.onSubmit(s.register.value)}),X(3,"div",11)(4,"label",12),q(5,"Email"),$(),Ue(6,"input",13),vt(7,JL,3,2,"div",5),$(),X(8,"div",11)(9,"label",14),q(10,"Phone"),$(),Ue(11,"input",15),vt(12,eV,3,2,"div",5),$(),X(13,"div",11)(14,"label",16),q(15,"Password"),$(),Ue(16,"input",17),vt(17,nV,3,2,"div",5),$(),X(18,"button",18),q(19,"Register"),$()(),X(20,"div",19)(21,"p"),q(22,"Already a member? "),X(23,"a",20),q(24,"sign in"),$()(),X(25,"p"),q(26,"or sign up with:"),$(),X(27,"button",21),Ue(28,"i",22),$(),X(29,"button",21),Ue(30,"i",23),$(),X(31,"button",21),Ue(32,"i",24),$(),X(33,"button",21),Ue(34,"i",25),$()()()}if(2&e){const i=Et();Ee(1),Ve("ngIf",i.isSignUpFailed),Ee(1),Ve("formGroup",i.register),Ee(5),Ve("ngIf",i.username.invalid&&(i.username.dirty||i.username.touched)),Ee(5),Ve("ngIf",i.phone.invalid&&(i.phone.dirty||i.phone.touched)),Ee(5),Ve("ngIf",i.password.invalid&&(i.password.dirty||i.password.touched)),Ee(6),Ve("routerLink",vr(6,hC))}}let rV=(()=>{class e{constructor(i){this.authService=i,this.isSuccessful=!1,this.isSignUpFailed=!1,this.errorMessage=""}ngOnInit(){this.register=new Ro({username:new or("",es.compose([es.email,es.required])),password:new or("",es.compose([es.required,es.pattern("^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$")])),phone:new or("",es.compose([es.required,es.pattern("(0|91)?[0-9][0-9]{9}")]))})}onSubmit(i){this.register.valid?(i.roles=[ir.Admin,ir.User],i.email=i.username,this.authService.register(i).subscribe({next:n=>{console.log(n),this.isSuccessful=!0,this.isSignUpFailed=!1},error:n=>{this.errorMessage=n.error.message,this.errorMessage="Email is already registered",this.isSignUpFailed=!0},complete:()=>console.info("complete")})):(this.register.get("username").touched=!0,this.register.get("password").touched=!0,this.register.get("phone").touched=!0)}get username(){return this.register.get("username")}get password(){return this.register.get("password")}get phone(){return this.register.get("phone")}}return e.\u0275fac=function(i){return new(i||e)(de(Oo))},e.\u0275cmp=ci({type:e,selectors:[["app-register"]],decls:9,vars:2,consts:[[1,"row","mt-4"],[1,"col-lg-4","col-sm-2","col-2"],[1,"col-lg-4","col-sm-8","col-8"],[1,"text-center","mb-4"],["class","form-label",4,"ngIf"],[4,"ngIf"],[1,"col-4","col-sm-4","col-lg-2","col-2"],[1,"form-label"],[1,"text-primary",3,"routerLink"],["class","text-danger text-center",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"form-outline","mb-4"],["for","email",1,"form-label"],["type","email","id","username","formControlName","username","name","username","email","true","required","",1,"form-control"],["for","phone",1,"form-label"],["type","text","id","phone","formControlName","phone","name","phone","required","",1,"form-control"],["for","password",1,"form-label"],["type","password","id","password","formControlName","password","name","password","required","",1,"form-control"],["type","submit",1,"btn","btn-primary","btn-block","mb-4"],[1,"text-center"],[3,"routerLink"],["type","button",1,"btn","btn-link","btn-floating","mx-1"],[1,"bi","bi-google"],[1,"bi","bi-facebook"],[1,"bi","bi-twitter"],[1,"bi","bi-github"],[1,"text-danger","text-center"],["class","text-danger",4,"ngIf"],[1,"text-danger"]],template:function(i,n){1&i&&(X(0,"div",0),Ue(1,"div",1),X(2,"div",2)(3,"div",3)(4,"h2"),q(5,"Logo"),$()(),vt(6,$L,4,2,"label",4),vt(7,sV,35,7,"div",5),$(),Ue(8,"div",6),$()),2&i&&(Ee(6),Ve("ngIf",n.isSuccessful),Ee(1),Ve("ngIf",!n.isSuccessful))},directives:[xs,Fo,nu,Gh,No,Ns,Ar,tl,ru,Wo],styles:[""]}),e})(),oV=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ci({type:e,selectors:[["app-task-menu"]],decls:103,vars:0,consts:[[1,"container-fluid"],[1,"row","flex-nowrap"],[1,"col-auto","col-md-3","col-xl-2","px-sm-2","px-0","bg-dark"],[1,"d-flex","flex-column","align-items-center","align-items-sm-start","px-3","pt-2","text-white","min-vh-100"],["href","/",1,"d-flex","align-items-center","pb-3","mb-md-0","me-md-auto","text-white","text-decoration-none"],[1,"fs-5","d-none","d-sm-inline"],["id","menu",1,"nav","nav-pills","flex-column","mb-sm-auto","mb-0","align-items-center","align-items-sm-start"],[1,"nav-item"],["href","#",1,"nav-link","align-middle","px-0"],[1,"fs-4","bi-house"],[1,"ms-1","d-none","d-sm-inline"],["href","#submenu1","data-bs-toggle","collapse",1,"nav-link","px-0","align-middle"],[1,"fs-4","bi-speedometer2"],["id","submenu1","data-bs-parent","#menu",1,"collapse","show","nav","flex-column","ms-1"],[1,"w-100"],["href","#",1,"nav-link","px-0"],[1,"d-none","d-sm-inline"],["href","#",1,"nav-link","px-0","align-middle"],[1,"fs-4","bi-table"],["href","#submenu2","data-bs-toggle","collapse",1,"nav-link","px-0","align-middle"],[1,"fs-4","bi-bootstrap"],["id","submenu2","data-bs-parent","#menu",1,"collapse","nav","flex-column","ms-1"],["href","#submenu3","data-bs-toggle","collapse",1,"nav-link","px-0","align-middle"],[1,"fs-4","bi-grid"],["id","submenu3","data-bs-parent","#menu",1,"collapse","nav","flex-column","ms-1"],[1,"fs-4","bi-people"],[1,"dropdown","pb-4"],["href","#","id","dropdownUser1","data-bs-toggle","dropdown","aria-expanded","false",1,"d-flex","align-items-center","text-white","text-decoration-none","dropdown-toggle"],["src","https://github.com/mdo.png","alt","hugenerd","width","30","height","30",1,"rounded-circle"],[1,"d-none","d-sm-inline","mx-1"],[1,"dropdown-menu","dropdown-menu-dark","text-small","shadow"],["href","#",1,"dropdown-item"],[1,"dropdown-divider"],[1,"col","py-3"]],template:function(i,n){1&i&&(X(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4)(5,"span",5),q(6,"Menu"),$()(),X(7,"ul",6)(8,"li",7)(9,"a",8),Ue(10,"i",9),X(11,"span",10),q(12,"Home"),$()()(),X(13,"li")(14,"a",11),Ue(15,"i",12),X(16,"span",10),q(17,"Inventory"),$()(),X(18,"ul",13)(19,"li",14)(20,"a",15)(21,"span",16),q(22,"Categories"),$()()(),X(23,"li")(24,"a",15)(25,"span",16),q(26,"Item"),$(),q(27," 2 "),$()()()(),X(28,"li")(29,"a",17),Ue(30,"i",18),X(31,"span",10),q(32,"Orders"),$()()(),X(33,"li")(34,"a",19),Ue(35,"i",20),X(36,"span",10),q(37,"Bootstrap"),$()(),X(38,"ul",21)(39,"li",14)(40,"a",15)(41,"span",16),q(42,"Item"),$(),q(43," 1"),$()(),X(44,"li")(45,"a",15)(46,"span",16),q(47,"Item"),$(),q(48," 2"),$()()()(),X(49,"li")(50,"a",22),Ue(51,"i",23),X(52,"span",10),q(53,"Products"),$()(),X(54,"ul",24)(55,"li",14)(56,"a",15)(57,"span",16),q(58,"Product"),$(),q(59," 1"),$()(),X(60,"li")(61,"a",15)(62,"span",16),q(63,"Product"),$(),q(64," 2"),$()(),X(65,"li")(66,"a",15)(67,"span",16),q(68,"Product"),$(),q(69," 3"),$()(),X(70,"li")(71,"a",15)(72,"span",16),q(73,"Product"),$(),q(74," 4"),$()()()(),X(75,"li")(76,"a",17),Ue(77,"i",25),X(78,"span",10),q(79,"Customers"),$()()()(),Ue(80,"hr"),X(81,"div",26)(82,"a",27),Ue(83,"img",28),X(84,"span",29),q(85,"loser"),$()(),X(86,"ul",30)(87,"li")(88,"a",31),q(89,"New project..."),$()(),X(90,"li")(91,"a",31),q(92,"Settings"),$()(),X(93,"li")(94,"a",31),q(95,"Profile"),$()(),X(96,"li"),Ue(97,"hr",32),$(),X(98,"li")(99,"a",31),q(100,"Sign out"),$()()()()()(),X(101,"div",33),q(102," Content area... "),$()()())},styles:[""]}),e})();const aV=[{path:"home",component:mL,canActivate:[Vo]},{path:"login",component:HL},{path:"register",component:rV},{path:"inventory",component:IL,canActivate:[Vo]},{path:"profile",component:YL,canActivate:[Vo]},{path:"orders",component:jL,canActivate:[Vo]},{path:"forgot-password",component:pL},{path:"",redirectTo:"home",pathMatch:"full"},{path:"category",component:df,canActivate:[Vo]},{path:"admin",component:(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ci({type:e,selectors:[["app-task"]],decls:1,vars:0,template:function(i,n){1&i&&Ue(0,"app-task-menu")},directives:[oV],styles:[""]}),e})(),canActivate:[Vo]}];let lV=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Hi({type:e}),e.\u0275inj=ot({imports:[[Wb.forRoot(aV)],Wb]}),e})(),hV=(()=>{class e{constructor(i){this.router=i,this.isCollapsed=!0,this.selectedTab="dashboard",this.ifCollapsed=new Wt,this.isLoggedOut=new Wt}ngOnInit(){console.log(this.router.url),this.selectedTab=this.router.url.split("/")[1],this.router.events.forEach(i=>{i instanceof ko&&(this.selectedTab=i.url.split("/")[1])})}doCollapse(){this.isCollapsed=!this.isCollapsed,this.ifCollapsed.emit(this.isCollapsed)}doLogout(){console.log("hello"),this.isLoggedOut.emit(!0)}selectedMenu(i){this.selectedTab=i,console.log(i);let n="/"+i.toLowerCase();console.log(n),this.router.navigate([n])}}return e.\u0275fac=function(i){return new(i||e)(de(Fi))},e.\u0275cmp=ci({type:e,selectors:[["app-collapse-side-nav"]],outputs:{ifCollapsed:"ifCollapsed",isLoggedOut:"isLoggedOut"},decls:44,vars:9,consts:[["id","header",1,"header",3,"ngClass"],[1,"header_toggle"],["id","header-toggle",1,"bx","bx-menu","text-danger",3,"ngClass","click"],[1,"m-3","text-danger"],[1,"header_img"],["src","","alt",""],["id","nav-bar",1,"l-navbar","bg-danger",3,"ngClass"],[1,"nav"],[1,"nav_logo",3,"click"],[1,"bx","bx-layer","nav_logo-icon"],[1,"nav_logo-name"],[1,"nav_list"],[1,"nav_link",3,"ngClass","click"],[1,"bx","bx-grid-alt","nav_icon"],[1,"nav_name"],[1,"bx","bx-user","nav_icon"],[1,"bi","bi-building","nav_icon"],[1,"bi","bi-receipt","nav_icon"],["href","#",1,"nav_link"],[1,"bx","bx-folder","nav_icon"],[1,"bx","bx-bar-chart-alt-2","nav_icon"],[1,"nav_link",3,"click"],[1,"bx","bx-log-out","nav_icon"]],template:function(i,n){1&i&&(X(0,"header",0)(1,"div",1)(2,"i",2),Xe("click",function(){return n.doCollapse()}),$(),X(3,"span",3)(4,"u"),q(5),$()()(),X(6,"div",4),Ue(7,"img",5),$()(),X(8,"div",6)(9,"nav",7)(10,"div")(11,"a",8),Xe("click",function(){return n.selectedMenu("Home")}),Ue(12,"i",9),X(13,"span",10),q(14,"BBBootstrap"),$()(),X(15,"div",11)(16,"a",12),Xe("click",function(){return n.selectedMenu("Dashboard")}),Ue(17,"i",13),X(18,"span",14),q(19,"Dashboard"),$()(),X(20,"a",12),Xe("click",function(){return n.selectedMenu("Users")}),Ue(21,"i",15),X(22,"span",14),q(23,"Users"),$()(),X(24,"a",12),Xe("click",function(){return n.selectedMenu("inventory")}),Ue(25,"i",16),X(26,"span",14),q(27,"Inventory"),$()(),X(28,"a",12),Xe("click",function(){return n.selectedMenu("Orders")}),Ue(29,"i",17),X(30,"span",14),q(31,"Orders"),$()(),X(32,"a",18),Ue(33,"i",19),X(34,"span",14),q(35,"Files"),$()(),X(36,"a",12),Xe("click",function(){return n.selectedMenu("Stats")}),Ue(37,"i",20),X(38,"span",14),q(39,"Stats"),$()()()(),X(40,"a",21),Xe("click",function(){return n.doLogout()}),Ue(41,"i",22),X(42,"span",14),q(43,"SignOut"),$()()()()),2&i&&(Ve("ngClass",n.isCollapsed?"":"body-pd"),Ee(2),Ve("ngClass",n.isCollapsed?"":"bx-x"),Ee(3),Es(n.selectedTab.toUpperCase()),Ee(3),Ve("ngClass",n.isCollapsed?"":"show"),Ee(8),Ve("ngClass","Dashboard"==n.selectedTab?"active":""),Ee(4),Ve("ngClass","Users"==n.selectedTab?"active":""),Ee(4),Ve("ngClass","inventory"==n.selectedTab?"active":""),Ee(4),Ve("ngClass","Orders"==n.selectedTab?"active":""),Ee(8),Ve("ngClass","Stats"==n.selectedTab?"active":""))},directives:[Va],styles:[""]}),e})();function uV(e,t){if(1&e){const i=hn();X(0,"div",1)(1,"app-collapse-side-nav",2),Xe("ifCollapsed",function(s){return Ii(i),Et().doExpand(s)})("isLoggedOut",function(s){return Ii(i),Et().logout(s)}),$(),X(2,"div",3),Ue(3,"router-outlet"),$()()}2&e&&Ve("ngClass",Et().isCollapsed?"":"main-padding")}let cV=(()=>{class e{constructor(i,n,s,a){this.tokenStorageService=i,this.userService=n,this.authService=s,this.router=a,this.isCollapsed=!0,this.title="ecom-ui-common",this.roles=[],this.isLoggedIn=!1,this.showAdminBoard=!1,this.showModeratorBoard=!1,this.username="",this.isSeller=!1,this.isAdmin=!1,this.userService.userSubject.subscribe({next:c=>{null!=c&&(this.username=c.firstName?c.firstName:c.username)}}),this.userService.isAdmin.subscribe({next:c=>{this.isAdmin=c}}),this.userService.isSeller.subscribe({next:c=>{this.isSeller=c}}),this.tokenStorageService.tokenSubject.subscribe(c=>{this.isLoggedIn=!!this.tokenStorageService.getToken()||null!=c,console.log(this.isLoggedIn),this.isLoggedIn&&this.userService.setUserToAppLevel().subscribe({next:f=>{console.log(this.isLoggedIn,"fetch user",f),this.userService.saveUserDetailsInStorage(f),this.userService.userSubject.next(f),this.router.navigate(["/inventory"])}})})}ngOnChanges(i){}ngOnInit(){this.isLoggedIn=!!this.tokenStorageService.getToken()}logout(i){console.log("logout : ",i),i&&(this.isLoggedIn=!1,this.tokenStorageService.signOut(),window.location.reload())}doExpand(i){this.isCollapsed=i,console.log(i)}}return e.\u0275fac=function(i){return new(i||e)(de(ou),de(Xh),de(Oo),de(Fi))},e.\u0275cmp=ci({type:e,selectors:[["app-root"]],features:[ln],decls:3,vars:2,consts:[[3,"ngClass",4,"ngIf"],[3,"ngClass"],[3,"ifCollapsed","isLoggedOut"],[2,"margin-top","6% !important"]],template:function(i,n){1&i&&(vt(0,uV,4,1,"div",0),X(1,"div"),Ue(2,"router-outlet",1),$()),2&i&&(Ve("ngIf",n.isLoggedIn),Ee(2),Ve("ngClass",n.isLoggedIn?"hide":"show"))},directives:[xs,Va,hV,Mp],styles:[".main-padding[_ngcontent-%COMP%]{padding-left:13%}"]}),e})();const dV=[{provide:Vp,useClass:(()=>{class e{constructor(i){this.token=i}intercept(i,n){const c=this.token.getToken();return null!=c&&(i=i.clone({setHeaders:{Authorization:"Bearer "+c}})),n.handle(i)}}return e.\u0275fac=function(i){return new(i||e)(Oe(ou))},e.\u0275prov=Pe({token:e,factory:e.\u0275fac}),e})(),multi:!0}];let pV=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Hi({type:e}),e.\u0275inj=ot({imports:[[So,rC,uf,So]]}),e})(),fV=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Hi({type:e}),e.\u0275inj=ot({imports:[[So]]}),e})(),gV=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Hi({type:e}),e.\u0275inj=ot({imports:[[So]]}),e})(),mV=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Hi({type:e,bootstrap:[cV]}),e.\u0275inj=ot({providers:[dV],imports:[[bE,rC,uf,So,lV,uF,pV,gV,fV]]}),e})();(function ak(){Hv=!1})(),yE().bootstrapModule(mV).catch(e=>console.error(e))},524:(ar,sl)=>{var Ht;(function(){function fi(S,k){S.prototype=function lr(S){function k(){}return k.prototype=S,new k}(k.prototype),S.prototype.constructor=S,S.base=k.prototype}function _s(S,k,B){return"millisecond"===B?S.setMilliseconds(S.getMilliseconds()+1*k):"second"===B?S.setSeconds(S.getSeconds()+1*k):"minute"===B?S.setMinutes(S.getMinutes()+1*k):"hour"===B?S.setHours(S.getHours()+1*k):"day"===B?S.setDate(S.getDate()+1*k):"week"===B?S.setDate(S.getDate()+7*k):"month"===B?S.setMonth(S.getMonth()+1*k):"year"===B&&S.setFullYear(S.getFullYear()+1*k),S}function Ft(S,k){var B=!1;for(0>S&&(B=!0,S*=-1),S=""+S,k=k||1;S.length<k;)S="0"+S;return B?"-"+S:S}function ts(S){if(!S)return S;for(var k=/\s/,B=(S=S.replace(/^\s\s*/,"")).length;k.test(S.charAt(--B)););return S.slice(0,B+1)}function Bn(S){S.roundRect=function(k,B,ie,ge,_e,se,tt,st){tt&&(this.fillStyle=tt),st&&(this.strokeStyle=st),void 0===_e&&(_e=5),this.lineWidth=se,this.beginPath(),this.moveTo(k+_e,B),this.lineTo(k+ie-_e,B),this.quadraticCurveTo(k+ie,B,k+ie,B+_e),this.lineTo(k+ie,B+ge-_e),this.quadraticCurveTo(k+ie,B+ge,k+ie-_e,B+ge),this.lineTo(k+_e,B+ge),this.quadraticCurveTo(k,B+ge,k,B+ge-_e),this.lineTo(k,B+_e),this.quadraticCurveTo(k,B,k+_e,B),this.closePath(),tt&&this.fill(),st&&0<se&&this.stroke()}}function is(S,k){return S-k}function Ge(S){var k=((16711680&S)>>16).toString(16),B=((65280&S)>>8).toString(16);return S=((255&S)>>0).toString(16),"#"+(k=2>k.length?"0"+k:k)+(B=2>B.length?"0"+B:B)+(2>S.length?"0"+S:S)}function Cs(S,k){var ie,B=this.length>>>0;for(0>(ie=0>(ie=Number(k)||0)?Math.ceil(ie):Math.floor(ie))&&(ie+=B);ie<B;ie++)if(ie in this&&this[ie]===S)return ie;return-1}function j(S){return null==S}function cn(S){return S.indexOf||(S.indexOf=Cs),S}function Ws(S,k,B){var ie=S+"_"+k+"_"+(B=B||"normal"),ge=Wn[ie];if(isNaN(ge)){try{if(!Ni){var _e=document.body;(Ni=document.createElement("span")).innerHTML="";var se=document.createTextNode("Mpgyi");Ni.appendChild(se),_e.appendChild(Ni)}Ni.style.display="",Tt(Ni,{position:"absolute",left:"0px",top:"-20000px",padding:"0px",margin:"0px",border:"none",whiteSpace:"pre",lineHeight:"normal",fontFamily:S,fontSize:k+"px",fontWeight:B}),ge=Math.round(Ni.offsetHeight),Ni.style.display="none"}catch(tt){ge=Math.ceil(1.1*k)}ge=Math.max(ge,k),Wn[ie]=ge}return ge}function Ke(S,k){var B=[];if(B={solid:[],shortDash:[3,1],shortDot:[1,1],shortDashDot:[3,1,1,1],shortDashDotDot:[3,1,1,1,1,1],dot:[1,2],dash:[4,2],dashDot:[4,2,1,2],longDash:[8,2],longDashDot:[8,2,1,2],longDashDotDot:[8,2,1,2,1,2]}[S||"solid"])for(var ie=0;ie<B.length;ie++)B[ie]*=k;else B=[];return B}function pt(S,k,B,ie,ge){return ie=ie||[],ge=j(ge)?!!ss&&{passive:!1,capture:!1}:ge,ie.push([S,k,B,ge]),S.addEventListener?(S.addEventListener(k,B,ge),B):!!S.attachEvent&&(S.attachEvent("on"+k,ie=function(_e){(_e=_e||window.event).preventDefault=_e.preventDefault||function(){_e.returnValue=!1},_e.stopPropagation=_e.stopPropagation||function(){_e.cancelBubble=!0},B.call(S,_e)}),ie)}function ns(S,k,B){for(S=B.getImageData(S*=mi,k*=mi,2,2).data,k=!0,B=0;4>B;B++)if(S[B]!==S[B+4]|S[B]!==S[B+8]|S[B]!==S[B+12]){k=!1;break}return k?S[0]<<16|S[1]<<8|S[2]:0}function Ct(S,k,B){return S in k?k[S]:B[S]}function rn(S,k,B){if(Y&&ol){var ie=S.getContext("2d");S.width=k*(mi=al/(Fr=ie.webkitBackingStorePixelRatio||ie.mozBackingStorePixelRatio||ie.msBackingStorePixelRatio||ie.oBackingStorePixelRatio||ie.backingStorePixelRatio||1)),S.height=B*mi,al!==Fr&&(S.style.width=k+"px",S.style.height=B+"px",ie.scale(mi,mi))}else S.width=k,S.height=B}function gi(S,k){Ms&&(this.canvasCount|=0,window.console.log(++this.canvasCount));var B=document.createElement("canvas");return B.setAttribute("class","canvasjs-chart-canvas"),rn(B,S,k),Y||"undefined"==typeof G_vmlCanvasManager||G_vmlCanvasManager.initElement(B),B}function Tt(S,k){for(var B in k)S.style[B]=k[B]}function Kt(S,k,B){k.getAttribute("state")||(k.style.backgroundColor=S.toolbar.itemBackgroundColor,k.style.color=S.toolbar.fontColor,k.style.border="none",Tt(k,{WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none"})),k.getAttribute("state")!==B&&(k.setAttribute("state",B),k.setAttribute("type","button"),Tt(k,{padding:"5px 12px",cursor:"pointer",float:"left",width:"40px",height:"25px",outline:"0px",verticalAlign:"baseline",lineHeight:"0"}),k.setAttribute("title",S._cultureInfo[B+"Text"]),k.innerHTML="<img src='"+ll[B].image+"' alt='"+S._cultureInfo[B+"Text"]+"' />",Tt(k.childNodes[0],{height:"95%",pointerEvents:"none"}))}function Pt(){for(var S=null,k=0;k<arguments.length;k++)(S=arguments[k]).style&&(S.style.display="inline")}function Li(){for(var S=null,k=0;k<arguments.length;k++)(S=arguments[k])&&S.style&&(S.style.display="none")}function Rn(S,k,B,ie,ge){return null==S?void 0===B?k:B:(S=parseFloat(S.toString())*(0<=S.toString().indexOf("%")?k/100:1),void 0!==ie&&(S=Math.min(ie,S),void 0!==ge&&(S=Math.max(ge,S))),!isNaN(S)&&S<=k&&0<=S?S:void 0===B?k:B)}function Ot(S,k,B,ie,ge){this._defaultsKey=S,this._themeOptionsKey=k,this._index=ie,this.parent=ge,this._eventListeners=[],S={},this.theme&&j(this.parent)&&j(k)&&j(ie)?S=j(this.predefinedThemes[this.theme])?this.predefinedThemes.light1:this.predefinedThemes[this.theme]:this.parent&&this.parent.themeOptions&&this.parent.themeOptions[k]&&(null===ie?S=this.parent.themeOptions[k]:0<this.parent.themeOptions[k].length&&(ie=Math.min(this.parent.themeOptions[k].length-1,ie),S=this.parent.themeOptions[k][ie])),this.themeOptions=S,this.options=B||{_isPlaceholder:!0},this.setOptions(this.options,S)}function wn(S,k,B,ie,ge){void 0===ge&&(ge=0),this._padding=ge,this._x1=S,this._y1=k,this._x2=B,this._y2=ie,this._rightOccupied=this._leftOccupied=this._bottomOccupied=this._topOccupied=this._padding}function Ze(S,k){Ze.base.constructor.call(this,"TextBlock",null,k,null,null),this.ctx=S,this._isDirty=!0,this._wrappedText=null,this._initialize()}function Nn(S,k){Nn.base.constructor.call(this,"Toolbar","toolbar",k,null,S),this.chart=S,this.canvas=S.canvas,this.ctx=this.chart.ctx,this.optionsName="toolbar"}function dn(S,k){if(dn.base.constructor.call(this,"Title","title",k,null,S),this.chart=S,this.canvas=S.canvas,this.ctx=this.chart.ctx,this.optionsName="title",j(this.options.margin)&&S.options.subtitles)for(var B=S.options.subtitles,ie=0;ie<B.length;ie++)if((j(B[ie].horizontalAlign)&&"center"===this.horizontalAlign||B[ie].horizontalAlign===this.horizontalAlign)&&(j(B[ie].verticalAlign)&&"top"===this.verticalAlign||B[ie].verticalAlign===this.verticalAlign)&&!B[ie].dockInsidePlotArea==!this.dockInsidePlotArea){this.margin=0;break}void 0===this.options.fontSize&&(this.fontSize=this.chart.getAutoFontSize(this.fontSize)),this.height=this.width=null,this.bounds={x1:null,y1:null,x2:null,y2:null}}function Nt(S,k,B){Nt.base.constructor.call(this,"Subtitle","subtitles",k,B,S),this.chart=S,this.canvas=S.canvas,this.ctx=this.chart.ctx,this.optionsName="subtitles",this.isOptionsInArray=!0,void 0===this.options.fontSize&&(this.fontSize=this.chart.getAutoFontSize(this.fontSize)),this.height=this.width=null,this.bounds={x1:null,y1:null,x2:null,y2:null}}function Mn(){this.pool=[]}function Tn(S){var k;S&&Re[S]&&(k=Re[S]),Tn.base.constructor.call(this,"CultureInfo",null,k,null,null)}var te,fe,me,He,ft,Ms=!1,St={},Y=!!document.createElement("canvas").getContext,Gi={Chart:{width:500,height:400,zoomEnabled:!1,zoomType:"x",backgroundColor:"white",theme:"light1",animationEnabled:!1,animationDuration:1200,dataPointWidth:null,dataPointMinWidth:null,dataPointMaxWidth:null,colorSet:"colorSet1",culture:"en",creditHref:"",creditText:"CanvasJS",interactivityEnabled:!0,exportEnabled:!1,exportFileName:"Chart",rangeChanging:null,rangeChanged:null,publicProperties:{title:"readWrite",subtitles:"readWrite",toolbar:"readWrite",toolTip:"readWrite",legend:"readWrite",axisX:"readWrite",axisY:"readWrite",axisX2:"readWrite",axisY2:"readWrite",data:"readWrite",options:"readWrite",bounds:"readOnly",container:"readOnly",selectedColorSet:"readOnly"}},Title:{padding:0,text:null,verticalAlign:"top",horizontalAlign:"center",fontSize:20,fontFamily:"Calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:Y?"transparent":null,margin:5,wrap:!0,maxWidth:null,dockInsidePlotArea:!1,publicProperties:{options:"readWrite",bounds:"readOnly",chart:"readOnly"}},Subtitle:{padding:0,text:null,verticalAlign:"top",horizontalAlign:"center",fontSize:14,fontFamily:"Calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:null,margin:2,wrap:!0,maxWidth:null,dockInsidePlotArea:!1,publicProperties:{options:"readWrite",bounds:"readOnly",chart:"readOnly"}},Toolbar:{itemBackgroundColor:"white",itemBackgroundColorOnHover:"#2196f3",buttonBorderColor:"#2196f3",buttonBorderThickness:1,fontColor:"black",fontColorOnHover:"white",publicProperties:{options:"readWrite",chart:"readOnly"}},Legend:{name:null,verticalAlign:"center",horizontalAlign:"right",fontSize:14,fontFamily:"calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",cursor:null,itemmouseover:null,itemmouseout:null,itemmousemove:null,itemclick:null,dockInsidePlotArea:!1,reversed:!1,backgroundColor:Y?"transparent":null,borderColor:Y?"transparent":null,borderThickness:0,cornerRadius:0,maxWidth:null,maxHeight:null,markerMargin:null,itemMaxWidth:null,itemWidth:null,itemWrap:!0,itemTextFormatter:null,publicProperties:{options:"readWrite",bounds:"readOnly",chart:"readOnly"}},ToolTip:{enabled:!0,shared:!1,animationEnabled:!0,content:null,contentFormatter:null,reversed:!1,backgroundColor:Y?"rgba(255,255,255,.9)":"rgb(255,255,255)",borderColor:null,borderThickness:2,cornerRadius:5,fontSize:14,fontColor:"black",fontFamily:"Calibri, Arial, Georgia, serif;",fontWeight:"normal",fontStyle:"italic",updated:null,hidden:null,publicProperties:{options:"readWrite",chart:"readOnly"}},Axis:{minimum:null,maximum:null,viewportMinimum:null,viewportMaximum:null,interval:null,intervalType:null,reversed:!1,logarithmic:!1,logarithmBase:10,title:null,titleFontColor:"black",titleFontSize:20,titleFontFamily:"arial",titleFontWeight:"normal",titleFontStyle:"normal",titleWrap:!0,titleMaxWidth:null,titleBackgroundColor:Y?"transparent":null,titleBorderColor:Y?"transparent":null,titleBorderThickness:0,titleCornerRadius:0,labelAngle:0,labelFontFamily:"arial",labelFontColor:"black",labelFontSize:12,labelFontWeight:"normal",labelFontStyle:"normal",labelAutoFit:!0,labelWrap:!0,labelMaxWidth:null,labelFormatter:null,labelBackgroundColor:Y?"transparent":null,labelBorderColor:Y?"transparent":null,labelBorderThickness:0,labelCornerRadius:0,labelPlacement:"outside",labelTextAlign:"left",prefix:"",suffix:"",includeZero:!1,tickLength:5,tickColor:"black",tickThickness:1,tickPlacement:"outside",lineColor:"black",lineThickness:1,lineDashType:"solid",gridColor:"#A0A0A0",gridThickness:0,gridDashType:"solid",interlacedColor:Y?"transparent":null,valueFormatString:null,margin:2,publicProperties:{options:"readWrite",stripLines:"readWrite",scaleBreaks:"readWrite",crosshair:"readWrite",bounds:"readOnly",chart:"readOnly"}},StripLine:{value:null,startValue:null,endValue:null,color:"orange",opacity:null,thickness:2,lineDashType:"solid",label:"",labelPlacement:"inside",labelAlign:"far",labelWrap:!0,labelMaxWidth:null,labelBackgroundColor:null,labelBorderColor:Y?"transparent":null,labelBorderThickness:0,labelCornerRadius:0,labelFontFamily:"arial",labelFontColor:"orange",labelFontSize:12,labelFontWeight:"normal",labelFontStyle:"normal",labelFormatter:null,showOnTop:!1,publicProperties:{options:"readWrite",axis:"readOnly",bounds:"readOnly",chart:"readOnly"}},ScaleBreaks:{autoCalculate:!1,collapsibleThreshold:"25%",maxNumberOfAutoBreaks:2,spacing:8,type:"straight",color:"#FFFFFF",fillOpacity:.9,lineThickness:2,lineColor:"#E16E6E",lineDashType:"solid",publicProperties:{options:"readWrite",customBreaks:"readWrite",axis:"readOnly",autoBreaks:"readOnly",bounds:"readOnly",chart:"readOnly"}},Break:{startValue:null,endValue:null,spacing:8,type:"straight",color:"#FFFFFF",fillOpacity:.9,lineThickness:2,lineColor:"#E16E6E",lineDashType:"solid",publicProperties:{options:"readWrite",scaleBreaks:"readOnly",bounds:"readOnly",chart:"readOnly"}},Crosshair:{enabled:!1,snapToDataPoint:!1,color:"grey",opacity:null,thickness:2,lineDashType:"solid",label:"",labelWrap:!0,labelMaxWidth:null,labelBackgroundColor:Y?"grey":null,labelBorderColor:Y?"grey":null,labelBorderThickness:0,labelCornerRadius:0,labelFontFamily:Y?"Calibri, Optima, Candara, Verdana, Geneva, sans-serif":"calibri",labelFontSize:12,labelFontColor:"#fff",labelFontWeight:"normal",labelFontStyle:"normal",labelFormatter:null,valueFormatString:null,updated:null,hidden:null,publicProperties:{options:"readWrite",axis:"readOnly",bounds:"readOnly",chart:"readOnly"}},DataSeries:{name:null,dataPoints:null,label:"",bevelEnabled:!1,highlightEnabled:!0,cursor:"default",indexLabel:"",indexLabelPlacement:"auto",indexLabelOrientation:"horizontal",indexLabelTextAlign:"left",indexLabelFontColor:"black",indexLabelFontSize:12,indexLabelFontStyle:"normal",indexLabelFontFamily:"Arial",indexLabelFontWeight:"normal",indexLabelBackgroundColor:null,indexLabelLineColor:"gray",indexLabelLineThickness:1,indexLabelLineDashType:"solid",indexLabelMaxWidth:null,indexLabelWrap:!0,indexLabelFormatter:null,lineThickness:2,lineDashType:"solid",connectNullData:!1,nullDataLineDashType:"dash",color:null,lineColor:null,risingColor:"white",fallingColor:"red",fillOpacity:null,startAngle:0,radius:null,innerRadius:null,neckHeight:null,neckWidth:null,reversed:!1,valueRepresents:null,linkedDataSeriesIndex:null,whiskerThickness:2,whiskerDashType:"solid",whiskerColor:null,whiskerLength:null,stemThickness:2,stemColor:null,stemDashType:"solid",upperBoxColor:"white",lowerBoxColor:"white",type:"column",xValueType:"number",axisXType:"primary",axisYType:"primary",axisXIndex:0,axisYIndex:0,xValueFormatString:null,yValueFormatString:null,zValueFormatString:null,percentFormatString:null,showInLegend:null,legendMarkerType:null,legendMarkerColor:null,legendText:null,legendMarkerBorderColor:Y?"transparent":null,legendMarkerBorderThickness:0,markerType:"circle",markerColor:null,markerSize:null,markerBorderColor:Y?"transparent":null,markerBorderThickness:0,mouseover:null,mouseout:null,mousemove:null,click:null,toolTipContent:null,visible:!0,publicProperties:{options:"readWrite",axisX:"readWrite",axisY:"readWrite",chart:"readOnly"}},TextBlock:{x:0,y:0,width:null,height:null,maxWidth:null,maxHeight:null,padding:0,angle:0,text:"",horizontalAlign:"center",textAlign:"left",fontSize:12,fontFamily:"calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:null,textBaseline:"top"},CultureInfo:{decimalSeparator:".",digitGroupSeparator:",",zoomText:"Zoom",panText:"Pan",resetText:"Reset",menuText:"More Options",saveJPGText:"Save as JPEG",savePNGText:"Save as PNG",printText:"Print",days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")}},Re={en:{}},L=Y?"Trebuchet MS, Helvetica, sans-serif":"Arial",Q=Y?"Impact, Charcoal, sans-serif":"Arial",re={colorSet1:"#4F81BC #C0504E #9BBB58 #23BFAA #8064A1 #4AACC5 #F79647 #7F6084 #77A033 #33558B #E59566".split(" "),colorSet2:"#6D78AD #51CDA0 #DF7970 #4C9CA0 #AE7D99 #C9D45C #5592AD #DF874D #52BCA8 #8E7AA3 #E3CB64 #C77B85 #C39762 #8DD17E #B57952 #FCC26C".split(" "),colorSet3:"#8CA1BC #36845C #017E82 #8CB9D0 #708C98 #94838D #F08891 #0366A7 #008276 #EE7757 #E5BA3A #F2990B #03557B #782970".split(" ")},Qt={colorSet:"colorSet1",backgroundColor:"#FFFFFF",title:{fontFamily:Q,fontSize:32,fontColor:fe="#333333",fontWeight:"normal",verticalAlign:"top",margin:5},subtitles:[{fontFamily:Q,fontSize:Te=14,fontColor:fe,fontWeight:"normal",verticalAlign:"top",margin:5}],data:[{indexLabelFontFamily:L,indexLabelFontSize:Te,indexLabelFontColor:fe,indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:L,titleFontSize:Qe=20,titleFontColor:fe,titleFontWeight:"normal",labelFontFamily:L,labelFontSize:Te,labelFontColor:me="#000000",labelFontWeight:"normal",lineThickness:1,lineColor:te="#666666",tickThickness:1,tickColor:te,gridThickness:0,gridColor:te,stripLines:[{labelFontFamily:L,labelFontSize:Te,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:L,labelFontSize:Te,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:ft=He="#000000",color:He,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisX2:[{titleFontFamily:L,titleFontSize:Qe,titleFontColor:fe,titleFontWeight:"normal",labelFontFamily:L,labelFontSize:Te,labelFontColor:me,labelFontWeight:"normal",lineThickness:1,lineColor:te,tickThickness:1,tickColor:te,gridThickness:0,gridColor:te,stripLines:[{labelFontFamily:L,labelFontSize:Te,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:L,labelFontSize:Te,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:ft,color:He,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisY:[{titleFontFamily:L,titleFontSize:Qe,titleFontColor:fe,titleFontWeight:"normal",labelFontFamily:L,labelFontSize:Te,labelFontColor:me,labelFontWeight:"normal",lineThickness:1,lineColor:te,tickThickness:1,tickColor:te,gridThickness:1,gridColor:te,stripLines:[{labelFontFamily:L,labelFontSize:Te,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:L,labelFontSize:Te,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:ft,color:He,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisY2:[{titleFontFamily:L,titleFontSize:Qe,titleFontColor:fe,titleFontWeight:"normal",labelFontFamily:L,labelFontSize:Te,labelFontColor:me,labelFontWeight:"normal",lineThickness:1,lineColor:te,tickThickness:1,tickColor:te,gridThickness:1,gridColor:te,stripLines:[{labelFontFamily:L,labelFontSize:Te,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:L,labelFontSize:Te,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:ft,color:He,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],legend:{fontFamily:L,fontSize:14,fontColor:fe,fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:L,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1},toolbar:{itemBackgroundColor:"white",itemBackgroundColorOnHover:"#2196f3",buttonBorderColor:"#2196f3",buttonBorderThickness:1,fontColor:"black",fontColorOnHover:"white"}};me=fe="#F5F5F5",te="#FFFFFF",He="#40BAF1",ft="#F5F5F5";var lt={colorSet:"colorSet2",title:{fontFamily:L,fontSize:33,fontColor:"#3A3A3A",fontWeight:"bold",verticalAlign:"top",margin:5},subtitles:[{fontFamily:L,fontSize:Te=14,fontColor:"#3A3A3A",fontWeight:"normal",verticalAlign:"top",margin:5}],data:[{indexLabelFontFamily:L,indexLabelFontSize:Te,indexLabelFontColor:"#666666",indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:L,titleFontSize:Qe=20,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:L,labelFontSize:Te,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:1,lineColor:"#BBBBBB",tickThickness:1,tickColor:"#BBBBBB",gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:L,labelFontSize:Te,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:L,labelFontSize:Te,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisX2:[{titleFontFamily:L,titleFontSize:Qe,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:L,labelFontSize:Te,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:1,lineColor:"#BBBBBB",tickColor:"#BBBBBB",tickThickness:1,gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:L,labelFontSize:Te,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:L,labelFontSize:Te,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisY:[{titleFontFamily:L,titleFontSize:Qe,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:L,labelFontSize:Te,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:0,lineColor:"#BBBBBB",tickColor:"#BBBBBB",tickThickness:1,gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:L,labelFontSize:Te,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:L,labelFontSize:Te,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisY2:[{titleFontFamily:L,titleFontSize:Qe,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:L,labelFontSize:Te,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:0,lineColor:"#BBBBBB",tickColor:"#BBBBBB",tickThickness:1,gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:L,labelFontSize:Te,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:L,labelFontSize:Te,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],legend:{fontFamily:L,fontSize:14,fontColor:"#3A3A3A",fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:L,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1},toolbar:{itemBackgroundColor:"white",itemBackgroundColorOnHover:"#2196f3",buttonBorderColor:"#2196f3",buttonBorderThickness:1,fontColor:"black",fontColorOnHover:"white"}};me=fe="#F5F5F5",Q={colorSet:"colorSet12",backgroundColor:"#2A2A2A",title:{fontFamily:Q,fontSize:32,fontColor:fe,fontWeight:"normal",verticalAlign:"top",margin:5},subtitles:[{fontFamily:Q,fontSize:Te=14,fontColor:fe,fontWeight:"normal",verticalAlign:"top",margin:5}],toolbar:{itemBackgroundColor:"#666666",itemBackgroundColorOnHover:"#FF7372",buttonBorderColor:"#FF7372",buttonBorderThickness:1,fontColor:"#F5F5F5",fontColorOnHover:"#F5F5F5"},data:[{indexLabelFontFamily:L,indexLabelFontSize:Te,indexLabelFontColor:me,indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:L,titleFontSize:Qe=20,titleFontColor:me,titleFontWeight:"normal",labelFontFamily:L,labelFontSize:Te,labelFontColor:me,labelFontWeight:"normal",lineThickness:1,lineColor:te="#FFFFFF",tickThickness:1,tickColor:te,gridThickness:0,gridColor:te,stripLines:[{labelFontFamily:L,labelFontSize:Te,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:L,labelFontSize:Te,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:ft="#F5F5F5",color:He="#40BAF1",thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisX2:[{titleFontFamily:L,titleFontSize:Qe,titleFontColor:me,titleFontWeight:"normal",labelFontFamily:L,labelFontSize:Te,labelFontColor:me,labelFontWeight:"normal",lineThickness:1,lineColor:te,tickThickness:1,tickColor:te,gridThickness:0,gridColor:te,stripLines:[{labelFontFamily:L,labelFontSize:Te,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:L,labelFontSize:Te,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:ft,color:He,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY:[{titleFontFamily:L,titleFontSize:Qe,titleFontColor:me,titleFontWeight:"normal",labelFontFamily:L,labelFontSize:Te,labelFontColor:me,labelFontWeight:"normal",lineThickness:1,lineColor:te,tickThickness:1,tickColor:te,gridThickness:1,gridColor:te,stripLines:[{labelFontFamily:L,labelFontSize:Te,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:L,labelFontSize:Te,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:ft,color:He,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY2:[{titleFontFamily:L,titleFontSize:Qe,titleFontColor:me,titleFontWeight:"normal",labelFontFamily:L,labelFontSize:Te,labelFontColor:me,labelFontWeight:"normal",lineThickness:1,lineColor:te,tickThickness:1,tickColor:te,gridThickness:1,gridColor:te,stripLines:[{labelFontFamily:L,labelFontSize:Te,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:L,labelFontSize:Te,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:ft,color:He,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],legend:{fontFamily:L,fontSize:14,fontColor:fe,fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:L,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1,fontColor:me,backgroundColor:"rgba(0, 0, 0, .7)"}},me=fe="#FAFAFA";var Qe,Te,S,k,B,ie,ge,_e,se,jt={light1:Qt,light2:lt,dark1:Q,dark2:{colorSet:"colorSet2",backgroundColor:"#32373A",title:{fontFamily:L,fontSize:32,fontColor:fe,fontWeight:"normal",verticalAlign:"top",margin:5},subtitles:[{fontFamily:L,fontSize:Te=14,fontColor:fe,fontWeight:"normal",verticalAlign:"top",margin:5}],toolbar:{itemBackgroundColor:"#666666",itemBackgroundColorOnHover:"#FF7372",buttonBorderColor:"#FF7372",buttonBorderThickness:1,fontColor:"#F5F5F5",fontColorOnHover:"#F5F5F5"},data:[{indexLabelFontFamily:L,indexLabelFontSize:Te,indexLabelFontColor:me,indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:L,titleFontSize:Qe=20,titleFontColor:me,titleFontWeight:"normal",labelFontFamily:L,labelFontSize:Te,labelFontColor:me,labelFontWeight:"normal",lineThickness:1,lineColor:te="#FFFFFF",tickThickness:1,tickColor:te,gridThickness:0,gridColor:te,stripLines:[{labelFontFamily:L,labelFontSize:Te,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:L,labelFontSize:Te,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:ft="#F5F5F5",color:He="#40BAF1",thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisX2:[{titleFontFamily:L,titleFontSize:Qe,titleFontColor:me,titleFontWeight:"normal",labelFontFamily:L,labelFontSize:Te,labelFontColor:me,labelFontWeight:"normal",lineThickness:1,lineColor:te,tickThickness:1,tickColor:te,gridThickness:0,gridColor:te,stripLines:[{labelFontFamily:L,labelFontSize:Te,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:L,labelFontSize:Te,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:ft,color:He,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY:[{titleFontFamily:L,titleFontSize:Qe,titleFontColor:me,titleFontWeight:"normal",labelFontFamily:L,labelFontSize:Te,labelFontColor:me,labelFontWeight:"normal",lineThickness:0,lineColor:te,tickThickness:1,tickColor:te,gridThickness:1,gridColor:te,stripLines:[{labelFontFamily:L,labelFontSize:Te,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:L,labelFontSize:Te,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:ft,color:He,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY2:[{titleFontFamily:L,titleFontSize:Qe,titleFontColor:me,titleFontWeight:"normal",labelFontFamily:L,labelFontSize:Te,labelFontColor:me,labelFontWeight:"normal",lineThickness:0,lineColor:te,tickThickness:1,tickColor:te,gridThickness:1,gridColor:te,stripLines:[{labelFontFamily:L,labelFontSize:Te,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:L,labelFontSize:Te,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:ft,color:He,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],legend:{fontFamily:L,fontSize:14,fontColor:fe,fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:L,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1,fontColor:me,backgroundColor:"rgba(0, 0, 0, .7)"}},theme1:Qt,theme2:lt,theme3:Qt},Je={numberDuration:1,yearDuration:314496e5,monthDuration:2592e6,weekDuration:6048e5,dayDuration:864e5,hourDuration:36e5,minuteDuration:6e4,secondDuration:1e3,millisecondDuration:1,dayOfWeekFromInt:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" ")},ss=function(){var S=!1;try{var k=Object.defineProperty&&Object.defineProperty({},"passive",{get:function(){return S=!0,!1}});window.addEventListener&&(window.addEventListener("test",null,k),window.removeEventListener("test",null,k))}catch(B){S=!1}return S}(),Wn={},Ni=null,rl=function(){this.ctx.clearRect(0,0,this.width,this.height),this.backgroundColor&&(this.ctx.fillStyle=this.backgroundColor,this.ctx.fillRect(0,0,this.width,this.height))},Ts=function(S){S.width=1,S.height=1,S.getContext("2d")&&S.getContext("2d").clearRect(0,0,1,1)},wf=function(S,k,B){return k=Math.min(this.width,this.height),Math.max("theme4"===this.theme?0:300<=k?12:11,Math.round(k*(S/400)))},Ki=(S=/D{1,4}|M{1,4}|Y{1,4}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|f{1,3}|t{1,2}|T{1,2}|K|z{1,3}|"[^"]*"|'[^']*'/g,k="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),B="Sun Mon Tue Wed Thu Fri Sat".split(" "),ie="January February March April May June July August September October November December".split(" "),ge="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),_e=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,se=/[^-+\dA-Z]/g,function(tt,st,Ye){var wi=Ye?Ye.days:k,Ut=Ye?Ye.months:ie,oi=Ye?Ye.shortDays:B,_t=Ye?Ye.shortMonths:ge;Ye="";var Vi=!1;if(tt=tt&&tt.getTime?tt:tt?new Date(tt):new Date,isNaN(tt))throw SyntaxError("invalid date");"UTC:"===st.slice(0,4)&&(st=st.slice(4),Vi=!0);var Mi=tt[(Ye=Vi?"getUTC":"get")+"Date"](),Se=tt[Ye+"Day"](),Lt=tt[Ye+"Month"](),r=tt[Ye+"FullYear"](),u=tt[Ye+"Hours"](),l=tt[Ye+"Minutes"](),o=tt[Ye+"Seconds"](),h=tt[Ye+"Milliseconds"](),p=Vi?0:tt.getTimezoneOffset();return st.replace(S,function(m){switch(m){case"D":return Mi;case"DD":return Ft(Mi,2);case"DDD":return oi[Se];case"DDDD":return wi[Se];case"M":return Lt+1;case"MM":return Ft(Lt+1,2);case"MMM":return _t[Lt];case"MMMM":return Ut[Lt];case"Y":return parseInt(String(r).slice(-2));case"YY":return Ft(String(r).slice(-2),2);case"YYY":return Ft(String(r).slice(-3),3);case"YYYY":return Ft(r,4);case"h":return u%12||12;case"hh":return Ft(u%12||12,2);case"H":return u;case"HH":return Ft(u,2);case"m":return l;case"mm":return Ft(l,2);case"s":return o;case"ss":return Ft(o,2);case"f":return Ft(String(h),3).slice(0,1);case"ff":return Ft(String(h),3).slice(0,2);case"fff":return Ft(String(h),3).slice(0,3);case"t":return 12>u?"a":"p";case"tt":return 12>u?"am":"pm";case"T":return 12>u?"A":"P";case"TT":return 12>u?"AM":"PM";case"K":return Vi?"UTC":(String(tt).match(_e)||[""]).pop().replace(se,"");case"z":return(0<p?"-":"+")+Math.floor(Math.abs(p)/60);case"zz":return(0<p?"-":"+")+Ft(Math.floor(Math.abs(p)/60),2);case"zzz":return(0<p?"-":"+")+Ft(Math.floor(Math.abs(p)/60),2)+Ft(Math.abs(p)%60,2);default:return m.slice(1,m.length-1)}})}),ei=function(S,k,B){if(null===S)return"";if(!isFinite(S))return S;var ie=0>(S=Number(S));ie&&(S*=-1);var ge=B?B.decimalSeparator:".",_e=B?B.digitGroupSeparator:",",se="";k=String(k),se=1;var Mi=B="",tt=-1,st=[],Ye=[],wi=0,Ut=0,oi=0,_t=!1,Vi=0;Mi=k.match(/"[^"]*"|'[^']*'|[eE][+-]*[0]+|[,]+[.]|\u2030|./g),k=null;for(var Se=0;Mi&&Se<Mi.length;Se++)if("."===(k=Mi[Se])&&0>tt)tt=Se;else{if("%"===k)se*=100;else{if("\u2030"===k){se*=1e3;continue}if(","===k[0]&&"."===k[k.length-1]){se/=Math.pow(1e3,k.length-1),tt=Se+k.length-1;continue}"E"!==k[0]&&"e"!==k[0]||"0"!==k[k.length-1]||(_t=!0)}0>tt?(st.push(k),"#"===k||"0"===k?wi++:","===k&&oi++):(Ye.push(k),"#"!==k&&"0"!==k||Ut++)}for(_t&&(k=Math.floor(S),Mi=-Math.floor(Math.log(S)/Math.LN10+1),Vi=0===S?0:0===k?-(wi+Mi):String(k).length-wi,se/=Math.pow(10,Vi)),0>tt&&(tt=Se),k=(se=(S*se).toFixed(Ut)).split("."),se=(k[0]+"").split(""),S=(k[1]+"").split(""),se&&"0"===se[0]&&se.shift(),_t=Mi=Se=Ut=tt=0;0<st.length;)if("#"===(k=st.pop())||"0"===k)if(++tt===wi){var Lt=se;if(se=[],"0"===k)for(k=wi-Ut-(Lt?Lt.length:0);0<k;)Lt.unshift("0"),k--;for(;0<Lt.length;)B=Lt.pop()+B,++_t%Mi==0&&Se===oi&&0<Lt.length&&(B=_e+B)}else 0<se.length?(B=se.pop()+B,Ut++,_t++):"0"===k&&(B="0"+B,Ut++,_t++),_t%Mi==0&&Se===oi&&0<se.length&&(B=_e+B);else"E"!==k[0]&&"e"!==k[0]||"0"!==k[k.length-1]||!/[eE][+-]*[0]+/.test(k)?","===k?(Se++,Mi=_t,_t=0,0<se.length&&(B=_e+B)):B=1<k.length&&('"'===k[0]&&'"'===k[k.length-1]||"'"===k[0]&&"'"===k[k.length-1])?k.slice(1,k.length-1)+B:k+B:B+=(k=0>Vi?k.replace("+","").replace("-",""):k.replace("-","")).replace(/[0]+/,function(r){return Ft(Vi,r.length)});for(_e="",st=!1;0<Ye.length;)"#"===(k=Ye.shift())||"0"===k?0<S.length&&0!==Number(S.join(""))?(_e+=S.shift(),st=!0):"0"===k&&(_e+="0",st=!0):1<k.length&&('"'===k[0]&&'"'===k[k.length-1]||"'"===k[0]&&"'"===k[k.length-1])?_e+=k.slice(1,k.length-1):"E"!==k[0]&&"e"!==k[0]||"0"!==k[k.length-1]||!/[eE][+-]*[0]+/.test(k)?_e+=k:_e+=(k=0>Vi?k.replace("+","").replace("-",""):k.replace("-","")).replace(/[0]+/,function(r){return Ft(Vi,r.length)});return B+=(st?ge:"")+_e,ie?"-"+B:B},jo=function(S){var k=0,B=0;return(S=S||window.event).offsetX||0===S.offsetX?(k=S.offsetX,B=S.offsetY):S.layerX||0==S.layerX?(k=S.layerX,B=S.layerY):(k=S.pageX-S.target.offsetLeft,B=S.pageY-S.target.offsetTop),{x:k,y:B}},ol=!0,al=window.devicePixelRatio||1,Fr=1,mi=ol?al/Fr:1,$t=function(S,k,B,ie,ge,_e,se,tt,st,Ye,wi,Ut,oi){void 0===oi&&(oi=1),se=se||0,tt=tt||"black";var _t=15<ie-k&&15<ge-B?8:.35*Math.min(ie-k,ge-B);S.beginPath(),S.moveTo(k,B),S.save(),S.fillStyle=_e,S.globalAlpha=oi,S.fillRect(k,B,ie-k,ge-B),S.globalAlpha=1,0<se&&(oi=se%2==0?0:.5,S.beginPath(),S.lineWidth=se,S.strokeStyle=tt,S.moveTo(k,B),S.rect(k-oi,B-oi,ie-k+2*oi,ge-B+2*oi),S.stroke()),S.restore(),!0===st&&(S.save(),S.beginPath(),S.moveTo(k,B),S.lineTo(k+_t,B+_t),S.lineTo(ie-_t,B+_t),S.lineTo(ie,B),S.closePath(),(se=S.createLinearGradient((ie+k)/2,B+_t,(ie+k)/2,B)).addColorStop(0,_e),se.addColorStop(1,"rgba(255, 255, 255, .4)"),S.fillStyle=se,S.fill(),S.restore()),!0===Ye&&(S.save(),S.beginPath(),S.moveTo(k,ge),S.lineTo(k+_t,ge-_t),S.lineTo(ie-_t,ge-_t),S.lineTo(ie,ge),S.closePath(),(se=S.createLinearGradient((ie+k)/2,ge-_t,(ie+k)/2,ge)).addColorStop(0,_e),se.addColorStop(1,"rgba(255, 255, 255, .4)"),S.fillStyle=se,S.fill(),S.restore()),!0===wi&&(S.save(),S.beginPath(),S.moveTo(k,B),S.lineTo(k+_t,B+_t),S.lineTo(k+_t,ge-_t),S.lineTo(k,ge),S.closePath(),(se=S.createLinearGradient(k+_t,(ge+B)/2,k,(ge+B)/2)).addColorStop(0,_e),se.addColorStop(1,"rgba(255, 255, 255, 0.1)"),S.fillStyle=se,S.fill(),S.restore()),!0===Ut&&(S.save(),S.beginPath(),S.moveTo(ie,B),S.lineTo(ie-_t,B+_t),S.lineTo(ie-_t,ge-_t),S.lineTo(ie,ge),(se=S.createLinearGradient(ie-_t,(ge+B)/2,ie,(ge+B)/2)).addColorStop(0,_e),se.addColorStop(1,"rgba(255, 255, 255, 0.1)"),S.fillStyle=se,se.addColorStop(0,_e),se.addColorStop(1,"rgba(255, 255, 255, 0.1)"),S.fillStyle=se,S.fill(),S.closePath(),S.restore())},Wi=function(S){for(var k="",B=0;B<S.length;B++)k+=String.fromCharCode(Math.ceil(S.length/57/5)^S.charCodeAt(B));return k},au=window&&window[Wi("mnb`uhno")]&&window[Wi("mnb`uhno")].href&&window[Wi("mnb`uhno")].href.indexOf&&(-1!==window[Wi("mnb`uhno")].href.indexOf(Wi("b`ow`rkr/bnl"))||-1!==window[Wi("mnb`uhno")].href.indexOf(Wi("gdonqhy/bnl"))||-1!==window[Wi("mnb`uhno")].href.indexOf(Wi("gheemd"))),Mf=au&&-1===window[Wi("mnb`uhno")].href.indexOf(Wi("gheemd")),ll={reset:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAeCAYAAABJ/8wUAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAPjSURBVFhHxVdJaFNRFP1J/jwkP5MxsbaC1WJEglSxOFAXIsFpVRE3ggi1K90obioRRBA33XXnQnciirhQcMCdorgQxBkXWlREkFKsWkv5npvckp/XnzRpKh64kLw733fffe9L/wrL0+mVUdO8uTSZ3MBL/we2qg4rkuSpodCELstXE46ziVkLQ6FQcGOmeSSq6wd4aV50d3drWjj8kQKZJTUc9kxFGenv79dZrDksTSTWWJp2QYtEPiErysyzdX0LsxsCQR8keX8gs6RHIk8ysdgKFg2G53mhuOPsshTlBjKaFo1g7SqLNoShKLdFXT8huQ/paLSbxatYnc2mHMM4hr18Vi8TIvCmXF3vYrW6cF23gGTOk0M1wA4RKvOmq6vLZRVJipvmSWT6tZ6CSEYkco5V50VPT4+D7RwOqi6RiSZm0fJ+vggSqkeoypdsNmuyelNwbXsbgvkWYMtzDWNvWaijoyOBqE+hVK8abcssUeXQ/YfKyi0gFYv1Ipgfoj34fYGTJLOYJA0ODirok32GLN8XhUWCwSes1hIwBg6LydJ/tEeRRapAdUp+wSAiZchtZZWWgAZ+JNpD8peYXQVK9UwUxNpzOK8pq97kURZhYTCKBwPD7h2zK+js7Myi7D8Fod+0TkMI8+EMAngLGc/WtBFWawkFHFnoj/t9KLgGmF0B3QfkxC+EarxkdhnFYlFLY06USqUwL7UMjICHfh/wOc2sCqhpxGbCkLvL7EUDbF73+6DkmVWB6zi7xUDQSLeYvWjAILvm9zEnkJhlbRcDQZcv6Kg2AipyT/Axw6wKlqVSqxDdjF8Izfod13qURdrG/nxehY+xGh+h0CSzKygGvSNQIcc097BI24jb9hax6kj2E7OrMFX1il+ICEf2NrPbhiXLl+fYl+U7zK4iYdsDcyLGf+ofFlkwcN+s10KhmpuYhhtm0hCLVIFL0MDsqNlDIqy9x2CLs1jL6OvrI7vPRbtohXG6eFmsFnHDGAp6n9AgyuVySRZrGvROxRgIfLXhzjrNYnNBUxNX/dMgRWT1mt4XLDovaApD53E9W3ilNX5M55LJHpRtIsgAvciR4WWcgK2Dvb1YqgXevmF8z2zEBTcKG39EfSKsT9EbhVUaI2FZO+oZIqImxol6j66/hcAu4sSN4vc1ZPoKeoE6RGhYL2YYA+ymOSSi0Z0wWntbtkGUWCvfSDXIxONraZ/FY90KUfNTpfC5spnNLgxoYNnR9RO4F8ofXEHOgogCQE99w+fF2Xw+b7O59rEOsyRqGEfpVoaDMQQ1CZrG46bcM6AZ0C/wPqNfHliqejyTySxh9TqQpL+xmbIlkB9SlAAAAABJRU5ErkJggg=="},pan:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAICSURBVEhLxZbPahNRGMUn/5MpuAiBEAIufQGfzr5E40YptBXajYzudCEuGqS+gGlrFwquDGRTutBdYfydzJ3LzeQmJGZue+Dw/Z17Mnfmu5Pof9Hr9Z61Wq0bWZMKj263O6xWq99wU9lOpzPMKgEhEcRucNOcioOK+0RzBhNvt9tPV4nmVF19+OWhVqt9xXgFXZq+8lCv119UKpUJ7iX2FmvFTKz8RH34YdBsNk8wVtjE4fGYwm8wrrDi3WBG5oKXZGRSS9hGuNFojLTe2lFz5xThWZIktayyiE2FdT3rzXBXz7krKiL8c17wAKFDjCus2AvW+YGZ9y2JF0VFRuMPfI//rsCE/C+s26s4gQu9ul7r4NteKx7H8XOC724xNNGbaNu++IrBqbOV7Tj3FgMRvc/YKOr3+3sE47wgEt/Bl/gaK5cHbNU11vYSXylfpK7XOvjuumPp4Wcoipu30Qsez2uMXYz4lfI+mOmwothY+SLiXJy7mKVpWs3Si0CoOMfeI9Od43Wic+jO+ZVv+crsm9QSNhUW9LXSeoPBYLXopthGuFQgdIxxhY+UDwlt1x5CZ1hX+NTUdt/OIvjKaDSmuOJfaIVNPKX+W18j/PLA2/kR44p5Sd8HbHngT/yTfNRWUXX14ZcL3wmX0+TLf8YO7CGT8yFE5zB3/gney25/OETRP9CtPDFe5jShAAAAAElFTkSuQmCC"},zoom:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAALWSURBVEhLvZZLaBNRFIabyftBIgEfqCCBoCC6MYqiXYiIj4U76U4X7sUHbhQhUBfixhZEUBDB16YuFERaUaQLK7ooCOJj4UKtYEFU0EptShO/A9Ph3js3k8lo/eHnP7n3nP/M3LlzMz1hkUwmNziOcyKRSFyFt+LxeD/c2Wq1Ym7Kv0M2m11Os1OxWGycn1OwZXCGuXfwIhezkd9/jRgNT2L4ldhs1pbkX5OLJe4euVxuGQaPCa3mnUjtJx7BDuKusJTCV6jVVGHTMuYRjxma7yIOhTgFY6jNaAKew2xPKpVay9ganmkvj+M448/MfJdT5K5Gg4HJacRngPFgqVRaRNwW1B4i7yehWfsEDdz1K+A01AoxPIqGAiuwGfkOTY8+1A6u7AyiFTB2Hu0KPIrdiOnzHLWDybeImvy+Wq2mZa5bUHsD0Zpz+KxHdWQymV6kAb1ElqeORgJLvgnRdj1+R1AfzkIvSUjxVjQSarVakrueIPT8+H1F5jSUy+WXiJrUYBVWyVxU4PEU8TzhfaijUqnMIWrjaY492eWRwdKOIqrnIxnXwLLeRLwk2GQzrEMjg0avEbXxkIxr4OoOImpj2QwyFgms1koa/SZUG8s+0iGnEhNfCNXEhzIXBVz0McTzEvJ+70P9oNFtxEzei3aFYrFYxmuSUPWSv9Yi9IMm2xE1We56Mp1OV4nDwqFmBDV9gk9AEh4gZtFHNt8W4kAUCoXF5MorY9Z/kDni9nDv7hc0i2fhgLvTtX8a99PoMPPagTFPxofRzmDJ9yM+AyEmTfgGysYbQcfhDzPPJDmX0c7gDg4gs9BqFIWhm/Nct5H8gtBq1I7UfIbtvmIuoaGQcp+fdpbbSM43eEH5wrwLbXmhm/fU63VHXjcuok7hEByFY/AeHGC8L5/PL3HT5xGH1uYwfPOICGo+CBcU0vwO1BqzUqILDl/z/9VYIMfpddiAc47jDP8BsUpb13wOLRwAAAAASUVORK5CYII="},menu:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAeCAYAAABE4bxTAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAADoSURBVFhH7dc9CsJAFATgRxIIBCwCqZKATX5sbawsY2MvWOtF9AB6AU8gguAJbD2AnZ2VXQT/Ko2TYGCL2OYtYQc+BuYA+1hCtnCVwMm27SGaXpDJIAiCvCkVR05hGOZNN3HkFMdx3nQRR06+76/R1IcFLJlNQEWlmWlBTwJtKLKHynehZqnjOGM0PYWRVXk61C37p7xlZ3Hk5HneCk1dmMH811xGoKLSzDiQwIBZB4ocoPJdqNkDt2yKlueWRVGUtzy3rPwo3sWRU3nLjuLI6OO67oZM00wMw3hrmpZx0XU9syxrR0T0BeMpb9dneSR2AAAAAElFTkSuQmCC"}};St.fSDec=function(S){for(var k="",B=0;B<S.length;B++)k+=String.fromCharCode(Math.ceil(S.length/57/5)^S.charCodeAt(B));return k},delete Gi[St.fSDec("Bi`su")][St.fSDec("bsdehuIsdg")],St.pro={sCH:Gi[St.fSDec("Bi`su")][St.fSDec("bsdehuIsdg")]},St.pos=["cm","cs","um"],St._fTWm=function(S){if(void 0===St.pro.sCH&&!au)try{var B,ie,k=(new Date).getMonth()%3,ge=S[St.fSDec("buy")];ge[St.fSDec("udyuC`rdmhod")]=St.fSDec("unq"),ge[St.fSDec("gnou")]=11+St.fSDec("qy!B`mhcsh-!Mtbhe`!Fs`oed-!Mtbhe`!R`or!Tohbned-!@sh`m-!r`or,rdshg"),ge[St.fSDec("ghmmRuxmd")]=St.fSDec("fsdx"),B="cm"===St.pos[k]||"um"===St.pos[k]?0:S.width-ge[St.fSDec("ld`rtsdUdyu")](St.fSDec("B`ow`rKR!Ush`m")).width,ie="um"===St.pos[k]?0:S.height-11,ge[St.fSDec("ghmmUdyu")](St.fSDec("B`ow`rKR!Ush`m"),B,ie),"cs"===St.pos[k]&&(S[St.fSDec("^bsdehuMhoj")].style.right=St.fSDec("`tun"))}catch(_e){}},Ot.prototype.setOptions=function(S,k){if(Gi[this._defaultsKey]){var ie,B=Gi[this._defaultsKey];for(ie in B)"publicProperties"!==ie&&B.hasOwnProperty(ie)&&(this[ie]=S&&ie in S?S[ie]:k&&ie in k?k[ie]:B[ie])}else Ms&&window.console&&console.log("defaults not set")},Ot.prototype.get=function(S){var k=Gi[this._defaultsKey];return"options"===S?this.options&&this.options._isPlaceholder?null:this.options:k.hasOwnProperty(S)||k.publicProperties&&k.publicProperties.hasOwnProperty(S)?this[S]:void(window.console&&window.console.log('Property "'+S+"\" doesn't exist. Please check for typo."))},Ot.prototype.set=function(S,k,B){B=void 0===B||B;var ie=Gi[this._defaultsKey];if("options"===S)this.createUserOptions(k);else{if(!(ie.hasOwnProperty(S)||ie.publicProperties&&ie.publicProperties.hasOwnProperty(S)&&"readWrite"===ie.publicProperties[S]))return void(window.console&&(ie.publicProperties&&ie.publicProperties.hasOwnProperty(S)&&"readOnly"===ie.publicProperties[S]?window.console.log('Property "'+S+'" is read-only.'):window.console.log('Property "'+S+"\" doesn't exist. Please check for typo.")));this.options._isPlaceholder&&this.createUserOptions(),this.options[S]=k}B&&(this.stockChart||this.chart||this).render()},Ot.prototype.addTo=function(S,k,B,ie){ie=void 0===ie||ie;var ge=Gi[this._defaultsKey];ge.hasOwnProperty(S)||ge.publicProperties&&ge.publicProperties.hasOwnProperty(S)&&"readWrite"===ge.publicProperties[S]?(this.options._isPlaceholder&&this.createUserOptions(),void 0===this.options[S]&&(this.options[S]=[]),(S=this.options[S]).splice(B=null==B?S.length:B,0,k),ie&&(this.stockChart||this.chart||this).render()):window.console&&(ge.publicProperties&&ge.publicProperties.hasOwnProperty(S)&&"readOnly"===ge.publicProperties[S]?window.console.log('Property "'+S+'" is read-only.'):window.console.log('Property "'+S+"\" doesn't exist. Please check for typo."))},Ot.prototype.createUserOptions=function(S){if(void 0!==S||this.options._isPlaceholder)if(this.parent.options._isPlaceholder&&this.parent.createUserOptions(),this.isOptionsInArray){this.parent.options[this.optionsName]||(this.parent.options[this.optionsName]=[]);var k=this.parent.options[this.optionsName],B=k.length;this.options._isPlaceholder||(cn(k),B=k.indexOf(this.options)),this.options=void 0===S?{}:S,k[B]=this.options}else this.options=void 0===S?{}:S,S=this.parent.options,this.optionsName?k=this.optionsName:(k=this._defaultsKey)&&0!==k.length?(B=k.charAt(0).toLowerCase(),1<k.length&&(B=B.concat(k.slice(1))),k=B):k=void 0,S[k]=this.options},Ot.prototype.remove=function(S){if(S=void 0===S||S,this.isOptionsInArray){var k=this.parent.options[this.optionsName];cn(k);var B=k.indexOf(this.options);0<=B&&k.splice(B,1)}else delete this.parent.options[this.optionsName];S&&(this.stockChart||this.chart||this).render()},Ot.prototype.updateOption=function(S){!Gi[this._defaultsKey]&&Ms&&window.console&&console.log("defaults not set");var k=Gi[this._defaultsKey],B={},ie=this[S],ge=this._themeOptionsKey,_e=this._index;return this.theme&&j(this.parent)&&j(ge)&&j(_e)?B=j(this.predefinedThemes[this.theme])?this.predefinedThemes.light1:this.predefinedThemes[this.theme]:this.parent&&this.parent.themeOptions&&this.parent.themeOptions[ge]&&(null===_e?B=this.parent.themeOptions[ge]:0<this.parent.themeOptions[ge].length&&(B=Math.min(this.parent.themeOptions[ge].length-1,_e),B=this.parent.themeOptions[ge][B])),this.themeOptions=B,S in k&&(ie=S in this.options?this.options[S]:B&&S in B?B[S]:k[S]),ie!==this[S]&&(this[S]=ie,!0)},Ot.prototype.trackChanges=function(S){if(!this.sessionVariables)throw"Session Variable Store not set";this.sessionVariables[S]=this.options[S]},Ot.prototype.isBeingTracked=function(S){return this.options._oldOptions||(this.options._oldOptions={}),!!this.options._oldOptions[S]},Ot.prototype.hasOptionChanged=function(S){if(!this.sessionVariables)throw"Session Variable Store not set";return this.sessionVariables[S]!==this.options[S]},Ot.prototype.addEventListener=function(S,k,B){S&&k&&(this._eventListeners[S]=this._eventListeners[S]||[],this._eventListeners[S].push({context:B||this,eventHandler:k}))},Ot.prototype.removeEventListener=function(S,k){if(S&&k&&this._eventListeners[S])for(var B=this._eventListeners[S],ie=0;ie<B.length;ie++)if(B[ie].eventHandler===k){B[ie].splice(ie,1);break}},Ot.prototype.removeAllEventListeners=function(){this._eventListeners=[]},Ot.prototype.dispatchEvent=function(S,k,B){if(S&&this._eventListeners[S]){k=k||{};for(var ie=this._eventListeners[S],ge=0;ge<ie.length;ge++)ie[ge].eventHandler.call(ie[ge].context,k)}"function"==typeof this[S]&&this[S].call(B||this.chart,k)},wn.prototype.registerSpace=function(S,k){"top"===S?this._topOccupied+=k.height:"bottom"===S?this._bottomOccupied+=k.height:"left"===S?this._leftOccupied+=k.width:"right"===S&&(this._rightOccupied+=k.width)},wn.prototype.unRegisterSpace=function(S,k){"top"===S?this._topOccupied-=k.height:"bottom"===S?this._bottomOccupied-=k.height:"left"===S?this._leftOccupied-=k.width:"right"===S&&(this._rightOccupied-=k.width)},wn.prototype.getFreeSpace=function(){return{x1:this._x1+this._leftOccupied,y1:this._y1+this._topOccupied,x2:this._x2-this._rightOccupied,y2:this._y2-this._bottomOccupied,width:this._x2-this._x1-this._rightOccupied-this._leftOccupied,height:this._y2-this._y1-this._bottomOccupied-this._topOccupied}},wn.prototype.reset=function(){this._rightOccupied=this._leftOccupied=this._bottomOccupied=this._topOccupied=this._padding},fi(Ze,Ot),Ze.prototype._initialize=function(){j(this.padding)||"object"!=typeof this.padding?this.topPadding=this.rightPadding=this.bottomPadding=this.leftPadding=0|Number(this.padding):(this.topPadding=j(this.padding.top)?0:0|Number(this.padding.top),this.rightPadding=j(this.padding.right)?0:0|Number(this.padding.right),this.bottomPadding=j(this.padding.bottom)?0:0|Number(this.padding.bottom),this.leftPadding=j(this.padding.left)?0:0|Number(this.padding.left))},Ze.prototype.render=function(S){if(0!==this.fontSize){S&&this.ctx.save();var k=this.ctx.font;this.ctx.textBaseline=this.textBaseline;var B=0;this._isDirty&&this.measureText(this.ctx),this.ctx.translate(this.x,this.y+B),"middle"===this.textBaseline&&(B=-this._lineHeight/2),this.ctx.font=this._getFontString(),this.ctx.rotate(Math.PI/180*this.angle);var ie=0,ge=this.topPadding,_e=null;for(this.ctx.roundRect||Bn(this.ctx),(0<this.borderThickness&&this.borderColor||this.backgroundColor)&&this.ctx.roundRect(0,B,this.width,this.height,this.cornerRadius,this.borderThickness,this.backgroundColor,this.borderColor),this.ctx.fillStyle=this.fontColor,B=0;B<this._wrappedText.lines.length;B++)_e=this._wrappedText.lines[B],"right"===this.horizontalAlign||"right"===this.textAlign?ie=this.width-_e.width-this.rightPadding:"left"===this.horizontalAlign||"left"===this.textAlign?ie=this.leftPadding:("center"===this.horizontalAlign||"center"===this.textAlign)&&(ie=(this.width-(this.leftPadding+this.rightPadding))/2-_e.width/2+this.leftPadding),this.ctx.fillText(_e.text,ie,ge),ge+=_e.height;this.ctx.font=k,S&&this.ctx.restore()}},Ze.prototype.setText=function(S){this.text=S,this._isDirty=!0,this._wrappedText=null},Ze.prototype.measureText=function(){if(this._lineHeight=Ws(this.fontFamily,this.fontSize,this.fontWeight),null===this.maxWidth)throw"Please set maxWidth and height for TextBlock";return this._wrapText(this.ctx),this._isDirty=!1,{width:this.width,height:this.height}},Ze.prototype._getLineWithWidth=function(S,k,B){if(!(S=String(S)))return{text:"",width:0};var ie=B=0,ge=S.length-1,_e=1/0;for(this.ctx.font=this._getFontString();ie<=ge;){_e=Math.floor((ie+ge)/2);var se=S.substr(0,_e+1);if((B=this.ctx.measureText(se).width)<k)ie=_e+1;else{if(!(B>k))break;ge=_e-1}}return B>k&&1<se.length&&(se=se.substr(0,se.length-1),B=this.ctx.measureText(se).width),k=!0,(se.length===S.length||" "===S[se.length])&&(k=!1),k&&(1<(S=se.split(" ")).length&&S.pop(),se=S.join(" "),B=this.ctx.measureText(se).width),{text:se,width:B}},Ze.prototype._wrapText=function(){var S=new String(ts(String(this.text))),k=[],B=this.ctx.font,ie=0,ge=0;if(this.ctx.font=this._getFontString(),0===this.frontSize)ge=ie=0;else for(;0<S.length;){var _e=this.maxHeight-(this.topPadding+this.bottomPadding),se=this._getLineWithWidth(S,this.maxWidth-(this.leftPadding+this.rightPadding),!1);se.height=this._lineHeight,k.push(se);var tt=ge;ge=Math.max(ge,se.width),ie+=se.height,S=ts(S.slice(se.text.length,S.length)),_e&&ie>_e&&(ie-=(se=k.pop()).height,ge=tt)}this._wrappedText={lines:k,width:ge,height:ie},this.width=ge+(this.leftPadding+this.rightPadding),this.height=ie+(this.topPadding+this.bottomPadding),this.ctx.font=B},Ze.prototype._getFontString=function(){var S;S=this.fontStyle?this.fontStyle+" ":"",S+=this.fontWeight?this.fontWeight+" ":"",S+=this.fontSize?this.fontSize+"px ":"";var k=this.fontFamily?this.fontFamily+"":"";return!Y&&k&&"'"!==(k=k.split(",")[0])[0]&&'"'!==k[0]&&(k="'"+k+"'"),S+k},fi(Nn,Ot),fi(dn,Ot),dn.prototype.setLayout=function(){if(this.text){var tt,st,Ye,S=this.dockInsidePlotArea?this.chart.plotArea:this.chart,k=S.layoutManager.getFreeSpace(),B=k.x1,ie=k.y1,ge=0,_e=0,se=this.chart._menuButton&&this.chart.exportEnabled&&"top"===this.verticalAlign?22:0;"top"===this.verticalAlign||"bottom"===this.verticalAlign?(null===this.maxWidth&&(this.maxWidth=k.width-4-se*("center"===this.horizontalAlign?2:1)),_e=.5*k.height-this.margin-2,ge=0):"center"===this.verticalAlign&&("left"===this.horizontalAlign||"right"===this.horizontalAlign?(null===this.maxWidth&&(this.maxWidth=k.height-4),_e=.5*k.width-this.margin-2):"center"===this.horizontalAlign&&(null===this.maxWidth&&(this.maxWidth=k.width-4),_e=.5*k.height-4)),j(this.padding)||"number"!=typeof this.padding?j(this.padding)||"object"!=typeof this.padding||(Ye=this.padding.top?this.padding.top:this.padding.bottom?this.padding.bottom:0,Ye+=this.padding.bottom?this.padding.bottom:this.padding.top?this.padding.top:0):Ye=2*this.padding,this.wrap||(_e=Math.min(_e,1.5*this.fontSize+Ye)),Ye=(_e=new Ze(this.ctx,{fontSize:this.fontSize,fontFamily:this.fontFamily,fontColor:this.fontColor,fontStyle:this.fontStyle,fontWeight:this.fontWeight,horizontalAlign:this.horizontalAlign,verticalAlign:this.verticalAlign,borderColor:this.borderColor,borderThickness:this.borderThickness,backgroundColor:this.backgroundColor,maxWidth:this.maxWidth,maxHeight:_e,cornerRadius:this.cornerRadius,text:this.text,padding:this.padding,textBaseline:"top"})).measureText(),"top"===this.verticalAlign||"bottom"===this.verticalAlign?("top"===this.verticalAlign?(ie=k.y1+2,st="top"):"bottom"===this.verticalAlign&&(ie=k.y2-2-Ye.height,st="bottom"),"left"===this.horizontalAlign?B=k.x1+2:"center"===this.horizontalAlign?B=k.x1+k.width/2-Ye.width/2:"right"===this.horizontalAlign&&(B=k.x2-2-Ye.width-se),tt=this.horizontalAlign,this.width=Ye.width,this.height=Ye.height):"center"===this.verticalAlign&&("left"===this.horizontalAlign?(B=k.x1+2,ie=k.y2-2-(this.maxWidth/2-Ye.width/2),ge=-90,st="left",this.width=Ye.height,this.height=Ye.width):"right"===this.horizontalAlign?(B=k.x2-2,ie=k.y1+2+(this.maxWidth/2-Ye.width/2),ge=90,st="right",this.width=Ye.height,this.height=Ye.width):"center"===this.horizontalAlign&&(ie=S.y1+(S.height/2-Ye.height/2),B=S.x1+(S.width/2-Ye.width/2),st="center",this.width=Ye.width,this.height=Ye.height),tt="center"),_e.x=B,_e.y=ie,_e.angle=ge,_e.horizontalAlign=tt,this._textBlock=_e,S.layoutManager.registerSpace(st,{width:this.width+("left"===st||"right"===st?this.margin+2:0),height:this.height+("top"===st||"bottom"===st?this.margin+2:0)}),this.bounds={x1:B,y1:ie,x2:B+this.width,y2:ie+this.height},this.ctx.textBaseline="top"}},dn.prototype.render=function(){this._textBlock&&this._textBlock.render(!0)},fi(Nt,Ot),Nt.prototype.setLayout=dn.prototype.setLayout,Nt.prototype.render=dn.prototype.render,Mn.prototype.get=function(S,k){var B=null;return 0<this.pool.length?rn(B=this.pool.pop(),S,k):B=gi(S,k),B},Mn.prototype.release=function(S){this.pool.push(S)},fi(Tn,Ot);var Lr={addTheme:function(S,k){jt[S]=k},addColorSet:function(S,k){re[S]=k},addCultureInfo:function(S,k){Re[S]=k},formatNumber:function(S,k,B){if(Re[B=B||"en"])return ei(S,k||"#,##0.##",new Tn(B));throw"Unknown Culture Name"},formatDate:function(S,k,B){if(Re[B=B||"en"])return Ki(S,k||"DD MMM YYYY",new Tn(B));throw"Unknown Culture Name"}};void 0!==ar.exports?ar.exports=Lr:void 0!==(Ht=function(){return Lr}.apply(sl,[]))&&(ar.exports=Ht),L=Lr.Chart=function(){function S(r,u){return r.x-u.x}function k(r,u,l){u=u||{},j(l)?(this.predefinedThemes=jt,this.optionsName=this.parent=this.index=null):(this.parent=l.parent,this.index=l.index,this.predefinedThemes=l.predefinedThemes,this.optionsName=l.optionsName,this.stockChart=l.stockChart,this.panel=r,this.isOptionsInArray=l.isOptionsInArray),this.theme=j(u.theme)||j(this.predefinedThemes[u.theme])?"light1":u.theme,k.base.constructor.call(this,"Chart",this.optionsName,u,this.index,this.parent);var o=this;this._containerId=r,this._objectsInitialized=!1,this.overlaidCanvasCtx=this.ctx=null,this._indexLabels=[],this._panTimerId=0,this._lastTouchEventType="",this._lastTouchData=null,this.isAnimating=!1,this.renderCount=0,this.disableToolTip=this.animatedRender=!1,this.canvasPool=new Mn,this.allDOMEventHandlers=[],this.panEnabled=!1,this._defaultCursor="default",this.plotArea={canvas:null,ctx:null,x1:0,y1:0,x2:0,y2:0,width:0,height:0},this._dataInRenderedOrder=[],(this.container="string"==typeof this._containerId?document.getElementById(this._containerId):this._containerId)?(this.container.innerHTML="",u=r=0,u=this.options.height?this.height:0<this.container.clientHeight?this.container.clientHeight:this.height,this.width=r=this.options.width?this.width:0<this.container.clientWidth?this.container.clientWidth:this.width,this.height=u,this.x1=this.y1=0,this.x2=this.width,this.y2=this.height,this.selectedColorSet=void 0!==re[this.colorSet]?re[this.colorSet]:re.colorSet1,this._canvasJSContainer=document.createElement("div"),this._canvasJSContainer.setAttribute("class","canvasjs-chart-container"),this._canvasJSContainer.style.position="relative",this._canvasJSContainer.style.textAlign="left",this._canvasJSContainer.style.cursor="auto",this._canvasJSContainer.style.direction="ltr",Y||(this._canvasJSContainer.style.height="0px"),this.container.appendChild(this._canvasJSContainer),this.canvas=gi(r,u),this._preRenderCanvas=gi(r,u),this.canvas.style.position="absolute",this.canvas.style.WebkitUserSelect="none",this.canvas.style.MozUserSelect="none",this.canvas.style.msUserSelect="none",this.canvas.style.userSelect="none",this.canvas.getContext&&(this._canvasJSContainer.appendChild(this.canvas),this.ctx=this.canvas.getContext("2d"),this.ctx.textBaseline="top",Bn(this.ctx),this._preRenderCtx=this._preRenderCanvas.getContext("2d"),this._preRenderCtx.textBaseline="top",Bn(this._preRenderCtx),Y?this.plotArea.ctx=this.ctx:(this.plotArea.canvas=gi(r,u),this.plotArea.canvas.style.position="absolute",this.plotArea.canvas.setAttribute("class","plotAreaCanvas"),this._canvasJSContainer.appendChild(this.plotArea.canvas),this.plotArea.ctx=this.plotArea.canvas.getContext("2d")),this.overlaidCanvas=gi(r,u),this.overlaidCanvas.style.position="absolute",this.overlaidCanvas.style.webkitTapHighlightColor="transparent",this.overlaidCanvas.style.WebkitUserSelect="none",this.overlaidCanvas.style.MozUserSelect="none",this.overlaidCanvas.style.msUserSelect="none",this.overlaidCanvas.style.userSelect="none",this.overlaidCanvas.getContext&&(this._canvasJSContainer.appendChild(this.overlaidCanvas),this.overlaidCanvasCtx=this.overlaidCanvas.getContext("2d"),this.overlaidCanvasCtx.textBaseline="top",Bn(this.overlaidCanvasCtx)),this._eventManager=new oi(this),this.windowResizeHandler=pt(window,"resize",function(){o._updateSize()&&o.render()},this.allDOMEventHandlers),this._toolBar=document.createElement("div"),this._toolBar.setAttribute("class","canvasjs-chart-toolbar"),Tt(this._toolBar,{position:"absolute",right:"1px",top:"1px"}),this._canvasJSContainer.appendChild(this._toolBar),this.bounds={x1:0,y1:0,x2:this.width,y2:this.height},pt(this.overlaidCanvas,"click",function(h){o._mouseEventHandler(h)},this.allDOMEventHandlers),pt(this.overlaidCanvas,"mousemove",function(h){o._mouseEventHandler(h)},this.allDOMEventHandlers),pt(this.overlaidCanvas,"mouseup",function(h){o._mouseEventHandler(h)},this.allDOMEventHandlers),pt(this.overlaidCanvas,"mousedown",function(h){o._mouseEventHandler(h),Li(o._dropdownMenu)},this.allDOMEventHandlers),pt(this.overlaidCanvas,"mouseout",function(h){o._mouseEventHandler(h)},this.allDOMEventHandlers),pt(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerDown":"touchstart",function(h){o._touchEventHandler(h)},this.allDOMEventHandlers),pt(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerMove":"touchmove",function(h){o._touchEventHandler(h)},this.allDOMEventHandlers),pt(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerUp":"touchend",function(h){o._touchEventHandler(h)},this.allDOMEventHandlers),pt(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerCancel":"touchcancel",function(h){o._touchEventHandler(h)},this.allDOMEventHandlers),this.toolTip=new Ut(this,this.options.toolTip),this.data=null,this.axisX=[],this.axisX2=[],this.axisY=[],this.axisY2=[],this.sessionVariables={axisX:[],axisX2:[],axisY:[],axisY2:[]})):window.console&&window.console.log('CanvasJS Error: Chart Container with id "'+this._containerId+'" was not found')}function B(r,u){for(var o,l=[],h=0;h<r.length;h++)if(0==h)l.push(r[0]);else{var p,m,_;p=0==(_=h-1)?0:_-1,m=_===r.length-1?_:_+1,o=Math.abs((r[m].x-r[p].x)/(r[m].x-r[_].x==0?.01:r[m].x-r[_].x))*(u-1)/2+1;var w=(r[m].x-r[p].x)/o;o=(r[m].y-r[p].y)/o,l[l.length]=r[_].x>r[p].x&&0<w||r[_].x<r[p].x&&0>w?{x:r[_].x+w/3,y:r[_].y+o/3}:{x:r[_].x,y:r[_].y+o/9},p=0===(_=h)?0:_-1,m=_===r.length-1?_:_+1,o=Math.abs((r[m].x-r[p].x)/(r[_].x-r[p].x==0?.01:r[_].x-r[p].x))*(u-1)/2+1,w=(r[m].x-r[p].x)/o,o=(r[m].y-r[p].y)/o,l[l.length]=r[_].x>r[p].x&&0<w||r[_].x<r[p].x&&0>w?{x:r[_].x-w/3,y:r[_].y-o/3}:{x:r[_].x,y:r[_].y-o/9},l[l.length]=r[h]}return l}function ie(r,u,l,o,h,p,m,_,w,x){var g=0;x?(m.color=p,_.color=p):x=1,g=Math.abs(w?h-l:o-u),g=0<m.trimLength?Math.abs(g*m.trimLength/100):Math.abs(g-m.length),w?(l+=g/2,h-=g/2):(u+=g/2,o-=g/2),g=Math.round(m.thickness)%2==1?.5:0;var y=Math.round(_.thickness)%2==1?.5:0;r.save(),r.globalAlpha=x,r.strokeStyle=_.color||p,r.lineWidth=_.thickness||2,r.setLineDash&&r.setLineDash(Ke(_.dashType,_.thickness)),r.beginPath(),w&&0<_.thickness?(r.moveTo(o-m.thickness/2,Math.round((l+h)/2)-y),r.lineTo(u+m.thickness/2,Math.round((l+h)/2)-y)):0<_.thickness&&(r.moveTo(Math.round((u+o)/2)-y,l+m.thickness/2),r.lineTo(Math.round((u+o)/2)-y,h-m.thickness/2)),r.stroke(),r.strokeStyle=m.color||p,r.lineWidth=m.thickness||2,r.setLineDash&&r.setLineDash(Ke(m.dashType,m.thickness)),r.beginPath(),w&&0<m.thickness?(r.moveTo(o-g,l),r.lineTo(o-g,h),r.moveTo(u+g,l),r.lineTo(u+g,h)):0<m.thickness&&(r.moveTo(u,l+g),r.lineTo(o,l+g),r.moveTo(u,h-g),r.lineTo(o,h-g)),r.stroke(),r.restore()}function ge(r,u){ge.base.constructor.call(this,"Legend","legend",u,null,r),this.chart=r,this.canvas=r.canvas,this.ctx=this.chart.ctx,this.ghostCtx=this.chart._eventManager.ghostCtx,this.items=[],this.optionsName="legend",this.height=this.width=0,this.orientation=null,this.dataSeries=[],this.bounds={x1:null,y1:null,x2:null,y2:null},void 0===this.options.fontSize&&(this.fontSize=this.chart.getAutoFontSize(this.fontSize)),this.lineHeight=Ws(this.fontFamily,this.fontSize,this.fontWeight),this.horizontalSpacing=this.fontSize}function _e(r,u,l,o){for(_e.base.constructor.call(this,"DataSeries","data",u,l,r),this.chart=r,this.canvas=r.canvas,this._ctx=r.canvas.ctx,this.index=l,this.noDataPointsInPlotArea=0,this.id=o,this.chart._eventManager.objectMap[o]={id:o,objectType:"dataSeries",dataSeriesIndex:l},r=u.dataPoints?u.dataPoints.length:0,this.dataPointEOs=[],u=0;u<r;u++)this.dataPointEOs[u]={};this.dataPointIds=[],this.plotUnit=[],this.axisY=this.axisX=null,this.optionsName="data",this.isOptionsInArray=!0,null===this.fillOpacity&&(this.fillOpacity=this.type.match(/area/i)?.7:1),this.axisPlacement=this.getDefaultAxisPlacement(),void 0===this.options.indexLabelFontSize&&(this.indexLabelFontSize=this.chart.getAutoFontSize(this.indexLabelFontSize))}function se(r,u,l,o,h,p){if(se.base.constructor.call(this,"Axis",u,l,o,r),this.chart=r,this.canvas=r.canvas,this.ctx=r.ctx,this.intervalStartPosition=this.maxHeight=this.maxWidth=0,this.labels=[],this.dataSeries=[],this._stripLineLabels=this._ticks=this._labels=null,this.dataInfo={min:1/0,max:-1/0,viewPortMin:1/0,viewPortMax:-1/0,minDiff:1/0},this.isOptionsInArray=!0,"axisX"===h?("left"===p||"bottom"===p?(this.optionsName="axisX",j(this.chart.sessionVariables.axisX[o])&&(this.chart.sessionVariables.axisX[o]={}),this.sessionVariables=this.chart.sessionVariables.axisX[o]):(this.optionsName="axisX2",j(this.chart.sessionVariables.axisX2[o])&&(this.chart.sessionVariables.axisX2[o]={}),this.sessionVariables=this.chart.sessionVariables.axisX2[o]),this.options.interval||(this.intervalType=null)):"left"===p||"bottom"===p?(this.optionsName="axisY",j(this.chart.sessionVariables.axisY[o])&&(this.chart.sessionVariables.axisY[o]={}),this.sessionVariables=this.chart.sessionVariables.axisY[o]):(this.optionsName="axisY2",j(this.chart.sessionVariables.axisY2[o])&&(this.chart.sessionVariables.axisY2[o]={}),this.sessionVariables=this.chart.sessionVariables.axisY2[o]),void 0===this.options.titleFontSize&&(this.titleFontSize=this.chart.getAutoFontSize(this.titleFontSize)),void 0===this.options.labelFontSize&&(this.labelFontSize=this.chart.getAutoFontSize(this.labelFontSize)),this.type=h,"axisX"!==h||l&&void 0!==l.gridThickness||(this.gridThickness=0),this._position=p,this.lineCoordinates={x1:null,y1:null,x2:null,y2:null,width:null},this.labelAngle=(this.labelAngle%360+360)%360,90<this.labelAngle&&270>this.labelAngle?this.labelAngle-=180:270<=this.labelAngle&&360>=this.labelAngle&&(this.labelAngle-=360),this.options.scaleBreaks&&(this.scaleBreaks=new tt(this.chart,this.options.scaleBreaks,++this.chart._eventManager.lastObjectId,this)),this.stripLines=[],this.options.stripLines&&0<this.options.stripLines.length)for(r=0;r<this.options.stripLines.length;r++)this.stripLines.push(new Ye(this.chart,this.options.stripLines[r],r,++this.chart._eventManager.lastObjectId,this));this.options.crosshair&&(this.crosshair=new wi(this.chart,this.options.crosshair,this)),this._titleTextBlock=null,this.hasOptionChanged("viewportMinimum")&&null===this.viewportMinimum&&(this.options.viewportMinimum=void 0,this.sessionVariables.viewportMinimum=null),this.hasOptionChanged("viewportMinimum")||isNaN(this.sessionVariables.newViewportMinimum)||null===this.sessionVariables.newViewportMinimum?this.sessionVariables.newViewportMinimum=null:this.viewportMinimum=this.sessionVariables.newViewportMinimum,this.hasOptionChanged("viewportMaximum")&&null===this.viewportMaximum&&(this.options.viewportMaximum=void 0,this.sessionVariables.viewportMaximum=null),this.hasOptionChanged("viewportMaximum")||isNaN(this.sessionVariables.newViewportMaximum)||null===this.sessionVariables.newViewportMaximum?this.sessionVariables.newViewportMaximum=null:this.viewportMaximum=this.sessionVariables.newViewportMaximum,null!==this.minimum&&null!==this.viewportMinimum&&(this.viewportMinimum=Math.max(this.viewportMinimum,this.minimum)),null!==this.maximum&&null!==this.viewportMaximum&&(this.viewportMaximum=Math.min(this.viewportMaximum,this.maximum)),this.trackChanges("viewportMinimum"),this.trackChanges("viewportMaximum")}function tt(r,u,l,o){if(tt.base.constructor.call(this,"ScaleBreaks","scaleBreaks",u,null,o),this.id=l,this.chart=r,this.ctx=this.chart.ctx,this.axis=o,this.optionsName="scaleBreaks",this.isOptionsInArray=!1,this._appliedBreaks=[],this.customBreaks=[],this.autoBreaks=[],"string"==typeof this.spacing?(this.spacing=parseFloat(this.spacing),this.spacing=isNaN(this.spacing)?8:(10<this.spacing?10:this.spacing)+"%"):"number"!=typeof this.spacing&&(this.spacing=8),this.autoCalculate&&(this.maxNumberOfAutoBreaks=Math.min(this.maxNumberOfAutoBreaks,5)),this.options.customBreaks&&0<this.options.customBreaks.length){for(r=0;r<this.options.customBreaks.length;r++)this.customBreaks.push(new st(this.chart,"customBreaks",this.options.customBreaks[r],r,++this.chart._eventManager.lastObjectId,this)),"number"==typeof this.customBreaks[r].startValue&&"number"==typeof this.customBreaks[r].endValue&&this.customBreaks[r].endValue!==this.customBreaks[r].startValue&&this._appliedBreaks.push(this.customBreaks[r]);for(this._appliedBreaks.sort(function(h,p){return h.startValue-p.startValue}),r=0;r<this._appliedBreaks.length-1;r++)this._appliedBreaks[r].endValue>=this._appliedBreaks[r+1].startValue&&(this._appliedBreaks[r].endValue=Math.max(this._appliedBreaks[r].endValue,this._appliedBreaks[r+1].endValue),window.console&&window.console.log("CanvasJS Error: Breaks "+r+" and "+(r+1)+" are overlapping."),this._appliedBreaks.splice(r,2),r--)}}function st(r,u,l,o,h,p){st.base.constructor.call(this,"Break",u,l,o,p),this.id=h,this.chart=r,this.ctx=this.chart.ctx,this.scaleBreaks=p,this.optionsName=u,this.isOptionsInArray=!0,this.type=l.type?this.type:p.type,this.fillOpacity=j(l.fillOpacity)?p.fillOpacity:this.fillOpacity,this.lineThickness=j(l.lineThickness)?p.lineThickness:this.lineThickness,this.color=l.color?this.color:p.color,this.lineColor=l.lineColor?this.lineColor:p.lineColor,this.lineDashType=l.lineDashType?this.lineDashType:p.lineDashType,!j(this.startValue)&&this.startValue.getTime&&(this.startValue=this.startValue.getTime()),!j(this.endValue)&&this.endValue.getTime&&(this.endValue=this.endValue.getTime()),"number"==typeof this.startValue&&"number"==typeof this.endValue&&this.endValue<this.startValue&&(r=this.startValue,this.startValue=this.endValue,this.endValue=r),this.spacing=void 0===l.spacing?p.spacing:l.spacing,"string"==typeof this.options.spacing?(this.spacing=parseFloat(this.spacing),this.spacing=isNaN(this.spacing)?0:(10<this.spacing?10:this.spacing)+"%"):"number"!=typeof this.options.spacing&&(this.spacing=p.spacing),this.size=p.parent.logarithmic?1:0}function Ye(r,u,l,o,h){Ye.base.constructor.call(this,"StripLine","stripLines",u,l,h),this.id=o,this.chart=r,this.ctx=this.chart.ctx,this.label=this.label,this.axis=h,this.optionsName="stripLines",this.isOptionsInArray=!0,this._thicknessType="pixel",null!==this.startValue&&null!==this.endValue&&(this.value=h.logarithmic?Math.sqrt((this.startValue.getTime?this.startValue.getTime():this.startValue)*(this.endValue.getTime?this.endValue.getTime():this.endValue)):((this.startValue.getTime?this.startValue.getTime():this.startValue)+(this.endValue.getTime?this.endValue.getTime():this.endValue))/2,this._thicknessType=null)}function wi(r,u,l){wi.base.constructor.call(this,"Crosshair","crosshair",u,null,l),this.chart=r,this.ctx=this.chart.ctx,this.axis=l,this.optionsName="crosshair",this._thicknessType="pixel"}function Ut(r,u){Ut.base.constructor.call(this,"ToolTip","toolTip",u,null,r),this.chart=r,this.canvas=r.canvas,this.ctx=this.chart.ctx,this.currentDataPointIndex=this.currentSeriesIndex=-1,this._prevY=this._prevX=NaN,this.containerTransitionDuration=.1,this.mozContainerTransition=this.getContainerTransition(this.containerTransitionDuration),this.optionsName="toolTip",this._initialize()}function oi(r){this.chart=r,this.lastObjectId=0,this.objectMap=[],this.rectangularRegionEventSubscriptions=[],this.previousDataPointEventObject=null,this.ghostCanvas=gi(this.chart.width,this.chart.height),this.ghostCtx=this.ghostCanvas.getContext("2d"),this.mouseoveredObjectMaps=[]}function _t(r){this.chart=r,this.ctx=this.chart.plotArea.ctx,this.animations=[],this.animationRequestId=null}fi(k,Ot),k.prototype.destroy=function(){var r=this.allDOMEventHandlers;this._animator&&this._animator.cancelAllAnimations(),this._panTimerId&&clearTimeout(this._panTimerId);for(var u=0;u<r.length;u++){var l=r[u][0],o=r[u][1],h=r[u][2],p=(p=r[u][3])||!1;l.removeEventListener?l.removeEventListener(o,h,p):l.detachEvent&&l.detachEvent("on"+o,h)}for(this.allDOMEventHandlers=[],this.removeAllEventListeners();this._canvasJSContainer&&this._canvasJSContainer.hasChildNodes();)this._canvasJSContainer.removeChild(this._canvasJSContainer.lastChild);for(;this.container&&this.container.hasChildNodes();)this.container.removeChild(this.container.lastChild);for(;this._dropdownMenu&&this._dropdownMenu.hasChildNodes();)this._dropdownMenu.removeChild(this._dropdownMenu.lastChild);this.container=this._canvasJSContainer=null,this.toolTip.container=null,this.canvas&&Ts(this.canvas),this.overlaidCanvas&&Ts(this.overlaidCanvas),this._preRenderCanvas&&Ts(this._preRenderCanvas),this._breaksCanvas&&Ts(this._breaksCanvas),this._eventManager&&this._eventManager.ghostCanvas&&Ts(this._eventManager.ghostCanvas),this._toolBar=this._dropdownMenu=this._menuButton=this._resetButton=this._zoomButton=null},k.prototype._updateOptions=function(){var r=this;if(this.updateOption("width"),this.updateOption("height"),this.updateOption("dataPointWidth"),this.updateOption("dataPointMinWidth"),this.updateOption("dataPointMaxWidth"),this.updateOption("interactivityEnabled"),this.updateOption("theme"),this.updateOption("colorSet")&&(this.selectedColorSet=void 0!==re[this.colorSet]?re[this.colorSet]:re.colorSet1),this.updateOption("backgroundColor"),this.backgroundColor||(this.backgroundColor="rgba(0,0,0,0)"),this.updateOption("culture"),this._cultureInfo=new Tn(this.options.culture),this.updateOption("animationEnabled"),this.animationEnabled=this.animationEnabled&&Y,this.updateOption("animationDuration"),this.updateOption("rangeChanging"),this.updateOption("rangeChanged"),this.updateOption("exportEnabled"),this.updateOption("exportFileName"),this.updateOption("zoomType"),this.toolbar=new Nn(this,this.options.toolbar),this.options.zoomEnabled||this.panEnabled){if(this._zoomButton)Tt(this._zoomButton,{borderRight:this.toolbar.buttonBorderThickness+"px solid "+this.toolbar.buttonBorderColor,backgroundColor:r.toolbar.itemBackgroundColor,color:r.toolbar.fontColor}),this._zoomButton.title=this._cultureInfo.zoomText;else{var u=!1;Li(this._zoomButton=document.createElement("button")),Kt(this,this._zoomButton,"pan"),this._zoomButton.title=this._cultureInfo.panText,this._toolBar.appendChild(this._zoomButton),this._zoomButton.style.borderRight=this.toolbar.buttonBorderThickness+"px solid "+this.toolbar.buttonBorderColor,pt(this._zoomButton,"touchstart",function(o){u=!0},this.allDOMEventHandlers),pt(this._zoomButton,"click",function(){r.zoomEnabled?(r.zoomEnabled=!1,r.panEnabled=!0,Kt(r,r._zoomButton,"zoom")):(r.zoomEnabled=!0,r.panEnabled=!1,Kt(r,r._zoomButton,"pan")),r.render()},this.allDOMEventHandlers),pt(this._zoomButton,"mousemove",function(){u?u=!1:(Tt(r._zoomButton,{backgroundColor:r.toolbar.itemBackgroundColorOnHover,color:r.toolbar.fontColorOnHover,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&Tt(r._zoomButton.childNodes[0],{WebkitFilter:"invert(100%)",filter:"invert(100%)"}))},this.allDOMEventHandlers),pt(this._zoomButton,"mouseout",function(){u||(Tt(r._zoomButton,{backgroundColor:r.toolbar.itemBackgroundColor,color:r.toolbar.fontColor,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&Tt(r._zoomButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}))},this.allDOMEventHandlers)}this._resetButton?(Tt(this._resetButton,{borderRight:this.toolbar.buttonBorderThickness+"px solid "+this.toolbar.buttonBorderColor,backgroundColor:r.toolbar.itemBackgroundColor,color:r.toolbar.fontColor}),this._resetButton.title=this._cultureInfo.resetText):(u=!1,Li(this._resetButton=document.createElement("button")),Kt(this,this._resetButton,"reset"),this._resetButton.style.borderRight=(this.exportEnabled?this.toolbar.buttonBorderThickness:0)+"px solid "+this.toolbar.buttonBorderColor,this._toolBar.appendChild(this._resetButton),pt(this._resetButton,"touchstart",function(o){u=!0},this.allDOMEventHandlers),pt(this._resetButton,"click",function(){if(r.toolTip.hide(),r.toolTip&&r.toolTip.enabled&&r.toolTip.dispatchEvent("hidden",{chart:r,toolTip:r.toolTip},r.toolTip),r.zoomEnabled||r.panEnabled?(r.zoomEnabled=!0,r.panEnabled=!1,Kt(r,r._zoomButton,"pan"),r._defaultCursor="default",r.overlaidCanvas.style.cursor=r._defaultCursor):(r.zoomEnabled=!1,r.panEnabled=!1),r.sessionVariables.axisX)for(var o=0;o<r.sessionVariables.axisX.length;o++)r.sessionVariables.axisX[o].newViewportMinimum=null,r.sessionVariables.axisX[o].newViewportMaximum=null;if(r.sessionVariables.axisX2)for(o=0;o<r.sessionVariables.axisX2.length;o++)r.sessionVariables.axisX2[o].newViewportMinimum=null,r.sessionVariables.axisX2[o].newViewportMaximum=null;if(r.sessionVariables.axisY)for(o=0;o<r.sessionVariables.axisY.length;o++)r.sessionVariables.axisY[o].newViewportMinimum=null,r.sessionVariables.axisY[o].newViewportMaximum=null;if(r.sessionVariables.axisY2)for(o=0;o<r.sessionVariables.axisY2.length;o++)r.sessionVariables.axisY2[o].newViewportMinimum=null,r.sessionVariables.axisY2[o].newViewportMaximum=null;r.resetOverlayedCanvas(),0>=navigator.userAgent.search("MSIE")&&Tt(r._resetButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}),Li(r._zoomButton,r._resetButton),r.stockChart&&(r.stockChart._rangeEventParameter={stockChart:r.stockChart,source:"chart",index:r.stockChart.charts.indexOf(r),minimum:null,maximum:null}),r._dispatchRangeEvent("rangeChanging","reset"),r.stockChart&&(r.stockChart._rangeEventParameter.type="rangeChanging",r.stockChart.dispatchEvent("rangeChanging",r.stockChart._rangeEventParameter,r.stockChart)),r.render(),r.syncCharts&&r.syncCharts(null,null),r._dispatchRangeEvent("rangeChanged","reset"),r.stockChart&&(r.stockChart._rangeEventParameter.type="rangeChanged",r.stockChart.dispatchEvent("rangeChanged",r.stockChart._rangeEventParameter,r.stockChart))},this.allDOMEventHandlers),pt(this._resetButton,"mousemove",function(){u||(Tt(r._resetButton,{backgroundColor:r.toolbar.itemBackgroundColorOnHover,color:r.toolbar.fontColorOnHover,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&Tt(r._resetButton.childNodes[0],{WebkitFilter:"invert(100%)",filter:"invert(100%)"}))},this.allDOMEventHandlers),pt(this._resetButton,"mouseout",function(){u||(Tt(r._resetButton,{backgroundColor:r.toolbar.itemBackgroundColor,color:r.toolbar.fontColor,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&Tt(r._resetButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}))},this.allDOMEventHandlers),this.overlaidCanvas.style.cursor=r._defaultCursor),this.zoomEnabled||this.panEnabled||(this._zoomButton?(r._zoomButton.getAttribute("state")===r._cultureInfo.zoomText?(this.panEnabled=!0,this.zoomEnabled=!1):(this.zoomEnabled=!0,this.panEnabled=!1),Pt(r._zoomButton,r._resetButton)):(this.zoomEnabled=!0,this.panEnabled=!1))}else this.panEnabled=this.zoomEnabled=!1;for(var l in function Cn(S){if(S._menuButton)S.exportEnabled?(Tt(S._menuButton,{backgroundColor:S.toolbar.itemBackgroundColor,color:S.toolbar.fontColor}),Pt(S._menuButton),S._menuButton.title=S._cultureInfo.menuText):Li(S._menuButton);else if(S.exportEnabled&&Y){var k=!1;S._menuButton=document.createElement("button"),Kt(S,S._menuButton,"menu"),S._toolBar.appendChild(S._menuButton),pt(S._menuButton,"touchstart",function(_e){k=!0},S.allDOMEventHandlers),pt(S._menuButton,"click",function(){"none"!==S._dropdownMenu.style.display||S._dropDownCloseTime&&500>=(new Date).getTime()-S._dropDownCloseTime.getTime()||(S._dropdownMenu.style.display="block",S._menuButton.blur(),S._dropdownMenu.focus())},S.allDOMEventHandlers,!0),pt(S._menuButton,"mousemove",function(){k||(Tt(S._menuButton,{backgroundColor:S.toolbar.itemBackgroundColorOnHover,color:S.toolbar.fontColorOnHover}),0>=navigator.userAgent.search("MSIE")&&Tt(S._menuButton.childNodes[0],{WebkitFilter:"invert(100%)",filter:"invert(100%)"}))},S.allDOMEventHandlers,!0),pt(S._menuButton,"mouseout",function(){k||(Tt(S._menuButton,{backgroundColor:S.toolbar.itemBackgroundColor,color:S.toolbar.fontColor}),0>=navigator.userAgent.search("MSIE")&&Tt(S._menuButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}))},S.allDOMEventHandlers,!0)}if(S.exportEnabled&&S._dropdownMenu){Tt(S._dropdownMenu,{backgroundColor:S.toolbar.itemBackgroundColor,color:S.toolbar.fontColor});for(var B=S._dropdownMenu.childNodes,ie=[S._cultureInfo.printText,S._cultureInfo.saveJPGText,S._cultureInfo.savePNGText],ge=0;ge<B.length;ge++)Tt(B[ge],{backgroundColor:S.toolbar.itemBackgroundColor,color:S.toolbar.fontColor}),B[ge].innerHTML=ie[ge]}else!S._dropdownMenu&&S.exportEnabled&&Y&&(k=!1,S._dropdownMenu=document.createElement("div"),S._dropdownMenu.setAttribute("tabindex",-1),B=-1!==S.theme.indexOf("dark")?"black":"#888888",Tt(S._dropdownMenu,{position:"absolute",zIndex:1,userSelect:"none",MozUserSeelct:"none",WebkitUserSelect:"none",msUserSelect:"none",cursor:"pointer",right:"0px",top:"25px",minWidth:"120px",outline:0,fontSize:"14px",fontFamily:"Arial, Helvetica, sans-serif",padding:"5px 0px 5px 0px",textAlign:"left",lineHeight:"10px",backgroundColor:S.toolbar.itemBackgroundColor,boxShadow:"2px 2px 10px"+B}),S._dropdownMenu.style.display="none",S._toolBar.appendChild(S._dropdownMenu),pt(S._dropdownMenu,"blur",function(){Li(S._dropdownMenu),S._dropDownCloseTime=new Date},S.allDOMEventHandlers,!0),Tt(B=document.createElement("div"),{padding:"12px 8px 12px 8px"}),B.innerHTML=S._cultureInfo.printText,B.style.backgroundColor=S.toolbar.itemBackgroundColor,B.style.color=S.toolbar.fontColor,S._dropdownMenu.appendChild(B),pt(B,"touchstart",function(_e){k=!0},S.allDOMEventHandlers),pt(B,"mousemove",function(){k||(this.style.backgroundColor=S.toolbar.itemBackgroundColorOnHover,this.style.color=S.toolbar.fontColorOnHover)},S.allDOMEventHandlers,!0),pt(B,"mouseout",function(){k||(this.style.backgroundColor=S.toolbar.itemBackgroundColor,this.style.color=S.toolbar.fontColor)},S.allDOMEventHandlers,!0),pt(B,"click",function(){S.print(),Li(S._dropdownMenu)},S.allDOMEventHandlers,!0),Tt(B=document.createElement("div"),{padding:"12px 8px 12px 8px"}),B.innerHTML=S._cultureInfo.saveJPGText,B.style.backgroundColor=S.toolbar.itemBackgroundColor,B.style.color=S.toolbar.fontColor,S._dropdownMenu.appendChild(B),pt(B,"touchstart",function(_e){k=!0},S.allDOMEventHandlers),pt(B,"mousemove",function(){k||(this.style.backgroundColor=S.toolbar.itemBackgroundColorOnHover,this.style.color=S.toolbar.fontColorOnHover)},S.allDOMEventHandlers,!0),pt(B,"mouseout",function(){k||(this.style.backgroundColor=S.toolbar.itemBackgroundColor,this.style.color=S.toolbar.fontColor)},S.allDOMEventHandlers,!0),pt(B,"click",function(){S.exportChart({format:"jpeg",fileName:S.exportFileName}),Li(S._dropdownMenu)},S.allDOMEventHandlers,!0),Tt(B=document.createElement("div"),{padding:"12px 8px 12px 8px"}),B.innerHTML=S._cultureInfo.savePNGText,B.style.backgroundColor=S.toolbar.itemBackgroundColor,B.style.color=S.toolbar.fontColor,S._dropdownMenu.appendChild(B),pt(B,"touchstart",function(_e){k=!0},S.allDOMEventHandlers),pt(B,"mousemove",function(){k||(this.style.backgroundColor=S.toolbar.itemBackgroundColorOnHover,this.style.color=S.toolbar.fontColorOnHover)},S.allDOMEventHandlers,!0),pt(B,"mouseout",function(){k||(this.style.backgroundColor=S.toolbar.itemBackgroundColor,this.style.color=S.toolbar.fontColor)},S.allDOMEventHandlers,!0),pt(B,"click",function(){S.exportChart({format:"png",fileName:S.exportFileName}),Li(S._dropdownMenu)},S.allDOMEventHandlers,!0))}(this),"none"!==this._toolBar.style.display&&this._zoomButton&&(Kt(r,r._zoomButton,this.panEnabled?"zoom":"pan"),r._resetButton.getAttribute("state")!==r._cultureInfo.resetText&&Kt(r,r._resetButton,"reset")),this.options.toolTip&&this.toolTip.options!==this.options.toolTip&&(this.toolTip.options=this.options.toolTip),this.toolTip.options)this.toolTip.options.hasOwnProperty(l)&&this.toolTip.updateOption(l)},k.prototype._updateSize=function(){var r;r=[this.canvas,this.overlaidCanvas,this._eventManager.ghostCanvas];var u=0,l=0;if(this.options.width?u=this.width:this.width=u=0<this.container.clientWidth?this.container.clientWidth:this.width,this.options.height?l=this.height:this.height=l=0<this.container.clientHeight?this.container.clientHeight:this.height,this.canvas.width!==u*mi||this.canvas.height!==l*mi){for(var o=0;o<r.length;o++)rn(r[o],u,l);this.bounds={x1:0,y1:0,x2:this.width,y2:this.height,width:this.width,height:this.height},r=!0}else r=!1;return r},k.prototype._initialize=function(){this.isNavigator=!(j(this.parent)||j(this.parent._defaultsKey)||"Navigator"!==this.parent._defaultsKey),this._animator?this._animator.cancelAllAnimations():this._animator=new _t(this),this.removeAllEventListeners(),this.disableToolTip=!1,this._axes=[],this.funnelPyramidClickHandler=this.pieDoughnutClickHandler=null,this._updateOptions(),this.animatedRender=Y&&this.animationEnabled&&0===this.renderCount,this._updateSize(),this.clearCanvas(),this.ctx.beginPath(),this.axisX=[],this.axisX2=[],this.axisY=[],this.axisY2=[],this._indexLabels=[],this._dataInRenderedOrder=[],this._events=[],this._eventManager&&this._eventManager.reset(),this.plotInfo={axisPlacement:null,plotTypes:[]},this.layoutManager=new wn(0,0,this.width,this.height,this.isNavigator?0:2),this.plotArea.layoutManager&&this.plotArea.layoutManager.reset(),this.data=[],this.title=null,this.subtitles=[];var r=0,u=null;if(this.options.data){for(var l=0;l<this.options.data.length;l++)if(r++,!this.options.data[l].type||0<=k._supportedChartTypes.indexOf(this.options.data[l].type)){var o=new _e(this,this.options.data[l],r-1,++this._eventManager.lastObjectId);"error"===o.type&&(o.linkedDataSeriesIndex=j(this.options.data[l].linkedDataSeriesIndex)?l-1:this.options.data[l].linkedDataSeriesIndex,0>o.linkedDataSeriesIndex||o.linkedDataSeriesIndex>=this.options.data.length||"number"!=typeof o.linkedDataSeriesIndex||"error"===this.options.data[o.linkedDataSeriesIndex].type)&&(o.linkedDataSeriesIndex=null),null===o.name&&(o.name="DataSeries "+r),null===o.color?1<this.options.data.length?(o._colorSet=[this.selectedColorSet[o.index%this.selectedColorSet.length]],o.color=this.selectedColorSet[o.index%this.selectedColorSet.length]):o._colorSet="line"===o.type||"stepLine"===o.type||"spline"===o.type||"area"===o.type||"stepArea"===o.type||"splineArea"===o.type||"stackedArea"===o.type||"stackedArea100"===o.type||"rangeArea"===o.type||"rangeSplineArea"===o.type||"candlestick"===o.type||"ohlc"===o.type||"waterfall"===o.type||"boxAndWhisker"===o.type?[this.selectedColorSet[0]]:this.selectedColorSet:o._colorSet=[o.color],null===o.markerSize&&(("line"===o.type||"stepLine"===o.type||"spline"===o.type||0<=o.type.toLowerCase().indexOf("area"))&&o.dataPoints&&o.dataPoints.length<this.width/16||"scatter"===o.type)&&(o.markerSize=8),"bubble"!==o.type&&"scatter"!==o.type||!o.dataPoints||(o.dataPoints.some?o.dataPoints.some(function(_){return _.x})&&o.dataPoints.sort(S):o.dataPoints.sort(S)),this.data.push(o);var p,h=o.axisPlacement;if(u=u||h,"normal"===h?"xySwapped"===this.plotInfo.axisPlacement?p='You cannot combine "'+o.type+'" with bar chart':"none"===this.plotInfo.axisPlacement?p='You cannot combine "'+o.type+'" with pie chart':null===this.plotInfo.axisPlacement&&(this.plotInfo.axisPlacement="normal"):"xySwapped"===h?"normal"===this.plotInfo.axisPlacement?p='You cannot combine "'+o.type+'" with line, area, column or pie chart':"none"===this.plotInfo.axisPlacement?p='You cannot combine "'+o.type+'" with pie chart':null===this.plotInfo.axisPlacement&&(this.plotInfo.axisPlacement="xySwapped"):"none"===h?"normal"===this.plotInfo.axisPlacement?p='You cannot combine "'+o.type+'" with line, area, column or bar chart':"xySwapped"===this.plotInfo.axisPlacement?p='You cannot combine "'+o.type+'" with bar chart':null===this.plotInfo.axisPlacement&&(this.plotInfo.axisPlacement="none"):null===h&&"none"===this.plotInfo.axisPlacement&&(p='You cannot combine "'+o.type+'" with pie chart'),p&&window.console)return void window.console.log(p)}for(l=0;l<this.data.length;l++){if("none"==u&&"error"===this.data[l].type&&window.console)return void window.console.log('You cannot combine "'+o.type+'" with error chart');"error"===this.data[l].type&&(this.data[l].axisPlacement=this.plotInfo.axisPlacement=u||"normal",this.data[l]._linkedSeries=null===this.data[l].linkedDataSeriesIndex?null:this.data[this.data[l].linkedDataSeriesIndex])}}this._objectsInitialized=!0,this._plotAreaElements=[]},k._supportedChartTypes=cn("line stepLine spline column area stepArea splineArea bar bubble scatter stackedColumn stackedColumn100 stackedBar stackedBar100 stackedArea stackedArea100 candlestick ohlc boxAndWhisker rangeColumn error rangeBar rangeArea rangeSplineArea pie doughnut funnel pyramid waterfall".split(" ")),k.prototype.setLayout=function(){for(var r=this._plotAreaElements,u=0;u<this.data.length;u++)if("normal"===this.plotInfo.axisPlacement||"xySwapped"===this.plotInfo.axisPlacement){if(!this.data[u].axisYType||"primary"===this.data[u].axisYType)if(this.options.axisY&&0<this.options.axisY.length){if(!this.axisY.length)for(var l=0;l<this.options.axisY.length;l++)"normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisY[l]=new se(this,"axisY",this.options.axisY[l],l,"axisY","left")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisY[l]=new se(this,"axisY",this.options.axisY[l],l,"axisY","bottom"));this.data[u].axisY=this.axisY[0<=this.data[u].axisYIndex&&this.data[u].axisYIndex<this.axisY.length?this.data[u].axisYIndex:0],this.axisY[0<=this.data[u].axisYIndex&&this.data[u].axisYIndex<this.axisY.length?this.data[u].axisYIndex:0].dataSeries.push(this.data[u])}else this.axisY.length||("normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisY[0]=new se(this,"axisY",this.options.axisY,0,"axisY","left")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisY[0]=new se(this,"axisY",this.options.axisY,0,"axisY","bottom"))),this.data[u].axisY=this.axisY[0],this.axisY[0].dataSeries.push(this.data[u]);if("secondary"===this.data[u].axisYType)if(this.options.axisY2&&0<this.options.axisY2.length){if(!this.axisY2.length)for(l=0;l<this.options.axisY2.length;l++)"normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisY2[l]=new se(this,"axisY2",this.options.axisY2[l],l,"axisY","right")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisY2[l]=new se(this,"axisY2",this.options.axisY2[l],l,"axisY","top"));this.data[u].axisY=this.axisY2[0<=this.data[u].axisYIndex&&this.data[u].axisYIndex<this.axisY2.length?this.data[u].axisYIndex:0],this.axisY2[0<=this.data[u].axisYIndex&&this.data[u].axisYIndex<this.axisY2.length?this.data[u].axisYIndex:0].dataSeries.push(this.data[u])}else this.axisY2.length||("normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisY2[0]=new se(this,"axisY2",this.options.axisY2,0,"axisY","right")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisY2[0]=new se(this,"axisY2",this.options.axisY2,0,"axisY","top"))),this.data[u].axisY=this.axisY2[0],this.axisY2[0].dataSeries.push(this.data[u]);if(!this.data[u].axisXType||"primary"===this.data[u].axisXType)if(this.options.axisX&&0<this.options.axisX.length){if(!this.axisX.length)for(l=0;l<this.options.axisX.length;l++)"normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisX[l]=new se(this,"axisX",this.options.axisX[l],l,"axisX","bottom")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisX[l]=new se(this,"axisX",this.options.axisX[l],l,"axisX","left"));this.data[u].axisX=this.axisX[0<=this.data[u].axisXIndex&&this.data[u].axisXIndex<this.axisX.length?this.data[u].axisXIndex:0],this.axisX[0<=this.data[u].axisXIndex&&this.data[u].axisXIndex<this.axisX.length?this.data[u].axisXIndex:0].dataSeries.push(this.data[u])}else this.axisX.length||("normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisX[0]=new se(this,"axisX",this.options.axisX,0,"axisX","bottom")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisX[0]=new se(this,"axisX",this.options.axisX,0,"axisX","left"))),this.data[u].axisX=this.axisX[0],this.axisX[0].dataSeries.push(this.data[u]);if("secondary"===this.data[u].axisXType)if(this.options.axisX2&&0<this.options.axisX2.length){if(!this.axisX2.length)for(l=0;l<this.options.axisX2.length;l++)"normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisX2[l]=new se(this,"axisX2",this.options.axisX2[l],l,"axisX","top")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisX2[l]=new se(this,"axisX2",this.options.axisX2[l],l,"axisX","right"));this.data[u].axisX=this.axisX2[0<=this.data[u].axisXIndex&&this.data[u].axisXIndex<this.axisX2.length?this.data[u].axisXIndex:0],this.axisX2[0<=this.data[u].axisXIndex&&this.data[u].axisXIndex<this.axisX2.length?this.data[u].axisXIndex:0].dataSeries.push(this.data[u])}else this.axisX2.length||("normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisX2[0]=new se(this,"axisX2",this.options.axisX2,0,"axisX","top")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisX2[0]=new se(this,"axisX2",this.options.axisX2,0,"axisX","right"))),this.data[u].axisX=this.axisX2[0],this.axisX2[0].dataSeries.push(this.data[u])}if(this.axisY){for(l=1;l<this.axisY.length;l++)void 0===this.axisY[l].options.gridThickness&&(this.axisY[l].gridThickness=0);for(l=0;l<this.axisY.length-1;l++)void 0===this.axisY[l].options.margin&&(this.axisY[l].margin=10)}if(this.axisY2){for(l=1;l<this.axisY2.length;l++)void 0===this.axisY2[l].options.gridThickness&&(this.axisY2[l].gridThickness=0);for(l=0;l<this.axisY2.length-1;l++)void 0===this.axisY2[l].options.margin&&(this.axisY2[l].margin=10)}if(this.axisY&&0<this.axisY.length&&this.axisY2&&0<this.axisY2.length&&(0<this.axisY[0].gridThickness&&void 0===this.axisY2[0].options.gridThickness?this.axisY2[0].gridThickness=0:0<this.axisY2[0].gridThickness&&void 0===this.axisY[0].options.gridThickness&&(this.axisY[0].gridThickness=0)),this.axisX)for(l=0;l<this.axisX.length;l++)void 0===this.axisX[l].options.gridThickness&&(this.axisX[l].gridThickness=0);if(this.axisX2)for(l=0;l<this.axisX2.length;l++)void 0===this.axisX2[l].options.gridThickness&&(this.axisX2[l].gridThickness=0);if(this.axisX&&0<this.axisX.length&&this.axisX2&&0<this.axisX2.length&&(0<this.axisX[0].gridThickness&&void 0===this.axisX2[0].options.gridThickness?this.axisX2[0].gridThickness=0:0<this.axisX2[0].gridThickness&&void 0===this.axisX[0].options.gridThickness&&(this.axisX[0].gridThickness=0)),l=!1,0<this._axes.length&&this.options.zoomEnabled&&(this.zoomEnabled||this.panEnabled))for(u=0;u<this._axes.length;u++)if(!j(this._axes[u].viewportMinimum)||!j(this._axes[u].viewportMaximum)){l=!0;break}if(l?(Pt(this._zoomButton,this._resetButton),this._toolBar.style.border=this.toolbar.buttonBorderThickness+"px solid "+this.toolbar.buttonBorderColor,this._zoomButton.style.borderRight=this.toolbar.buttonBorderThickness+"px solid "+this.toolbar.buttonBorderColor,this._resetButton.style.borderRight=(this.exportEnabled?this.toolbar.buttonBorderThickness:0)+"px solid "+this.toolbar.buttonBorderColor):(Li(this._zoomButton,this._resetButton),this._toolBar.style.border=this.toolbar.buttonBorderThickness+"px solid transparent",this.options.zoomEnabled&&(this.zoomEnabled=!0,this.panEnabled=!1)),function hr(S){St.fSDec&&S[Wi("`eeDwdouMhrudods")](Wi("e`u`@ohl`uhnoHuds`uhnoDoe"),function(){St._fTWm&&St._fTWm(S)})}(this),this._processData(),this.options.title&&(this.title=new dn(this,this.options.title),this.title.dockInsidePlotArea?r.push(this.title):this.title.setLayout()),this.options.subtitles)for(u=0;u<this.options.subtitles.length;u++)l=new Nt(this,this.options.subtitles[u],u),this.subtitles.push(l),l.dockInsidePlotArea?r.push(l):l.setLayout();for(this.legend=new ge(this,this.options.legend),u=0;u<this.data.length;u++)(this.data[u].showInLegend||"pie"===this.data[u].type||"doughnut"===this.data[u].type||"funnel"===this.data[u].type||"pyramid"===this.data[u].type)&&this.legend.dataSeries.push(this.data[u]);for(this.legend.dockInsidePlotArea?r.push(this.legend):this.legend.setLayout(),u=0;u<this._axes.length;u++)if(this._axes[u].scaleBreaks&&this._axes[u].scaleBreaks._appliedBreaks.length){Y?(this._breaksCanvas=gi(this.width,this.height),this._breaksCanvasCtx=this._breaksCanvas.getContext("2d")):(this._breaksCanvas=this.canvas,this._breaksCanvasCtx=this.ctx);break}this._preRenderCanvas=gi(this.width,this.height),this._preRenderCtx=this._preRenderCanvas.getContext("2d"),"normal"!==this.plotInfo.axisPlacement&&"xySwapped"!==this.plotInfo.axisPlacement||se.setLayout(this.axisX,this.axisX2,this.axisY,this.axisY2,this.plotInfo.axisPlacement,this.layoutManager.getFreeSpace())},k.prototype.renderElements=function(){var o=this._plotAreaElements;this.title&&!this.title.dockInsidePlotArea&&this.title.render();for(var r=0;r<this.subtitles.length;r++)this.subtitles[r].dockInsidePlotArea||this.subtitles[r].render();if(this.legend.dockInsidePlotArea||this.legend.render(),"normal"===this.plotInfo.axisPlacement||"xySwapped"===this.plotInfo.axisPlacement)se.render(this.axisX,this.axisX2,this.axisY,this.axisY2,this.plotInfo.axisPlacement);else{if("none"!==this.plotInfo.axisPlacement)return;this.preparePlotArea()}for(r=0;r<o.length;r++)o[r].setLayout(),o[r].render();var h,u=[];if(this.animatedRender){var l=gi(this.width,this.height);l.getContext("2d").drawImage(this.canvas,0,0,this.width,this.height)}for(function ws(S){if(!Mf){var k=!1,B=!1;void 0===Gi.Chart.creditHref?(S.creditHref=Wi("iuuqr;..b`ow`rkr/bnl."),S.creditText=Wi("B`ow`rKR/bnl")):(k=S.updateOption("creditText"),B=S.updateOption("creditHref")),S.creditHref&&S.creditText&&(S._creditLink||(S._creditLink=document.createElement("a"),S._creditLink.setAttribute("class","canvasjs-chart-credit"),S._creditLink.setAttribute("title","JavaScript Charts"),Tt(S._creditLink,{outline:"none",margin:"0px",position:"absolute",right:"2px",top:S.height-14+"px",color:"dimgrey",textDecoration:"none",fontSize:"11px",fontFamily:"Calibri, Lucida Grande, Lucida Sans Unicode, Arial, sans-serif"}),S._creditLink.setAttribute("tabIndex",-1),S._creditLink.setAttribute("target","_blank")),(0===S.renderCount||k||B)&&(S._creditLink.setAttribute("href",S.creditHref),S._creditLink.innerHTML=S.creditText),S._creditLink&&S.creditHref&&S.creditText?(S._creditLink.parentElement||S._canvasJSContainer.appendChild(S._creditLink),S._creditLink.style.top=S.height-14+"px"):S._creditLink.parentElement&&S._canvasJSContainer.removeChild(S._creditLink))}}(this),o=this.ctx.miterLimit,this.ctx.miterLimit=3,Y&&this._breaksCanvas&&(this._preRenderCtx.drawImage(this.canvas,0,0,this.width,this.height),this._preRenderCtx.drawImage(this._breaksCanvas,0,0,this.width,this.height),this._breaksCanvasCtx.globalCompositeOperation="source-atop",this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),this._preRenderCtx.clearRect(0,0,this.width,this.height)),r=0;r<this.plotInfo.plotTypes.length;r++)for(var p=this.plotInfo.plotTypes[r],m=0;m<p.plotUnits.length;m++){var _=p.plotUnits[m],w=null;_.targetCanvas&&Ts(_.targetCanvas),_.targetCanvas=null,this.animatedRender&&(_.targetCanvas=gi(this.width,this.height),_.targetCanvasCtx=_.targetCanvas.getContext("2d"),h=_.targetCanvasCtx.miterLimit,_.targetCanvasCtx.miterLimit=3),"line"===_.type?w=this.renderLine(_):"stepLine"===_.type?w=this.renderStepLine(_):"spline"===_.type?w=this.renderSpline(_):"column"===_.type?w=this.renderColumn(_):"bar"===_.type?w=this.renderBar(_):"area"===_.type?w=this.renderArea(_):"stepArea"===_.type?w=this.renderStepArea(_):"splineArea"===_.type?w=this.renderSplineArea(_):"stackedColumn"===_.type?w=this.renderStackedColumn(_):"stackedColumn100"===_.type?w=this.renderStackedColumn100(_):"stackedBar"===_.type?w=this.renderStackedBar(_):"stackedBar100"===_.type?w=this.renderStackedBar100(_):"stackedArea"===_.type?w=this.renderStackedArea(_):"stackedArea100"===_.type?w=this.renderStackedArea100(_):"bubble"===_.type?w=w=this.renderBubble(_):"scatter"===_.type?w=this.renderScatter(_):"pie"===_.type||"doughnut"===_.type?this.renderPie(_):"funnel"===_.type||"pyramid"===_.type?w=this.renderFunnel(_):"candlestick"===_.type||"ohlc"===_.type?w=this.renderCandlestick(_):"rangeColumn"===_.type?w=this.renderRangeColumn(_):"error"===_.type?w=this.renderError(_):"rangeBar"===_.type?w=this.renderRangeBar(_):"rangeArea"===_.type?w=this.renderRangeArea(_):"rangeSplineArea"===_.type?w=this.renderRangeSplineArea(_):"waterfall"===_.type?w=this.renderWaterfall(_):"boxAndWhisker"===_.type&&(w=this.renderBoxAndWhisker(_));for(var x=0;x<_.dataSeriesIndexes.length;x++)this._dataInRenderedOrder.push(this.data[_.dataSeriesIndexes[x]]);this.animatedRender&&(_.targetCanvasCtx.miterLimit=h,w&&u.push(w))}this.ctx.miterLimit=o,this.animatedRender&&this._breaksCanvasCtx&&u.push({source:this._breaksCanvasCtx,dest:this.plotArea.ctx,animationCallback:Se.fadeInAnimation,easingFunction:Se.easing.easeInQuad,animationBase:0,startTimePercent:.7}),this.animatedRender&&0<this._indexLabels.length&&(h=gi(this.width,this.height).getContext("2d"),u.push(this.renderIndexLabels(h)));var g=this;if(0<u.length)g.disableToolTip=!0,g._animator.animate(200,g.animationDuration,function(y){g.ctx.clearRect(0,0,g.width,g.height),g.ctx.drawImage(l,0,0,Math.floor(g.width*mi),Math.floor(g.height*mi),0,0,g.width,g.height);for(var b=0;b<u.length;b++)w=u[b],1>y&&void 0!==w.startTimePercent?y>=w.startTimePercent&&w.animationCallback(w.easingFunction(y-w.startTimePercent,0,1,1-w.startTimePercent),w):w.animationCallback(w.easingFunction(y,0,1,1),w);g.dispatchEvent("dataAnimationIterationEnd",{chart:g})},function(){u=[];for(var y=0;y<g.plotInfo.plotTypes.length;y++)for(var b=g.plotInfo.plotTypes[y],d=0;d<b.plotUnits.length;d++){var C=b.plotUnits[d];C.targetCanvas&&Ts(C.targetCanvas),C.targetCanvas=null}l=null,g.disableToolTip=!1,g.dispatchEvent("dataAnimationEnd",{chart:g})});else{if(g._breaksCanvas)if(Y)g.plotArea.ctx.drawImage(g._breaksCanvas,0,0,this.width,this.height);else for(x=0;x<g._axes.length;x++)g._axes[x].createMask();0<g._indexLabels.length&&g.renderIndexLabels(),g.dispatchEvent("dataAnimationIterationEnd",{chart:g}),g.dispatchEvent("dataAnimationEnd",{chart:g})}for(this.attachPlotAreaEventHandlers(),this.zoomEnabled||this.panEnabled||!this._zoomButton||"none"===this._zoomButton.style.display||Li(this._zoomButton,this._resetButton),this.toolTip._updateToolTip(),this.renderCount++,Ms&&(g=this,setTimeout(function(){var y=document.getElementById("ghostCanvasCopy");y&&(rn(y,g.width,g.height),y.getContext("2d").drawImage(g._eventManager.ghostCanvas,0,0))},2e3)),this._breaksCanvas&&(delete this._breaksCanvas,delete this._breaksCanvasCtx),x=0;x<this._axes.length;x++)this._axes[x].maskCanvas&&(delete this._axes[x].maskCanvas,delete this._axes[x].maskCtx)},k.prototype.render=function(r){r&&(this.options=r),this._initialize(),this.setLayout(),this.renderElements(),this._preRenderCanvas&&Ts(this._preRenderCanvas)},k.prototype.attachPlotAreaEventHandlers=function(){this.attachEvent({context:this,chart:this,mousedown:this._plotAreaMouseDown,mouseup:this._plotAreaMouseUp,mousemove:this._plotAreaMouseMove,cursor:this.panEnabled?"move":"default",capture:!0,bounds:this.plotArea})},k.prototype.categoriseDataSeries=function(){for(var r="",u=0;u<this.data.length;u++)if((r=this.data[u]).dataPoints&&0!==r.dataPoints.length&&r.visible&&0<=k._supportedChartTypes.indexOf(r.type)){for(var l=null,o=!1,h=null,p=!1,m=0;m<this.plotInfo.plotTypes.length;m++)if(this.plotInfo.plotTypes[m].type===r.type){o=!0,l=this.plotInfo.plotTypes[m];break}for(o||this.plotInfo.plotTypes.push(l={type:r.type,totalDataSeries:0,plotUnits:[]}),m=0;m<l.plotUnits.length;m++)if(l.plotUnits[m].axisYType===r.axisYType&&l.plotUnits[m].axisXType===r.axisXType&&l.plotUnits[m].axisYIndex===r.axisYIndex&&l.plotUnits[m].axisXIndex===r.axisXIndex){p=!0,h=l.plotUnits[m];break}p||l.plotUnits.push(h={type:r.type,previousDataSeriesCount:0,index:l.plotUnits.length,plotType:l,axisXType:r.axisXType,axisYType:r.axisYType,axisYIndex:r.axisYIndex,axisXIndex:r.axisXIndex,axisY:"primary"===r.axisYType?this.axisY[0<=r.axisYIndex&&r.axisYIndex<this.axisY.length?r.axisYIndex:0]:this.axisY2[0<=r.axisYIndex&&r.axisYIndex<this.axisY2.length?r.axisYIndex:0],axisX:"primary"===r.axisXType?this.axisX[0<=r.axisXIndex&&r.axisXIndex<this.axisX.length?r.axisXIndex:0]:this.axisX2[0<=r.axisXIndex&&r.axisXIndex<this.axisX2.length?r.axisXIndex:0],dataSeriesIndexes:[],yTotals:[],yAbsTotals:[]}),l.totalDataSeries++,h.dataSeriesIndexes.push(u),r.plotUnit=h}for(u=0;u<this.plotInfo.plotTypes.length;u++)for(l=this.plotInfo.plotTypes[u],m=r=0;m<l.plotUnits.length;m++)l.plotUnits[m].previousDataSeriesCount=r,r+=l.plotUnits[m].dataSeriesIndexes.length},k.prototype.assignIdToDataPoints=function(){for(var r=0;r<this.data.length;r++){var u=this.data[r];if(u.dataPoints)for(var l=u.dataPoints.length,o=0;o<l;o++)u.dataPointIds[o]=++this._eventManager.lastObjectId}},k.prototype._processData=function(){this.assignIdToDataPoints(),this.categoriseDataSeries();for(var r=0;r<this.plotInfo.plotTypes.length;r++)for(var u=this.plotInfo.plotTypes[r],l=0;l<u.plotUnits.length;l++){var o=u.plotUnits[l];"line"===o.type||"stepLine"===o.type||"spline"===o.type||"column"===o.type||"area"===o.type||"stepArea"===o.type||"splineArea"===o.type||"bar"===o.type||"bubble"===o.type||"scatter"===o.type?this._processMultiseriesPlotUnit(o):"stackedColumn"===o.type||"stackedBar"===o.type||"stackedArea"===o.type?this._processStackedPlotUnit(o):"stackedColumn100"===o.type||"stackedBar100"===o.type||"stackedArea100"===o.type?this._processStacked100PlotUnit(o):"candlestick"===o.type||"ohlc"===o.type||"rangeColumn"===o.type||"rangeBar"===o.type||"rangeArea"===o.type||"rangeSplineArea"===o.type||"error"===o.type||"boxAndWhisker"===o.type?this._processMultiYPlotUnit(o):"waterfall"===o.type&&this._processSpecificPlotUnit(o)}this.calculateAutoBreaks()},k.prototype._processMultiseriesPlotUnit=function(r){if(r.dataSeriesIndexes&&!(1>r.dataSeriesIndexes.length))for(var o,h,u=r.axisY.dataInfo,l=r.axisX.dataInfo,p=!1,m=0;m<r.dataSeriesIndexes.length;m++){var y,_=this.data[r.dataSeriesIndexes[m]],w=0,x=!1,g=!1;if("normal"===_.axisPlacement||"xySwapped"===_.axisPlacement)var b=r.axisX.sessionVariables.newViewportMinimum?r.axisX.sessionVariables.newViewportMinimum:this.options.axisX&&this.options.axisX.viewportMinimum?this.options.axisX.viewportMinimum:this.options.axisX&&this.options.axisX.minimum?this.options.axisX.minimum:r.axisX.logarithmic?0:-1/0,d=r.axisX.sessionVariables.newViewportMaximum?r.axisX.sessionVariables.newViewportMaximum:this.options.axisX&&this.options.axisX.viewportMaximum?this.options.axisX.viewportMaximum:this.options.axisX&&this.options.axisX.maximum?this.options.axisX.maximum:1/0;for((_.dataPoints[w].x&&_.dataPoints[w].x.getTime||"dateTime"===_.xValueType)&&(p=!0),w=0;w<_.dataPoints.length;w++){if(void 0===_.dataPoints[w].x&&(_.dataPoints[w].x=w+(r.axisX.logarithmic?1:0)),_.dataPoints[w].x.getTime?(p=!0,o=_.dataPoints[w].x.getTime()):o=_.dataPoints[w].x,h=_.dataPoints[w].y,o<l.min&&(l.min=o),o>l.max&&(l.max=o),h<u.min&&"number"==typeof h&&(u.min=h),h>u.max&&"number"==typeof h&&(u.max=h),0<w){if(r.axisX.logarithmic){var C=o/_.dataPoints[w-1].x;1>C&&(C=1/C),l.minDiff>C&&1!==C&&(l.minDiff=C)}else 0>(C=o-_.dataPoints[w-1].x)&&(C*=-1),l.minDiff>C&&0!==C&&(l.minDiff=C);null!==h&&null!==_.dataPoints[w-1].y&&(r.axisY.logarithmic?(1>(C=h/_.dataPoints[w-1].y)&&(C=1/C),u.minDiff>C&&1!==C&&(u.minDiff=C)):(0>(C=h-_.dataPoints[w-1].y)&&(C*=-1),u.minDiff>C&&0!==C&&(u.minDiff=C)))}if(o<b&&!x)null!==h&&(y=o);else{if(!x&&(x=!0,0<w)){w-=2;continue}if(o>d&&!g)g=!0;else if(o>d&&g)continue;_.dataPoints[w].label&&(r.axisX.labels[o]=_.dataPoints[w].label),o<l.viewPortMin&&(l.viewPortMin=o),o>l.viewPortMax&&(l.viewPortMax=o),null===h?l.viewPortMin===o&&y<o&&(l.viewPortMin=y):(h<u.viewPortMin&&"number"==typeof h&&(u.viewPortMin=h),h>u.viewPortMax&&"number"==typeof h&&(u.viewPortMax=h))}}_.axisX.valueType=_.xValueType=p?"dateTime":"number"}},k.prototype._processStackedPlotUnit=function(r){if(r.dataSeriesIndexes&&!(1>r.dataSeriesIndexes.length)){for(var o,h,u=r.axisY.dataInfo,l=r.axisX.dataInfo,p=!1,m=[],_=[],w=1/0,x=-1/0,g=0;g<r.dataSeriesIndexes.length;g++){var A,y=this.data[r.dataSeriesIndexes[g]],b=0,d=!1,C=!1;if("normal"===y.axisPlacement||"xySwapped"===y.axisPlacement)var P=r.axisX.sessionVariables.newViewportMinimum?r.axisX.sessionVariables.newViewportMinimum:this.options.axisX&&this.options.axisX.viewportMinimum?this.options.axisX.viewportMinimum:this.options.axisX&&this.options.axisX.minimum?this.options.axisX.minimum:-1/0,T=r.axisX.sessionVariables.newViewportMaximum?r.axisX.sessionVariables.newViewportMaximum:this.options.axisX&&this.options.axisX.viewportMaximum?this.options.axisX.viewportMaximum:this.options.axisX&&this.options.axisX.maximum?this.options.axisX.maximum:1/0;for((y.dataPoints[b].x&&y.dataPoints[b].x.getTime||"dateTime"===y.xValueType)&&(p=!0),b=0;b<y.dataPoints.length;b++){if(void 0===y.dataPoints[b].x&&(y.dataPoints[b].x=b+(r.axisX.logarithmic?1:0)),y.dataPoints[b].x.getTime?(p=!0,o=y.dataPoints[b].x.getTime()):o=y.dataPoints[b].x,h=j(y.dataPoints[b].y)?0:y.dataPoints[b].y,o<l.min&&(l.min=o),o>l.max&&(l.max=o),0<b){if(r.axisX.logarithmic){var E=o/y.dataPoints[b-1].x;1>E&&(E=1/E),l.minDiff>E&&1!==E&&(l.minDiff=E)}else 0>(E=o-y.dataPoints[b-1].x)&&(E*=-1),l.minDiff>E&&0!==E&&(l.minDiff=E);null!==h&&null!==y.dataPoints[b-1].y&&(r.axisY.logarithmic?0<h&&(1>(E=h/y.dataPoints[b-1].y)&&(E=1/E),u.minDiff>E&&1!==E&&(u.minDiff=E)):(0>(E=h-y.dataPoints[b-1].y)&&(E*=-1),u.minDiff>E&&0!==E&&(u.minDiff=E)))}if(o<P&&!d)null!==y.dataPoints[b].y&&(A=o);else{if(!d&&(d=!0,0<b)){b-=2;continue}if(o>T&&!C)C=!0;else if(o>T&&C)continue;y.dataPoints[b].label&&(r.axisX.labels[o]=y.dataPoints[b].label),o<l.viewPortMin&&(l.viewPortMin=o),o>l.viewPortMax&&(l.viewPortMax=o),null===y.dataPoints[b].y?l.viewPortMin===o&&A<o&&(l.viewPortMin=A):(r.yTotals[o]=(r.yTotals[o]?r.yTotals[o]:0)+h,r.yAbsTotals[o]=(r.yAbsTotals[o]?r.yAbsTotals[o]:0)+Math.abs(h),0<=h?m[o]?m[o]+=h:(m[o]=h,w=Math.min(h,w)):_[o]?_[o]+=h:(_[o]=h,x=Math.max(h,x)))}}r.axisY.scaleBreaks&&r.axisY.scaleBreaks.autoCalculate&&1<=r.axisY.scaleBreaks.maxNumberOfAutoBreaks&&(u.dataPointYPositiveSums?(u.dataPointYPositiveSums.push.apply(u.dataPointYPositiveSums,m),u.dataPointYNegativeSums.push.apply(u.dataPointYPositiveSums,_)):(u.dataPointYPositiveSums=m,u.dataPointYNegativeSums=_)),y.axisX.valueType=y.xValueType=p?"dateTime":"number"}for(b in m)m.hasOwnProperty(b)&&!isNaN(b)&&((r=m[b])<u.min&&(u.min=Math.min(r,w)),r>u.max&&(u.max=r),b<l.viewPortMin||b>l.viewPortMax||(r<u.viewPortMin&&(u.viewPortMin=Math.min(r,w)),r>u.viewPortMax&&(u.viewPortMax=r)));for(b in _)_.hasOwnProperty(b)&&!isNaN(b)&&((r=_[b])<u.min&&(u.min=r),r>u.max&&(u.max=Math.max(r,x)),b<l.viewPortMin||b>l.viewPortMax||(r<u.viewPortMin&&(u.viewPortMin=r),r>u.viewPortMax&&(u.viewPortMax=Math.max(r,x))))}},k.prototype._processStacked100PlotUnit=function(r){if(r.dataSeriesIndexes&&!(1>r.dataSeriesIndexes.length)){for(var o,h,u=r.axisY.dataInfo,l=r.axisX.dataInfo,p=!1,m=!1,_=!1,w=[],x=0;x<r.dataSeriesIndexes.length;x++){var C,g=this.data[r.dataSeriesIndexes[x]],y=0,b=!1,d=!1;if("normal"===g.axisPlacement||"xySwapped"===g.axisPlacement)var A=r.axisX.sessionVariables.newViewportMinimum?r.axisX.sessionVariables.newViewportMinimum:this.options.axisX&&this.options.axisX.viewportMinimum?this.options.axisX.viewportMinimum:this.options.axisX&&this.options.axisX.minimum?this.options.axisX.minimum:-1/0,P=r.axisX.sessionVariables.newViewportMaximum?r.axisX.sessionVariables.newViewportMaximum:this.options.axisX&&this.options.axisX.viewportMaximum?this.options.axisX.viewportMaximum:this.options.axisX&&this.options.axisX.maximum?this.options.axisX.maximum:1/0;for((g.dataPoints[y].x&&g.dataPoints[y].x.getTime||"dateTime"===g.xValueType)&&(p=!0),y=0;y<g.dataPoints.length;y++){if(void 0===g.dataPoints[y].x&&(g.dataPoints[y].x=y+(r.axisX.logarithmic?1:0)),g.dataPoints[y].x.getTime?(p=!0,o=g.dataPoints[y].x.getTime()):o=g.dataPoints[y].x,h=j(g.dataPoints[y].y)?null:g.dataPoints[y].y,o<l.min&&(l.min=o),o>l.max&&(l.max=o),0<y){if(r.axisX.logarithmic){var T=o/g.dataPoints[y-1].x;1>T&&(T=1/T),l.minDiff>T&&1!==T&&(l.minDiff=T)}else 0>(T=o-g.dataPoints[y-1].x)&&(T*=-1),l.minDiff>T&&0!==T&&(l.minDiff=T);j(h)||null===g.dataPoints[y-1].y||(r.axisY.logarithmic?0<h&&(1>(T=h/g.dataPoints[y-1].y)&&(T=1/T),u.minDiff>T&&1!==T&&(u.minDiff=T)):(0>(T=h-g.dataPoints[y-1].y)&&(T*=-1),u.minDiff>T&&0!==T&&(u.minDiff=T)))}if(o<A&&!b)null!==h&&(C=o);else{if(!b&&(b=!0,0<y)){y-=2;continue}if(o>P&&!d)d=!0;else if(o>P&&d)continue;g.dataPoints[y].label&&(r.axisX.labels[o]=g.dataPoints[y].label),o<l.viewPortMin&&(l.viewPortMin=o),o>l.viewPortMax&&(l.viewPortMax=o),null===h?l.viewPortMin===o&&C<o&&(l.viewPortMin=C):(r.yTotals[o]=(r.yTotals[o]?r.yTotals[o]:0)+h,r.yAbsTotals[o]=(r.yAbsTotals[o]?r.yAbsTotals[o]:0)+Math.abs(h),0<=h?m=!0:0>h&&(_=!0),w[o]=w[o]?w[o]+Math.abs(h):Math.abs(h))}}g.axisX.valueType=g.xValueType=p?"dateTime":"number"}r.axisY.logarithmic?(u.max=j(u.viewPortMax)?99*Math.pow(r.axisY.logarithmBase,-.05):Math.max(u.viewPortMax,99*Math.pow(r.axisY.logarithmBase,-.05)),u.min=j(u.viewPortMin)?1:Math.min(u.viewPortMin,1)):m&&!_?(u.max=j(u.viewPortMax)?99:Math.max(u.viewPortMax,99),u.min=j(u.viewPortMin)?1:Math.min(u.viewPortMin,1)):m&&_?(u.max=j(u.viewPortMax)?99:Math.max(u.viewPortMax,99),u.min=j(u.viewPortMin)?-99:Math.min(u.viewPortMin,-99)):!m&&_&&(u.max=j(u.viewPortMax)?-1:Math.max(u.viewPortMax,-1),u.min=j(u.viewPortMin)?-99:Math.min(u.viewPortMin,-99)),u.viewPortMin=u.min,u.viewPortMax=u.max,r.dataPointYSums=w}},k.prototype._processMultiYPlotUnit=function(r){if(r.dataSeriesIndexes&&!(1>r.dataSeriesIndexes.length))for(var o,h,p,m,u=r.axisY.dataInfo,l=r.axisX.dataInfo,_=!1,w=0;w<r.dataSeriesIndexes.length;w++){var d,C,A,x=this.data[r.dataSeriesIndexes[w]],g=0,y=!1,b=!1;if("normal"===x.axisPlacement||"xySwapped"===x.axisPlacement)var P=r.axisX.sessionVariables.newViewportMinimum?r.axisX.sessionVariables.newViewportMinimum:this.options.axisX&&this.options.axisX.viewportMinimum?this.options.axisX.viewportMinimum:this.options.axisX&&this.options.axisX.minimum?this.options.axisX.minimum:r.axisX.logarithmic?0:-1/0,T=r.axisX.sessionVariables.newViewportMaximum?r.axisX.sessionVariables.newViewportMaximum:this.options.axisX&&this.options.axisX.viewportMaximum?this.options.axisX.viewportMaximum:this.options.axisX&&this.options.axisX.maximum?this.options.axisX.maximum:1/0;for((x.dataPoints[g].x&&x.dataPoints[g].x.getTime||"dateTime"===x.xValueType)&&(_=!0),g=0;g<x.dataPoints.length;g++){if(void 0===x.dataPoints[g].x&&(x.dataPoints[g].x=g+(r.axisX.logarithmic?1:0)),x.dataPoints[g].x.getTime?(_=!0,o=x.dataPoints[g].x.getTime()):o=x.dataPoints[g].x,(h=x.dataPoints[g].y)&&h.length){p=Math.min.apply(null,h),m=Math.max.apply(null,h),C=!0;for(var E=0;E<h.length;E++)null===h.k&&(C=!1);C&&(y||(A=d),d=o)}if(o<l.min&&(l.min=o),o>l.max&&(l.max=o),p<u.min&&(u.min=p),m>u.max&&(u.max=m),0<g&&(r.axisX.logarithmic?(1>(C=o/x.dataPoints[g-1].x)&&(C=1/C),l.minDiff>C&&1!==C&&(l.minDiff=C)):(0>(C=o-x.dataPoints[g-1].x)&&(C*=-1),l.minDiff>C&&0!==C&&(l.minDiff=C)),h&&null!==h[0]&&x.dataPoints[g-1].y&&null!==x.dataPoints[g-1].y[0]&&(r.axisY.logarithmic?(1>(C=h[0]/x.dataPoints[g-1].y[0])&&(C=1/C),u.minDiff>C&&1!==C&&(u.minDiff=C)):(0>(C=h[0]-x.dataPoints[g-1].y[0])&&(C*=-1),u.minDiff>C&&0!==C&&(u.minDiff=C)))),!(o<P)||y){if(!y&&(y=!0,0<g)){g-=2,d=A;continue}if(o>T&&!b)b=!0;else if(o>T&&b)continue;if(x.dataPoints[g].label&&(r.axisX.labels[o]=x.dataPoints[g].label),o<l.viewPortMin&&(l.viewPortMin=o),o>l.viewPortMax&&(l.viewPortMax=o),l.viewPortMin===o&&h)for(E=0;E<h.length;E++)if(null===h[E]&&d<o){l.viewPortMin=d;break}null===h?l.viewPortMin===o&&d<o&&(l.viewPortMin=d):(p<u.viewPortMin&&(u.viewPortMin=p),m>u.viewPortMax&&(u.viewPortMax=m))}}x.axisX.valueType=x.xValueType=_?"dateTime":"number"}},k.prototype._processSpecificPlotUnit=function(r){if("waterfall"===r.type&&r.dataSeriesIndexes&&!(1>r.dataSeriesIndexes.length))for(var o,h,u=r.axisY.dataInfo,l=r.axisX.dataInfo,p=!1,m=0;m<r.dataSeriesIndexes.length;m++){var _=this.data[r.dataSeriesIndexes[m]],w=0,x=!1,g=!1,y=o=0;if("normal"===_.axisPlacement||"xySwapped"===_.axisPlacement)var b=r.axisX.sessionVariables.newViewportMinimum?r.axisX.sessionVariables.newViewportMinimum:this.options.axisX&&this.options.axisX.viewportMinimum?this.options.axisX.viewportMinimum:this.options.axisX&&this.options.axisX.minimum?this.options.axisX.minimum:r.axisX.logarithmic?0:-1/0,d=r.axisX.sessionVariables.newViewportMaximum?r.axisX.sessionVariables.newViewportMaximum:this.options.axisX&&this.options.axisX.viewportMaximum?this.options.axisX.viewportMaximum:this.options.axisX&&this.options.axisX.maximum?this.options.axisX.maximum:1/0;for((_.dataPoints[w].x&&_.dataPoints[w].x.getTime||"dateTime"===_.xValueType)&&(p=!0),w=0;w<_.dataPoints.length;w++)void 0!==_.dataPoints[w].isCumulativeSum&&!0===_.dataPoints[w].isCumulativeSum?(_.dataPointEOs[w].cumulativeSumYStartValue=0,_.dataPointEOs[w].cumulativeSum=0===w?0:_.dataPointEOs[w-1].cumulativeSum,_.dataPoints[w].y=0===w?0:_.dataPointEOs[w-1].cumulativeSum):void 0!==_.dataPoints[w].isIntermediateSum&&!0===_.dataPoints[w].isIntermediateSum?(_.dataPointEOs[w].cumulativeSumYStartValue=y,_.dataPointEOs[w].cumulativeSum=0===w?0:_.dataPointEOs[w-1].cumulativeSum,_.dataPoints[w].y=0===w?0:o,y=0===w?0:_.dataPointEOs[w-1].cumulativeSum,o=0):(h="number"!=typeof _.dataPoints[w].y?0:_.dataPoints[w].y,_.dataPointEOs[w].cumulativeSumYStartValue=0===w?0:_.dataPointEOs[w-1].cumulativeSum,_.dataPointEOs[w].cumulativeSum=0===w?h:_.dataPointEOs[w-1].cumulativeSum+h,o+=h);for(w=0;w<_.dataPoints.length;w++)if(void 0===_.dataPoints[w].x&&(_.dataPoints[w].x=w+(r.axisX.logarithmic?1:0)),_.dataPoints[w].x.getTime?(p=!0,o=_.dataPoints[w].x.getTime()):o=_.dataPoints[w].x,h=_.dataPoints[w].y,o<l.min&&(l.min=o),o>l.max&&(l.max=o),_.dataPointEOs[w].cumulativeSum<u.min&&(u.min=_.dataPointEOs[w].cumulativeSum),_.dataPointEOs[w].cumulativeSum>u.max&&(u.max=_.dataPointEOs[w].cumulativeSum),0<w&&(r.axisX.logarithmic?(1>(y=o/_.dataPoints[w-1].x)&&(y=1/y),l.minDiff>y&&1!==y&&(l.minDiff=y)):(0>(y=o-_.dataPoints[w-1].x)&&(y*=-1),l.minDiff>y&&0!==y&&(l.minDiff=y)),null!==h&&null!==_.dataPoints[w-1].y&&(r.axisY.logarithmic?(1>(h=_.dataPointEOs[w].cumulativeSum/_.dataPointEOs[w-1].cumulativeSum)&&(h=1/h),u.minDiff>h&&1!==h&&(u.minDiff=h)):(0>(h=_.dataPointEOs[w].cumulativeSum-_.dataPointEOs[w-1].cumulativeSum)&&(h*=-1),u.minDiff>h&&0!==h&&(u.minDiff=h)))),!(o<b)||x){if(!x&&(x=!0,0<w)){w-=2;continue}if(o>d&&!g)g=!0;else if(o>d&&g)continue;_.dataPoints[w].label&&(r.axisX.labels[o]=_.dataPoints[w].label),o<l.viewPortMin&&(l.viewPortMin=o),o>l.viewPortMax&&(l.viewPortMax=o),0<w&&(_.dataPointEOs[w-1].cumulativeSum<u.viewPortMin&&(u.viewPortMin=_.dataPointEOs[w-1].cumulativeSum),_.dataPointEOs[w-1].cumulativeSum>u.viewPortMax&&(u.viewPortMax=_.dataPointEOs[w-1].cumulativeSum)),_.dataPointEOs[w].cumulativeSum<u.viewPortMin&&(u.viewPortMin=_.dataPointEOs[w].cumulativeSum),_.dataPointEOs[w].cumulativeSum>u.viewPortMax&&(u.viewPortMax=_.dataPointEOs[w].cumulativeSum)}_.axisX.valueType=_.xValueType=p?"dateTime":"number"}},k.prototype.calculateAutoBreaks=function(){function u(C){if(C.dataSeriesIndexes&&!(1>C.dataSeriesIndexes.length)){var A=C.axisX.scaleBreaks&&C.axisX.scaleBreaks.autoCalculate&&1<=C.axisX.scaleBreaks.maxNumberOfAutoBreaks,P=C.axisY.scaleBreaks&&C.axisY.scaleBreaks.autoCalculate&&1<=C.axisY.scaleBreaks.maxNumberOfAutoBreaks;if(A||P)for(var T,ae,E=(V=C.axisX.dataInfo).min,F=V.max,H=(ee=C.axisY.dataInfo).min,z=ee.max,V=V._dataRanges,ee=ee._dataRanges,G=0,K=0;K<C.dataSeriesIndexes.length;K++){var J=h.data[C.dataSeriesIndexes[K]];if(!(4>J.dataPoints.length))for(G=0;G<J.dataPoints.length;G++)if(A&&(ae=(F+1-E)*Math.max(parseFloat(C.axisX.scaleBreaks.collapsibleThreshold)||10,10)/100,(T=J.dataPoints[G].x.getTime?J.dataPoints[G].x.getTime():J.dataPoints[G].x)<V[ae=Math.floor((T-E)/ae)].min&&(V[ae].min=T),T>V[ae].max&&(V[ae].max=T)),P){var U=(z+1-H)*Math.max(parseFloat(C.axisY.scaleBreaks.collapsibleThreshold)||10,10)/100;if((T="waterfall"===C.type?J.dataPointEOs[G].cumulativeSum:J.dataPoints[G].y)&&T.length)for(var O=0;O<T.length;O++)ae=Math.floor((T[O]-H)/U),T[O]<ee[ae].min&&(ee[ae].min=T[O]),T[O]>ee[ae].max&&(ee[ae].max=T[O]);else j(T)||(T<ee[ae=Math.floor((T-H)/U)].min&&(ee[ae].min=T),T>ee[ae].max&&(ee[ae].max=T))}}}}function l(C){if(C.dataSeriesIndexes&&!(1>C.dataSeriesIndexes.length)&&C.axisX.scaleBreaks&&C.axisX.scaleBreaks.autoCalculate&&1<=C.axisX.scaleBreaks.maxNumberOfAutoBreaks)for(var F,A=C.axisX.dataInfo,P=A.min,T=A.max,E=A._dataRanges,H=0,z=0;z<C.dataSeriesIndexes.length;z++){var V=h.data[C.dataSeriesIndexes[z]];if(!(4>V.dataPoints.length))for(H=0;H<V.dataPoints.length;H++)F=(T+1-P)*Math.max(parseFloat(C.axisX.scaleBreaks.collapsibleThreshold)||10,10)/100,(A=V.dataPoints[H].x.getTime?V.dataPoints[H].x.getTime():V.dataPoints[H].x)<E[F=Math.floor((A-P)/F)].min&&(E[F].min=A),A>E[F].max&&(E[F].max=A)}}for(var o,h=this,p=!1,m=0;m<this._axes.length;m++)if(this._axes[m].scaleBreaks&&this._axes[m].scaleBreaks.autoCalculate&&1<=this._axes[m].scaleBreaks.maxNumberOfAutoBreaks){p=!0,this._axes[m].dataInfo._dataRanges=[];for(var _=0;_<100/Math.max(parseFloat(this._axes[m].scaleBreaks.collapsibleThreshold)||10,10);_++)this._axes[m].dataInfo._dataRanges.push({min:1/0,max:-1/0})}if(p){for(m=0;m<this.plotInfo.plotTypes.length;m++)for(p=this.plotInfo.plotTypes[m],_=0;_<p.plotUnits.length;_++)"line"===(o=p.plotUnits[_]).type||"stepLine"===o.type||"spline"===o.type||"column"===o.type||"area"===o.type||"stepArea"===o.type||"splineArea"===o.type||"bar"===o.type||"bubble"===o.type||"scatter"===o.type||"candlestick"===o.type||"ohlc"===o.type||"rangeColumn"===o.type||"rangeBar"===o.type||"rangeArea"===o.type||"rangeSplineArea"===o.type||"waterfall"===o.type||"error"===o.type||"boxAndWhisker"===o.type?u(o):0<=o.type.indexOf("stacked")&&l(o);for(m=0;m<this._axes.length;m++)if(this._axes[m].dataInfo._dataRanges){var w=this._axes[m].dataInfo.min;o=(this._axes[m].dataInfo.max+1-w)*Math.max(parseFloat(this._axes[m].scaleBreaks.collapsibleThreshold)||10,10)/100;var g,y,x=this._axes[m].dataInfo._dataRanges;if(p=[],this._axes[m].dataInfo.dataPointYPositiveSums){var b=this._axes[m].dataInfo.dataPointYPositiveSums;for(_ in g=x,b)if(b.hasOwnProperty(_)&&!isNaN(_)&&!j(y=b[_])){var d=Math.floor((y-w)/o);y<g[d].min&&(g[d].min=y),y>g[d].max&&(g[d].max=y)}delete this._axes[m].dataInfo.dataPointYPositiveSums}if(this._axes[m].dataInfo.dataPointYNegativeSums){for(_ in g=x,b=this._axes[m].dataInfo.dataPointYNegativeSums)b.hasOwnProperty(_)&&!isNaN(_)&&(j(y=-1*b[_])||(y<g[d=Math.floor((y-w)/o)].min&&(g[d].min=y),y>g[d].max&&(g[d].max=y)));delete this._axes[m].dataInfo.dataPointYNegativeSums}for(_=0;_<x.length-1;_++)if(g=x[_].max,isFinite(g))for(;_<x.length-1;){if(w=x[_+1].min,isFinite(w)){(y=w-g)>o&&p.push({diff:y,start:g,end:w});break}_++}if(this._axes[m].scaleBreaks.customBreaks)for(_=0;_<this._axes[m].scaleBreaks.customBreaks.length;_++)for(o=0;o<p.length;o++)(this._axes[m].scaleBreaks.customBreaks[_].startValue<=p[o].start&&p[o].start<=this._axes[m].scaleBreaks.customBreaks[_].endValue||this._axes[m].scaleBreaks.customBreaks[_].startValue<=p[o].start&&p[o].start<=this._axes[m].scaleBreaks.customBreaks[_].endValue||p[o].start<=this._axes[m].scaleBreaks.customBreaks[_].startValue&&this._axes[m].scaleBreaks.customBreaks[_].startValue<=p[o].end||p[o].start<=this._axes[m].scaleBreaks.customBreaks[_].endValue&&this._axes[m].scaleBreaks.customBreaks[_].endValue<=p[o].end)&&(p.splice(o,1),o--);for(p.sort(function(A,P){return P.diff-A.diff}),_=0;_<Math.min(p.length,this._axes[m].scaleBreaks.maxNumberOfAutoBreaks);_++)C=p[_].start,A=p[_].end,P=this._axes[m].logarithmic?this._axes[m].dataInfo.max/this._axes[m].dataInfo.min:this._axes[m].dataInfo.max-this._axes[m].dataInfo.min,o=this._axes[m].logarithmic?(1>=(P=Math.pow(Math.min(P*C/A,A/C),.2))&&(P=Math.pow(1>C?1/C:Math.min(A/C,C),.25)),{startValue:C*P,endValue:A/P}):(0>=(P=.2*Math.min(P-A+C,A-C))&&(P=.25*Math.min(A-C,Math.abs(C))),{startValue:C+P,endValue:A-P}),this._axes[m].scaleBreaks.autoBreaks.push(new st(this,"autoBreaks",o,_,++this._eventManager.lastObjectId,this._axes[m].scaleBreaks)),this._axes[m].scaleBreaks._appliedBreaks.push(this._axes[m].scaleBreaks.autoBreaks[this._axes[m].scaleBreaks.autoBreaks.length-1]);this._axes[m].scaleBreaks._appliedBreaks.sort(function(A,P){return A.startValue-P.startValue})}}var C,A,P},k.prototype.renderCrosshairs=function(r){for(var u=0;u<this.axisX.length;u++)this.axisX[u]!=r&&this.axisX[u].crosshair&&this.axisX[u].crosshair.enabled&&!this.axisX[u].crosshair._hidden&&this.axisX[u].showCrosshair(this.axisX[u].crosshair._updatedValue);for(u=0;u<this.axisX2.length;u++)this.axisX2[u]!=r&&this.axisX2[u].crosshair&&this.axisX2[u].crosshair.enabled&&!this.axisX2[u].crosshair._hidden&&this.axisX2[u].showCrosshair(this.axisX2[u].crosshair._updatedValue);for(u=0;u<this.axisY.length;u++)this.axisY[u]!=r&&this.axisY[u].crosshair&&this.axisY[u].crosshair.enabled&&!this.axisY[u].crosshair._hidden&&this.axisY[u].showCrosshair(this.axisY[u].crosshair._updatedValue);for(u=0;u<this.axisY2.length;u++)this.axisY2[u]!=r&&this.axisY2[u].crosshair&&this.axisY2[u].crosshair.enabled&&!this.axisY2[u].crosshair._hidden&&this.axisY2[u].showCrosshair(this.axisY2[u].crosshair._updatedValue)},k.prototype.getDataPointAtXY=function(r,u,l){l=l||!1;for(var o=[],h=this._dataInRenderedOrder.length-1;0<=h;h--){var p;(p=this._dataInRenderedOrder[h].getDataPointAtXY(r,u,l))&&o.push(p)}for(r=null,u=!1,l=0;l<o.length;l++)if(("line"===o[l].dataSeries.type||"stepLine"===o[l].dataSeries.type||"area"===o[l].dataSeries.type||"stepArea"===o[l].dataSeries.type)&&(h=Ct("markerSize",o[l].dataPoint,o[l].dataSeries)||8,o[l].distance<=h/2)){u=!0;break}for(l=0;l<o.length;l++)u&&"line"!==o[l].dataSeries.type&&"stepLine"!==o[l].dataSeries.type&&"area"!==o[l].dataSeries.type&&"stepArea"!==o[l].dataSeries.type||(r?o[l].distance<=r.distance&&(r=o[l]):r=o[l]);return r},k.prototype.getObjectAtXY=function(r,u,l){var o=null;if(l=this.getDataPointAtXY(r,u,l||!1))o=l.dataSeries.dataPointIds[l.dataPointIndex];else if(Y)o=ns(r,u,this._eventManager.ghostCtx);else for(l=0;l<this.legend.items.length;l++){var h=this.legend.items[l];r>=h.x1&&r<=h.x2&&u>=h.y1&&u<=h.y2&&(o=h.id)}return o},k.prototype.getAutoFontSize=wf,k.prototype.resetOverlayedCanvas=function(){this.overlaidCanvasCtx.clearRect(0,0,this.width,this.height)},k.prototype.clearCanvas=rl,k.prototype.attachEvent=function(r){this._events.push(r)},k.prototype._touchEventHandler=function(r){if(r.changedTouches&&this.interactivityEnabled){var u=[],l=r.changedTouches,o=l?l[0]:r,h=null;switch(r.type){case"touchstart":case"MSPointerDown":u=["mousemove","mousedown"],this._lastTouchData=jo(o),this._lastTouchData.time=new Date;break;case"touchmove":case"MSPointerMove":u=["mousemove"];break;case"touchend":case"MSPointerUp":var p=this._lastTouchData&&this._lastTouchData.time?new Date-this._lastTouchData.time:0;u="touchstart"===this._lastTouchEventType||"MSPointerDown"===this._lastTouchEventType||300>p?["mouseup","click"]:["mouseup"];break;default:return}if(!(l&&1<l.length)){(h=jo(o)).time=new Date;try{var m=h.y-this._lastTouchData.y;p=h.time-this._lastTouchData.time,(1<Math.abs(m)&&this._lastTouchData.scroll||5<Math.abs(m)&&250>p)&&(this._lastTouchData.scroll=!0)}catch(_){}if(this._lastTouchEventType=r.type,this._lastTouchData.scroll&&this.zoomEnabled)this.isDrag&&this.resetOverlayedCanvas(),this.isDrag=!1;else for(l=0;l<u.length;l++)h=u[l],(m=document.createEvent("MouseEvent")).initMouseEvent(h,!0,!0,window,1,o.screenX,o.screenY,o.clientX,o.clientY,!1,!1,!1,!1,0,null),o.target.dispatchEvent(m),(!j(this._lastTouchData.scroll)&&!this._lastTouchData.scroll||!this._lastTouchData.scroll&&250<p||"click"===h)&&(r.preventManipulation&&r.preventManipulation(),r.preventDefault&&r.cancelable&&r.preventDefault())}}},k.prototype._dispatchRangeEvent=function(r,u){var l={chart:this};l.type=r,l.trigger=u;var o=[];this.axisX&&0<this.axisX.length&&o.push("axisX"),this.axisX2&&0<this.axisX2.length&&o.push("axisX2"),this.axisY&&0<this.axisY.length&&o.push("axisY"),this.axisY2&&0<this.axisY2.length&&o.push("axisY2");for(var h=0;h<o.length;h++)if(j(l[o[h]])&&(l[o[h]]=[]),"axisY"===o[h])for(var p=0;p<this.axisY.length;p++)l[o[h]].push({viewportMinimum:this[o[h]][p].sessionVariables.newViewportMinimum,viewportMaximum:this[o[h]][p].sessionVariables.newViewportMaximum});else if("axisY2"===o[h])for(p=0;p<this.axisY2.length;p++)l[o[h]].push({viewportMinimum:this[o[h]][p].sessionVariables.newViewportMinimum,viewportMaximum:this[o[h]][p].sessionVariables.newViewportMaximum});else if("axisX"===o[h])for(p=0;p<this.axisX.length;p++)l[o[h]].push({viewportMinimum:this[o[h]][p].sessionVariables.newViewportMinimum,viewportMaximum:this[o[h]][p].sessionVariables.newViewportMaximum});else if("axisX2"===o[h])for(p=0;p<this.axisX2.length;p++)l[o[h]].push({viewportMinimum:this[o[h]][p].sessionVariables.newViewportMinimum,viewportMaximum:this[o[h]][p].sessionVariables.newViewportMaximum});this.dispatchEvent(r,l,this)},k.prototype._mouseEventHandler=function(r){void 0===r.target&&r.srcElement&&(r.target=r.srcElement);var o,h,u=jo(r),l=r.type;if(r.which?h=3==r.which:r.button&&(h=2==r.button),k.capturedEventParam&&(o=k.capturedEventParam,"mouseup"===l&&(k.capturedEventParam=null,o.chart.overlaidCanvas.releaseCapture?o.chart.overlaidCanvas.releaseCapture():document.documentElement.removeEventListener("mouseup",o.chart._mouseEventHandler,!1)),o.hasOwnProperty(l)&&("mouseup"!==l||o.chart.overlaidCanvas.releaseCapture?r.target!==o.chart.overlaidCanvas&&Y||o[l].call(o.context,u.x,u.y):r.target!==o.chart.overlaidCanvas&&(o.chart.isDrag=!1))),this.interactivityEnabled)if(this._ignoreNextEvent)this._ignoreNextEvent=!1;else if(r.preventManipulation&&r.preventManipulation(),r.preventDefault&&r.preventDefault(),Ms&&window.console&&(window.console.log(l+" --\x3e x: "+u.x+"; y:"+u.y),h&&window.console.log(r.which),"mouseup"===l&&window.console.log("mouseup")),!h){if(!k.capturedEventParam&&this._events){for(var p=0;p<this._events.length;p++)if(this._events[p].hasOwnProperty(l)){if(u.x>=(h=(o=this._events[p]).bounds).x1&&u.x<=h.x2&&u.y>=h.y1&&u.y<=h.y2){o[l].call(o.context,u.x,u.y),"mousedown"===l&&!0===o.capture?(k.capturedEventParam=o,this.overlaidCanvas.setCapture?this.overlaidCanvas.setCapture():document.documentElement.addEventListener("mouseup",this._mouseEventHandler,!1)):"mouseup"===l&&(o.chart.overlaidCanvas.releaseCapture?o.chart.overlaidCanvas.releaseCapture():document.documentElement.removeEventListener("mouseup",this._mouseEventHandler,!1));break}o=null}r.target.style.cursor=o&&o.cursor?o.cursor:this._defaultCursor}if(u.x<(l=this.plotArea).x1||u.x>l.x2||u.y<l.y1||u.y>l.y2){for(this.toolTip&&this.toolTip.enabled?(this.toolTip.hide(),this.toolTip.dispatchEvent("hidden",{chart:this,toolTip:this.toolTip},this.toolTip)):this.resetOverlayedCanvas(),p=0;p<this.axisX.length;p++)this.axisX[p].crosshair&&this.axisX[p].crosshair.enabled&&(this.axisX[p].crosshair.hide(),this.axisX[p].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisX[p].options},this.axisX[p].crosshair));for(p=0;p<this.axisX2.length;p++)this.axisX2[p].crosshair&&this.axisX2[p].crosshair.enabled&&(this.axisX2[p].crosshair.hide(),this.axisX2[p].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisX2[p].options},this.axisX2[p].crosshair));for(p=0;p<this.axisY.length;p++)this.axisY[p].crosshair&&this.axisY[p].crosshair.enabled&&(this.axisY[p].crosshair.hide(),this.axisY[p].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisY[p].options},this.axisY[p].crosshair));for(p=0;p<this.axisY2.length;p++)this.axisY2[p].crosshair&&this.axisY2[p].crosshair.enabled&&(this.axisY2[p].crosshair.hide(),this.axisY2[p].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisY2[p].options},this.axisY2[p].crosshair))}this.isDrag&&this.zoomEnabled||!this._eventManager||this._eventManager.mouseEventHandler(r)}},k.prototype._plotAreaMouseDown=function(r,u){this.isDrag=!0,this.dragStartPoint={x:r,y:u}},k.prototype._plotAreaMouseUp=function(r,u){if(("normal"===this.plotInfo.axisPlacement||"xySwapped"===this.plotInfo.axisPlacement)&&this.isDrag){var l=u-this.dragStartPoint.y,o=r-this.dragStartPoint.x,_=0<=this.zoomType.indexOf("x"),m=0<=this.zoomType.indexOf("y"),h=!1;if(this.resetOverlayedCanvas(),"xySwapped"===this.plotInfo.axisPlacement){var p=m;m=_,_=p}if(this.panEnabled||this.zoomEnabled){if(this.panEnabled)for(_=m=0;_<this._axes.length;_++)(l=this._axes[_]).logarithmic?l.viewportMinimum<l.minimum?(l.sessionVariables.newViewportMinimum=l.viewportMinimum*(m=l.minimum/l.viewportMinimum),l.sessionVariables.newViewportMaximum=l.viewportMaximum*m,h=!0):l.viewportMaximum>l.maximum&&(l.sessionVariables.newViewportMinimum=l.viewportMinimum/(m=l.viewportMaximum/l.maximum),l.sessionVariables.newViewportMaximum=l.viewportMaximum/m,h=!0):l.viewportMinimum<l.minimum?(l.sessionVariables.newViewportMinimum=l.viewportMinimum+(m=l.minimum-l.viewportMinimum),l.sessionVariables.newViewportMaximum=l.viewportMaximum+m,h=!0):l.viewportMaximum>l.maximum&&(l.sessionVariables.newViewportMinimum=l.viewportMinimum-(m=l.viewportMaximum-l.maximum),l.sessionVariables.newViewportMaximum=l.viewportMaximum-m,h=!0);else if((!_||2<Math.abs(o))&&(!m||2<Math.abs(l))&&this.zoomEnabled){if(!this.dragStartPoint)return;l=_?this.dragStartPoint.x:this.plotArea.x1,o=m?this.dragStartPoint.y:this.plotArea.y1,_=_?r:this.plotArea.x2,m=m?u:this.plotArea.y2,2<Math.abs(l-_)&&2<Math.abs(o-m)&&this._zoomPanToSelectedRegion(l,o,_,m)&&(h=!0)}h&&(this._ignoreNextEvent=!0,this._dispatchRangeEvent("rangeChanging","zoom"),this.stockChart&&this.stockChart.navigator&&this.stockChart.navigator.enabled&&(this.stockChart._rangeEventParameter||(this.stockChart._rangeEventParameter={stockChart:this.stockChart,source:"chart",index:this.stockChart.charts.indexOf(this),minimum:this.stockChart.sessionVariables._axisXMin,maximum:this.stockChart.sessionVariables._axisXMax}),this.stockChart._rangeEventParameter.type="rangeChanging",this.stockChart.dispatchEvent("rangeChanging",this.stockChart._rangeEventParameter,this.stockChart)),this.render(),this._dispatchRangeEvent("rangeChanged","zoom"),this.stockChart&&this.stockChart.navigator&&this.stockChart.navigator.enabled&&(this.stockChart._rangeEventParameter.type="rangeChanged",this.stockChart.dispatchEvent("rangeChanged",this.stockChart._rangeEventParameter,this.stockChart)),h&&this.zoomEnabled&&"none"===this._zoomButton.style.display&&(Pt(this._zoomButton,this._resetButton),Kt(this,this._zoomButton,"pan"),Kt(this,this._resetButton,"reset")))}}if(this.isDrag=!1,"none"!==this.plotInfo.axisPlacement){if(this.resetOverlayedCanvas(),this.axisX&&0<this.axisX.length)for(h=0;h<this.axisX.length;h++)this.axisX[h].crosshair&&this.axisX[h].crosshair.enabled&&this.axisX[h].renderCrosshair(r,u);if(this.axisX2&&0<this.axisX2.length)for(h=0;h<this.axisX2.length;h++)this.axisX2[h].crosshair&&this.axisX2[h].crosshair.enabled&&this.axisX2[h].renderCrosshair(r,u);if(this.axisY&&0<this.axisY.length)for(h=0;h<this.axisY.length;h++)this.axisY[h].crosshair&&this.axisY[h].crosshair.enabled&&this.axisY[h].renderCrosshair(r,u);if(this.axisY2&&0<this.axisY2.length)for(h=0;h<this.axisY2.length;h++)this.axisY2[h].crosshair&&this.axisY2[h].crosshair.enabled&&this.axisY2[h].renderCrosshair(r,u);if(this.axisX&&0<this.axisX.length)for(h=0;h<this.axisX.length;h++)this.axisX[h].crosshair&&this.axisX[h].crosshair.enabled&&this.axisX[h].crosshair.renderLabel();if(this.axisX2&&0<this.axisX2.length)for(h=0;h<this.axisX2.length;h++)this.axisX2[h].crosshair&&this.axisX2[h].crosshair.enabled&&this.axisX2[h].crosshair.renderLabel();if(this.axisY&&0<this.axisY.length)for(h=0;h<this.axisY.length;h++)this.axisY[h].crosshair&&this.axisY[h].crosshair.enabled&&this.axisY[h].crosshair.renderLabel();if(this.axisY2&&0<this.axisY2.length)for(h=0;h<this.axisY2.length;h++)this.axisY2[h].crosshair&&this.axisY2[h].crosshair.enabled&&this.axisY2[h].crosshair.renderLabel()}},k.prototype._plotAreaMouseMove=function(r,u){if(this.isDrag&&"none"!==this.plotInfo.axisPlacement){var l=0,o=0,h=l=null,p=(h=0<=this.zoomType.indexOf("x"),0<=this.zoomType.indexOf("y")),m=this;if("xySwapped"===this.plotInfo.axisPlacement&&(l=p,p=h,h=l),l=this.dragStartPoint.x-r,o=this.dragStartPoint.y-u,2<Math.abs(l)&&8>Math.abs(l)&&(this.panEnabled||this.zoomEnabled)){this.toolTip.hide(),this.toolTip&&this.toolTip.enabled&&this.toolTip.dispatchEvent("hidden",{chart:this,toolTip:this.toolTip},this.toolTip);for(var _=0;_<this.axisX.length;_++)this.axisX[_].crosshair&&this.axisX[_].crosshair.enabled&&(this.axisX[_].crosshair.hide(),this.axisX[_].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisX[_].options},this.axisX[_].crosshair));for(_=0;_<this.axisX2.length;_++)this.axisX2[_].crosshair&&this.axisX2[_].crosshair.enabled&&(this.axisX2[_].crosshair.hide(),this.axisX2[_].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisX2[_].options},this.axisX2[_].crosshair));for(_=0;_<this.axisY.length;_++)this.axisY[_].crosshair&&this.axisY[_].crosshair.enabled&&(this.axisY[_].crosshair.hide(),this.axisY[_].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisY[_].options},this.axisY[_].crosshair));for(_=0;_<this.axisY2.length;_++)this.axisY2[_].crosshair&&this.axisY2[_].crosshair.enabled&&(this.axisY2[_].crosshair.hide(),this.axisY2[_].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisY2[_].options},this.axisY2[_].crosshair))}else this.panEnabled||this.zoomEnabled||this.toolTip.mouseMoveHandler(r,u);if((!h||2<Math.abs(l)||!p||2<Math.abs(o))&&(this.panEnabled||this.zoomEnabled))if(this.panEnabled)h={x1:h?this.plotArea.x1+l:this.plotArea.x1,y1:p?this.plotArea.y1+o:this.plotArea.y1,x2:h?this.plotArea.x2+l:this.plotArea.x2,y2:p?this.plotArea.y2+o:this.plotArea.y2},clearTimeout(m._panTimerId),m._panTimerId=setTimeout((g=h.x1,y=h.y1,b=h.x2,d=h.y2,function(){m._zoomPanToSelectedRegion(g,y,b,d,!0)&&(m._dispatchRangeEvent("rangeChanging","pan"),m.stockChart&&m.stockChart.navigator&&m.stockChart.navigator.enabled&&(m.stockChart._rangeEventParameter.type="rangeChanging",m.stockChart.dispatchEvent("rangeChanging",m.stockChart._rangeEventParameter,m.stockChart)),m.render(),m._dispatchRangeEvent("rangeChanged","pan"),m.stockChart&&m.stockChart.navigator&&m.stockChart.navigator.enabled&&(m.stockChart._rangeEventParameter.type="rangeChanged",m.stockChart.dispatchEvent("rangeChanged",m.stockChart._rangeEventParameter,m.stockChart)),m.dragStartPoint.x=r,m.dragStartPoint.y=u)}),0);else if(this.zoomEnabled){this.resetOverlayedCanvas(),l=this.overlaidCanvasCtx.globalAlpha,this.overlaidCanvasCtx.fillStyle="#A89896";var w=h?r-this.dragStartPoint.x:this.plotArea.x2-this.plotArea.x1,x=p?u-this.dragStartPoint.y:this.plotArea.y2-this.plotArea.y1;this.validateRegion(o=h?this.dragStartPoint.x:this.plotArea.x1,_=p?this.dragStartPoint.y:this.plotArea.y1,h?r:this.plotArea.x2-this.plotArea.x1,p?u:this.plotArea.y2-this.plotArea.y1,"xy"!==this.zoomType).isValid&&(this.resetOverlayedCanvas(),this.overlaidCanvasCtx.fillStyle="#99B2B5"),this.overlaidCanvasCtx.globalAlpha=.7,this.overlaidCanvasCtx.fillRect(o,_,w,x),this.overlaidCanvasCtx.globalAlpha=l}}else if(this.toolTip.mouseMoveHandler(r,u),"none"!==this.plotInfo.axisPlacement){if(this.axisX&&0<this.axisX.length)for(h=0;h<this.axisX.length;h++)this.axisX[h].crosshair&&this.axisX[h].crosshair.enabled&&this.axisX[h].renderCrosshair(r,u);if(this.axisX2&&0<this.axisX2.length)for(h=0;h<this.axisX2.length;h++)this.axisX2[h].crosshair&&this.axisX2[h].crosshair.enabled&&this.axisX2[h].renderCrosshair(r,u);if(this.axisY&&0<this.axisY.length)for(h=0;h<this.axisY.length;h++)this.axisY[h].crosshair&&this.axisY[h].crosshair.enabled&&this.axisY[h].renderCrosshair(r,u);if(this.axisY2&&0<this.axisY2.length)for(h=0;h<this.axisY2.length;h++)this.axisY2[h].crosshair&&this.axisY2[h].crosshair.enabled&&this.axisY2[h].renderCrosshair(r,u);if(this.axisX&&0<this.axisX.length)for(h=0;h<this.axisX.length;h++)this.axisX[h].crosshair&&this.axisX[h].crosshair.enabled&&this.axisX[h].crosshair.renderLabel();if(this.axisX2&&0<this.axisX2.length)for(h=0;h<this.axisX2.length;h++)this.axisX2[h].crosshair&&this.axisX2[h].crosshair.enabled&&this.axisX2[h].crosshair.renderLabel();if(this.axisY&&0<this.axisY.length)for(h=0;h<this.axisY.length;h++)this.axisY[h].crosshair&&this.axisY[h].crosshair.enabled&&this.axisY[h].crosshair.renderLabel();if(this.axisY2&&0<this.axisY2.length)for(h=0;h<this.axisY2.length;h++)this.axisY2[h].crosshair&&this.axisY2[h].crosshair.enabled&&this.axisY2[h].crosshair.renderLabel()}var g,y,b,d},k.prototype._zoomPanToSelectedRegion=function(r,u,l,o,h){if(u=(r=this.validateRegion(r,u,l,o,h)).axesWithValidRange,l=r.axesRanges,r.isValid)for(o=0;o<u.length;o++)u[o].setViewPortRange((h=l[o]).val1,h.val2),this.syncCharts&&"y"!=this.zoomType&&this.syncCharts(h.val1,h.val2),this.stockChart&&(this.stockChart._rangeEventParameter={stockChart:this.stockChart,source:"chart",index:this.stockChart.charts.indexOf(this),minimum:h.val1,maximum:h.val2});return r.isValid},k.prototype.validateRegion=function(r,u,l,o,h){h=h||!1;for(var p=0<=this.zoomType.indexOf("x"),m=0<=this.zoomType.indexOf("y"),_=!1,w=[],x=[],g=[],y=0;y<this._axes.length;y++)("axisX"===this._axes[y].type&&p||"axisY"===this._axes[y].type&&m)&&x.push(this._axes[y]);for(m=0;m<x.length;m++){if(p=!1,(C=(y=x[m]).convertPixelToValue({x:r,y:u}))>(d=y.convertPixelToValue({x:l,y:o})))var b=d,d=C,C=b;if(y.scaleBreaks)for(b=0;!p&&b<y.scaleBreaks._appliedBreaks.length;b++)p=y.scaleBreaks._appliedBreaks[b].startValue<=C&&y.scaleBreaks._appliedBreaks[b].endValue>=d;if(isFinite(y.dataInfo.minDiff))if(b=y.getApparentDifference(C,d,null,!0),p||!(this.panEnabled&&y.scaleBreaks&&y.scaleBreaks._appliedBreaks.length)&&(y.logarithmic&&b<Math.pow(y.dataInfo.minDiff,3)||!y.logarithmic&&b<3*Math.abs(y.dataInfo.minDiff))||C<y.minimum||d>y.maximum){if(!h){_=!1;break}}else w.push(y),g.push({val1:C,val2:d}),_=!0}return{isValid:_,axesWithValidRange:w,axesRanges:g}},k.prototype.preparePlotArea=function(){var r=this.plotArea;if(!Y&&(0<r.x1||0<r.y1)&&r.ctx.translate(r.x1,r.y1),(this.axisX[0]||this.axisX2[0])&&(this.axisY[0]||this.axisY2[0])){var u=this.axisX[0]?this.axisX[0].lineCoordinates:this.axisX2[0].lineCoordinates;if(this.axisY&&0<this.axisY.length&&this.axisY[0]){var l=this.axisY[0];r.x1=u.x1<u.x2?u.x1:l.lineCoordinates.x1,r.y1=u.y1<l.lineCoordinates.y1?u.y1:l.lineCoordinates.y1,r.x2=u.x2>l.lineCoordinates.x2?u.x2:l.lineCoordinates.x2,r.y2=u.y2>u.y1?u.y2:l.lineCoordinates.y2,r.width=r.x2-r.x1,r.height=r.y2-r.y1}this.axisY2&&0<this.axisY2.length&&this.axisY2[0]&&(l=this.axisY2[0],r.x1=u.x1<u.x2?u.x1:l.lineCoordinates.x1,r.y1=u.y1<l.lineCoordinates.y1?u.y1:l.lineCoordinates.y1,r.x2=u.x2>l.lineCoordinates.x2?u.x2:l.lineCoordinates.x2,r.y2=u.y2>u.y1?u.y2:l.lineCoordinates.y2,r.width=r.x2-r.x1,r.height=r.y2-r.y1)}else u=this.layoutManager.getFreeSpace(),r.x1=u.x1,r.x2=u.x2,r.y1=u.y1,r.y2=u.y2,r.width=u.width,r.height=u.height;Y||(r.canvas.width=r.width,r.canvas.height=r.height,r.canvas.style.left=r.x1+"px",r.canvas.style.top=r.y1+"px",(0<r.x1||0<r.y1)&&r.ctx.translate(-r.x1,-r.y1)),r.layoutManager=new wn(r.x1,r.y1,r.x2,r.y2,2)},k.prototype.renderIndexLabels=function(r){var u=r||this.plotArea.ctx,l=this.plotArea,o=0,h=0,p=0,m=p=h=0,_=0,w=o=0,x=0;for(r=0;r<this._indexLabels.length;r++){var b,d,g=this._indexLabels[r],y=g.chartType.toLowerCase(),C=(m=Ct("indexLabelFontColor",g.dataPoint,g.dataSeries),Ct("indexLabelFontSize",g.dataPoint,g.dataSeries)),A=(_=Ct("indexLabelFontFamily",g.dataPoint,g.dataSeries),w=Ct("indexLabelFontStyle",g.dataPoint,g.dataSeries),x=Ct("indexLabelFontWeight",g.dataPoint,g.dataSeries),Ct("indexLabelBackgroundColor",g.dataPoint,g.dataSeries));b=Ct("indexLabelMaxWidth",g.dataPoint,g.dataSeries),d=Ct("indexLabelWrap",g.dataPoint,g.dataSeries);var P=Ct("indexLabelLineDashType",g.dataPoint,g.dataSeries),T=Ct("indexLabelLineColor",g.dataPoint,g.dataSeries),E=j(g.dataPoint.indexLabelLineThickness)?j(g.dataSeries.options.indexLabelLineThickness)?0:g.dataSeries.options.indexLabelLineThickness:g.dataPoint.indexLabelLineThickness,F=(o=0<E?Math.min(10,("normal"===this.plotInfo.axisPlacement?this.plotArea.height:this.plotArea.width)<<0):0,{percent:null,total:null}),H=null;(0<=g.dataSeries.type.indexOf("stacked")||"pie"===g.dataSeries.type||"doughnut"===g.dataSeries.type)&&(F=this.getPercentAndTotal(g.dataSeries,g.dataPoint)),(g.dataSeries.indexLabelFormatter||g.dataPoint.indexLabelFormatter)&&(H={chart:this,dataSeries:g.dataSeries,dataPoint:g.dataPoint,index:g.indexKeyword,total:F.total,percent:F.percent});var z=g.dataPoint.indexLabelFormatter?g.dataPoint.indexLabelFormatter(H):g.dataPoint.indexLabel?this.replaceKeywordsWithValue(g.dataPoint.indexLabel,g.dataPoint,g.dataSeries,null,g.indexKeyword):g.dataSeries.indexLabelFormatter?g.dataSeries.indexLabelFormatter(H):g.dataSeries.indexLabel?this.replaceKeywordsWithValue(g.dataSeries.indexLabel,g.dataPoint,g.dataSeries,null,g.indexKeyword):null;if(null!==z&&""!==z){F=Ct("indexLabelPlacement",g.dataPoint,g.dataSeries),H=Ct("indexLabelOrientation",g.dataPoint,g.dataSeries);var V=Ct("indexLabelTextAlign",g.dataPoint,g.dataSeries),ee=g.direction,ae=(h=g.dataSeries.axisX,p=g.dataSeries.axisY,!1);if((A=new Ze(u,{x:0,y:0,maxWidth:b||.5*this.width,maxHeight:d?5*C:1.5*C,angle:"horizontal"===H?0:-90,text:z,padding:0,backgroundColor:A,textAlign:V,fontSize:C,fontFamily:_,fontWeight:x,fontColor:m,fontStyle:w,textBaseline:"middle"})).measureText(),g.dataSeries.indexLabelMaxWidth=A.maxWidth,"stackedarea100"===y){if(g.point.x<l.x1||g.point.x>l.x2||g.point.y<l.y1-1||g.point.y>l.y2+1)continue}else if("rangearea"===y||"rangesplinearea"===y){if(g.dataPoint.x<h.viewportMinimum||g.dataPoint.x>h.viewportMaximum||Math.max.apply(null,g.dataPoint.y)<p.viewportMinimum||Math.min.apply(null,g.dataPoint.y)>p.viewportMaximum)continue}else if(0<=y.indexOf("line")||0<=y.indexOf("area")||0<=y.indexOf("bubble")||0<=y.indexOf("scatter")){if(g.dataPoint.x<h.viewportMinimum||g.dataPoint.x>h.viewportMaximum||g.dataPoint.y<p.viewportMinimum||g.dataPoint.y>p.viewportMaximum)continue}else if(0<=y.indexOf("column")||"waterfall"===y||"error"===y&&!g.axisSwapped){if(g.dataPoint.x<h.viewportMinimum||g.dataPoint.x>h.viewportMaximum||g.bounds.y1>l.y2||g.bounds.y2<l.y1)continue}else if(0<=y.indexOf("bar")||"error"===y){if(g.dataPoint.x<h.viewportMinimum||g.dataPoint.x>h.viewportMaximum||g.bounds.x1>l.x2||g.bounds.x2<l.x1)continue}else if("candlestick"===y||"ohlc"===y){if(g.dataPoint.x<h.viewportMinimum||g.dataPoint.x>h.viewportMaximum||Math.max.apply(null,g.dataPoint.y)<p.viewportMinimum||Math.min.apply(null,g.dataPoint.y)>p.viewportMaximum)continue}else if(g.dataPoint.x<h.viewportMinimum||g.dataPoint.x>h.viewportMaximum)continue;m=_=2,"horizontal"===H?(w=A.width,x=A.height):(x=A.width,w=A.height),"normal"===this.plotInfo.axisPlacement?(0<=y.indexOf("line")||0<=y.indexOf("area")?(F="auto",_=4):0<=y.indexOf("stacked")?"auto"===F&&(F="inside"):("bubble"===y||"scatter"===y)&&(F="inside"),b=g.point.x-("horizontal"===H?w/2:w/2-C/2),"inside"!==F?(h=l.y1,p=l.y2,0<ee?(d=g.point.y+("horizontal"===H?C/2:0)-x-_-o)<h&&(ae=(d="auto"===F?Math.max(g.point.y,h)+C/2+_:h+C/2+_)+x>g.point.y):(d=g.point.y+C/2+_+o)>p-x&&(ae=(d="auto"===F?Math.min(g.point.y,p)+C/2-x-_:p+C/2-x)<g.point.y)):(h=Math.max(g.bounds.y1,l.y1),p=Math.min(g.bounds.y2,l.y2-x+C/2),o=0<=y.indexOf("range")||"error"===y?0<ee?Math.max(g.bounds.y1,l.y1)+C/2+_:Math.min(g.bounds.y2,l.y2)+C/2-x+_:(Math.max(g.bounds.y1,l.y1)+Math.min(g.bounds.y2,l.y2))/2-x/2+C/2+("horizontal"===H?_:0),0<ee?(d=Math.max(g.point.y,o))<h&&("bubble"===y||"scatter"===y)&&(d=Math.max(g.point.y-x-_,l.y1+_)):(d=Math.min(g.point.y,o))>p-x-_&&("bubble"===y||"scatter"===y)&&(d=Math.min(g.point.y+_,l.y2-x-_)),d=Math.min(d,p))):(0<=y.indexOf("line")||0<=y.indexOf("area")||0<=y.indexOf("scatter")?(F="auto",m=4):0<=y.indexOf("stacked")?"auto"===F&&(F="inside"):"bubble"===y&&(F="inside"),d=g.point.y+C/2-x/2+_,"inside"!==F?(h=l.x1,p=l.x2,0>ee?(b=g.point.x-("horizontal"===H?w:w-C/2)-m-o)<h&&(ae=(b="auto"===F?Math.max(g.point.x,h)+m:h+m)+w>g.point.x):(b=g.point.x+("horizontal"===H?0:C/2)+m+o)>p-w-m-o&&(ae=(b="auto"===F?Math.min(g.point.x,p)-("horizontal"===H?w:w/2)-m:p-w-m)<g.point.x)):(h=Math.max(g.bounds.x1,l.x1),Math.min(g.bounds.x2,l.x2),o=0<=y.indexOf("range")||"error"===y?0>ee?Math.max(g.bounds.x1,l.x1)+C/2+m:Math.min(g.bounds.x2,l.x2)-w/2-m+("horizontal"===H?0:C/2):(Math.max(g.bounds.x1,l.x1)+Math.min(g.bounds.x2,l.x2))/2+("horizontal"===H?0:C/2),b=0>ee?Math.max(g.point.x,o)-("horizontal"===H?w/2:0):Math.min(g.point.x,o)-w/2,b=Math.max(b,h))),"vertical"===H&&(d+=x-C/2),A.x=b,A.y=d,A.render(!0),E&&"inside"!==F&&(0>y.indexOf("bar")&&("error"!==y||!g.axisSwapped)&&g.point.x>l.x1&&g.point.x<l.x2||!ae)&&(0>y.indexOf("column")&&("error"!==y||g.axisSwapped)&&g.point.y>l.y1&&g.point.y<l.y2||!ae)&&(u.lineWidth=E,u.strokeStyle=T||"gray",u.setLineDash&&u.setLineDash(Ke(P,E)),u.beginPath(),u.moveTo(g.point.x,g.point.y),0<=y.indexOf("bar")||"error"===y&&g.axisSwapped?u.lineTo(b+(0<g.direction?-m:w+m)+("vertical"===H?-C/2:0),d+("vertical"===H?-x/2:x/2-C/2)-_):0<=y.indexOf("column")||"error"===y&&!g.axisSwapped?u.lineTo(b+w/2-("horizontal"===H?0:C/2),d+("vertical"===H?(d-x<g.point.y?0:-x)+_:(d-C/2<g.point.y?x:0)-C/2)):u.lineTo(b+w/2-("horizontal"===H?0:C/2),d+("vertical"===H?d-x<g.point.y?0:-x:(d-C/2<g.point.y?x:0)-C/2)),u.stroke())}}for(u={source:u,dest:this.plotArea.ctx,animationCallback:Se.fadeInAnimation,easingFunction:Se.easing.easeInQuad,animationBase:0,startTimePercent:.7},r=0;r<this._indexLabels.length;r++)A=Ct("indexLabelBackgroundColor",(g=this._indexLabels[r]).dataPoint,g.dataSeries),g.dataSeries.indexLabelBackgroundColor=j(A)?Y?"transparent":null:A;return u},k.prototype.renderLine=function(r){var u=r.targetCanvasCtx||this.plotArea.ctx,l=Y?this._preRenderCtx:u;if(!(0>=r.dataSeriesIndexes.length)){var o=this._eventManager.ghostCtx;l.save();var h=this.plotArea;l.beginPath(),l.rect(h.x1,h.y1,h.width,h.height),l.clip();for(var m,p=[],_=0;_<r.dataSeriesIndexes.length;_++){var w=r.dataSeriesIndexes[_],x=this.data[w];l.lineWidth=x.lineThickness;var g=x.dataPoints,y="solid";if(l.setLineDash){var b=Ke(x.nullDataLineDashType,x.lineThickness),d=Ke(y=x.lineDashType,x.lineThickness);l.setLineDash(d)}this._eventManager.objectMap[C=x.id]={objectType:"dataSeries",dataSeriesIndex:w},C=Ge(C),o.strokeStyle=C,o.lineWidth=0<x.lineThickness?Math.max(x.lineThickness,4):0;var C=x._colorSet,A=C=x.lineColor=x.options.lineColor?x.options.lineColor:C[0];l.strokeStyle=C;var E,F,P=!0,T=0;if(l.beginPath(),0<g.length){var H=!1;for(T=0;T<g.length;T++)if(!((E=g[T].x.getTime?g[T].x.getTime():g[T].x)<r.axisX.dataInfo.viewPortMin||E>r.axisX.dataInfo.viewPortMax&&(!x.connectNullData||!H)))if("number"!=typeof g[T].y)0<T&&!(x.connectNullData||H||P)&&(l.stroke(),Y&&o.stroke()),H=!0;else{E=r.axisX.convertValueToPixel(E),F=r.axisY.convertValueToPixel(g[T].y);var z=x.dataPointIds[T];if(this._eventManager.objectMap[z]={id:z,objectType:"dataPoint",dataSeriesIndex:w,dataPointIndex:T,x1:E,y1:F},P||H?(!P&&x.connectNullData?(l.setLineDash&&(x.options.nullDataLineDashType||y===x.lineDashType&&x.lineDashType!==x.nullDataLineDashType)&&(l.stroke(),l.beginPath(),l.moveTo(m.x,m.y),y=x.nullDataLineDashType,l.setLineDash(b)),l.lineTo(E,F),Y&&o.lineTo(E,F)):(l.beginPath(),l.moveTo(E,F),Y&&(o.beginPath(),o.moveTo(E,F))),H=P=!1):(l.lineTo(E,F),Y&&o.lineTo(E,F),T%500==0&&(l.stroke(),l.beginPath(),l.moveTo(E,F),Y&&(o.stroke(),o.beginPath(),o.moveTo(E,F)))),m={x:E,y:F},T<g.length-1&&(A!==(g[T].lineColor||C)||y!==(g[T].lineDashType||x.lineDashType))&&(l.stroke(),l.beginPath(),l.moveTo(E,F),l.strokeStyle=A=g[T].lineColor||C,l.setLineDash&&(g[T].lineDashType?l.setLineDash(Ke(y=g[T].lineDashType,x.lineThickness)):(y=x.lineDashType,l.setLineDash(d)))),0<g[T].markerSize||0<x.markerSize){var V=x.getMarkerProperties(T,E,F,l);p.push(V),z=Ge(z),Y&&p.push({x:E,y:F,ctx:o,type:V.type,size:V.size,color:z,borderColor:z,borderThickness:V.borderThickness})}(g[T].indexLabel||x.indexLabel||g[T].indexLabelFormatter||x.indexLabelFormatter)&&this._indexLabels.push({chartType:"line",dataPoint:g[T],dataSeries:x,point:{x:E,y:F},direction:0>g[T].y===r.axisY.reversed?1:-1,color:C})}l.stroke(),Y&&o.stroke()}}return Lt.drawMarkers(p),Y&&(u.drawImage(this._preRenderCanvas,0,0,this.width,this.height),l.globalCompositeOperation="source-atop",r.axisX.maskCanvas&&l.drawImage(r.axisX.maskCanvas,0,0,this.width,this.height),r.axisY.maskCanvas&&l.drawImage(r.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),l.clearRect(h.x1,h.y1,h.width,h.height),o.beginPath()),l.restore(),l.beginPath(),{source:u,dest:this.plotArea.ctx,animationCallback:Se.xClipAnimation,easingFunction:Se.easing.linear,animationBase:0}}},k.prototype.renderStepLine=function(r){var u=r.targetCanvasCtx||this.plotArea.ctx,l=Y?this._preRenderCtx:u;if(!(0>=r.dataSeriesIndexes.length)){var o=this._eventManager.ghostCtx;l.save();var h=this.plotArea;l.beginPath(),l.rect(h.x1,h.y1,h.width,h.height),l.clip();for(var m,p=[],_=0;_<r.dataSeriesIndexes.length;_++){var w=r.dataSeriesIndexes[_],x=this.data[w];l.lineWidth=x.lineThickness;var g=x.dataPoints,y="solid";if(l.setLineDash){var b=Ke(x.nullDataLineDashType,x.lineThickness),d=Ke(y=x.lineDashType,x.lineThickness);l.setLineDash(d)}this._eventManager.objectMap[C=x.id]={objectType:"dataSeries",dataSeriesIndex:w},C=Ge(C),o.strokeStyle=C,o.lineWidth=0<x.lineThickness?Math.max(x.lineThickness,4):0;var C=x._colorSet,A=C=x.lineColor=x.options.lineColor?x.options.lineColor:C[0];l.strokeStyle=C;var E,F,P=!0,T=0;if(l.beginPath(),0<g.length){var H=!1;for(T=0;T<g.length;T++)if(!((E=g[T].getTime?g[T].x.getTime():g[T].x)<r.axisX.dataInfo.viewPortMin||E>r.axisX.dataInfo.viewPortMax&&(!x.connectNullData||!H)))if("number"!=typeof g[T].y)0<T&&!(x.connectNullData||H||P)&&(l.stroke(),Y&&o.stroke()),H=!0;else{var z=F;E=r.axisX.convertValueToPixel(E),F=r.axisY.convertValueToPixel(g[T].y);var V=x.dataPointIds[T];this._eventManager.objectMap[V]={id:V,objectType:"dataPoint",dataSeriesIndex:w,dataPointIndex:T,x1:E,y1:F},P||H?(!P&&x.connectNullData?(l.setLineDash&&(x.options.nullDataLineDashType||y===x.lineDashType&&x.lineDashType!==x.nullDataLineDashType)&&(l.stroke(),l.beginPath(),l.moveTo(m.x,m.y),y=x.nullDataLineDashType,l.setLineDash(b)),l.lineTo(E,z),l.lineTo(E,F),Y&&(o.lineTo(E,z),o.lineTo(E,F))):(l.beginPath(),l.moveTo(E,F),Y&&(o.beginPath(),o.moveTo(E,F))),H=P=!1):(l.lineTo(E,z),Y&&o.lineTo(E,z),l.lineTo(E,F),Y&&o.lineTo(E,F),T%500==0&&(l.stroke(),l.beginPath(),l.moveTo(E,F),Y&&(o.stroke(),o.beginPath(),o.moveTo(E,F)))),m={x:E,y:F},T<g.length-1&&(A!==(g[T].lineColor||C)||y!==(g[T].lineDashType||x.lineDashType))&&(l.stroke(),l.beginPath(),l.moveTo(E,F),l.strokeStyle=A=g[T].lineColor||C,l.setLineDash&&(g[T].lineDashType?l.setLineDash(Ke(y=g[T].lineDashType,x.lineThickness)):(y=x.lineDashType,l.setLineDash(d)))),(0<g[T].markerSize||0<x.markerSize)&&(z=x.getMarkerProperties(T,E,F,l),p.push(z),V=Ge(V),Y&&p.push({x:E,y:F,ctx:o,type:z.type,size:z.size,color:V,borderColor:V,borderThickness:z.borderThickness})),(g[T].indexLabel||x.indexLabel||g[T].indexLabelFormatter||x.indexLabelFormatter)&&this._indexLabels.push({chartType:"stepLine",dataPoint:g[T],dataSeries:x,point:{x:E,y:F},direction:0>g[T].y===r.axisY.reversed?1:-1,color:C})}l.stroke(),Y&&o.stroke()}}return Lt.drawMarkers(p),Y&&(u.drawImage(this._preRenderCanvas,0,0,this.width,this.height),l.globalCompositeOperation="source-atop",r.axisX.maskCanvas&&l.drawImage(r.axisX.maskCanvas,0,0,this.width,this.height),r.axisY.maskCanvas&&l.drawImage(r.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),l.clearRect(h.x1,h.y1,h.width,h.height),o.beginPath()),l.restore(),l.beginPath(),{source:u,dest:this.plotArea.ctx,animationCallback:Se.xClipAnimation,easingFunction:Se.easing.linear,animationBase:0}}},k.prototype.renderSpline=function(r){function u(V){if(0<(V=B(V,2)).length){o.beginPath(),Y&&h.beginPath(),o.moveTo(V[0].x,V[0].y),V[0].newStrokeStyle&&(o.strokeStyle=V[0].newStrokeStyle),V[0].newLineDashArray&&o.setLineDash(V[0].newLineDashArray),Y&&h.moveTo(V[0].x,V[0].y);for(var ee=0;ee<V.length-3;ee+=3)o.bezierCurveTo(V[ee+1].x,V[ee+1].y,V[ee+2].x,V[ee+2].y,V[ee+3].x,V[ee+3].y),Y&&h.bezierCurveTo(V[ee+1].x,V[ee+1].y,V[ee+2].x,V[ee+2].y,V[ee+3].x,V[ee+3].y),(0<ee&&ee%3e3==0||V[ee+3].newStrokeStyle||V[ee+3].newLineDashArray)&&(o.stroke(),o.beginPath(),o.moveTo(V[ee+3].x,V[ee+3].y),V[ee+3].newStrokeStyle&&(o.strokeStyle=V[ee+3].newStrokeStyle),V[ee+3].newLineDashArray&&o.setLineDash(V[ee+3].newLineDashArray),Y&&(h.stroke(),h.beginPath(),h.moveTo(V[ee+3].x,V[ee+3].y)));o.stroke(),Y&&h.stroke()}}var l=r.targetCanvasCtx||this.plotArea.ctx,o=Y?this._preRenderCtx:l;if(!(0>=r.dataSeriesIndexes.length)){var h=this._eventManager.ghostCtx;o.save();var p=this.plotArea;o.beginPath(),o.rect(p.x1,p.y1,p.width,p.height),o.clip();for(var m=[],_=0;_<r.dataSeriesIndexes.length;_++){var w=r.dataSeriesIndexes[_],x=this.data[w];o.lineWidth=x.lineThickness;var g=x.dataPoints,y="solid";if(o.setLineDash){var b=Ke(x.nullDataLineDashType,x.lineThickness),d=Ke(y=x.lineDashType,x.lineThickness);o.setLineDash(d)}this._eventManager.objectMap[C=x.id]={objectType:"dataSeries",dataSeriesIndex:w},C=Ge(C),h.strokeStyle=C,h.lineWidth=0<x.lineThickness?Math.max(x.lineThickness,4):0;var C=x._colorSet,A=C=x.lineColor=x.options.lineColor?x.options.lineColor:C[0];o.strokeStyle=C;var T,E,P=0,F=[];if(o.beginPath(),0<g.length)for(E=!1,P=0;P<g.length;P++)if(!((T=g[P].getTime?g[P].x.getTime():g[P].x)<r.axisX.dataInfo.viewPortMin||T>r.axisX.dataInfo.viewPortMax&&(!x.connectNullData||!E)))if("number"!=typeof g[P].y)0<P&&!E&&(x.connectNullData?o.setLineDash&&0<F.length&&(x.options.nullDataLineDashType||!g[P-1].lineDashType)&&(F[F.length-1].newLineDashArray=b,y=x.nullDataLineDashType):(u(F),F=[])),E=!0;else{T=r.axisX.convertValueToPixel(T),E=r.axisY.convertValueToPixel(g[P].y);var H=x.dataPointIds[P];if(this._eventManager.objectMap[H]={id:H,objectType:"dataPoint",dataSeriesIndex:w,dataPointIndex:P,x1:T,y1:E},F[F.length]={x:T,y:E},P<g.length-1&&(A!==(g[P].lineColor||C)||y!==(g[P].lineDashType||x.lineDashType))&&(F[F.length-1].newStrokeStyle=A=g[P].lineColor||C,o.setLineDash&&(g[P].lineDashType?F[F.length-1].newLineDashArray=Ke(y=g[P].lineDashType,x.lineThickness):(y=x.lineDashType,F[F.length-1].newLineDashArray=d))),0<g[P].markerSize||0<x.markerSize){var z=x.getMarkerProperties(P,T,E,o);m.push(z),H=Ge(H),Y&&m.push({x:T,y:E,ctx:h,type:z.type,size:z.size,color:H,borderColor:H,borderThickness:z.borderThickness})}(g[P].indexLabel||x.indexLabel||g[P].indexLabelFormatter||x.indexLabelFormatter)&&this._indexLabels.push({chartType:"spline",dataPoint:g[P],dataSeries:x,point:{x:T,y:E},direction:0>g[P].y===r.axisY.reversed?1:-1,color:C}),E=!1}u(F)}return Lt.drawMarkers(m),Y&&(l.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.globalCompositeOperation="source-atop",r.axisX.maskCanvas&&o.drawImage(r.axisX.maskCanvas,0,0,this.width,this.height),r.axisY.maskCanvas&&o.drawImage(r.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.clearRect(p.x1,p.y1,p.width,p.height),h.beginPath()),o.restore(),o.beginPath(),{source:l,dest:this.plotArea.ctx,animationCallback:Se.xClipAnimation,easingFunction:Se.easing.linear,animationBase:0}}},k.prototype.renderColumn=function(r){var u=r.targetCanvasCtx||this.plotArea.ctx,l=Y?this._preRenderCtx:u;if(!(0>=r.dataSeriesIndexes.length)){var p,m,_,o=null,h=this.plotArea,x=0,w=r.axisY.convertValueToPixel(r.axisY.logarithmic?r.axisY.viewportMinimum:0),g=(x=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:Math.min(.15*this.width,this.plotArea.width/r.plotType.totalDataSeries*.9)<<0),y=r.axisX.dataInfo.minDiff;for(isFinite(y)||(y=.3*Math.abs(r.axisX.range)),y=this.dataPointWidth=this.options.dataPointWidth?this.dataPointWidth:h.width*(r.axisX.logarithmic?Math.log(y)/Math.log(r.axisX.range):Math.abs(y)/Math.abs(r.axisX.range))/r.plotType.totalDataSeries*.9<<0,this.dataPointMaxWidth&&x>g&&(x=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,g)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&g<x&&(g=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,x)),y<x&&(y=x),y>g&&(y=g),l.save(),Y&&this._eventManager.ghostCtx.save(),l.beginPath(),l.rect(h.x1,h.y1,h.width,h.height),l.clip(),Y&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(h.x1,h.y1,h.width,h.height),this._eventManager.ghostCtx.clip()),g=0;g<r.dataSeriesIndexes.length;g++){var b=r.dataSeriesIndexes[g],d=this.data[b],C=d.dataPoints;if(0<C.length){var A=!!(5<y&&d.bevelEnabled);for(x=0;x<C.length;x++)if(!((_=C[x].getTime?C[x].x.getTime():C[x].x)<r.axisX.dataInfo.viewPortMin||_>r.axisX.dataInfo.viewPortMax)&&"number"==typeof C[x].y){p=r.axisX.convertValueToPixel(_),m=r.axisY.convertValueToPixel(C[x].y),p=r.axisX.reversed?p+r.plotType.totalDataSeries*y/2-(r.previousDataSeriesCount+g)*y<<0:p-r.plotType.totalDataSeries*y/2+(r.previousDataSeriesCount+g)*y<<0;var T,P=r.axisX.reversed?p-y<<0:p+y<<0;0<=C[x].y?T=w:(T=m,m=w),m>T&&(o=m,m=T,T=o),$t(l,r.axisX.reversed?P:p,m,r.axisX.reversed?p:P,T,o=C[x].color?C[x].color:d._colorSet[x%d._colorSet.length],0,null,A&&(r.axisY.reversed?0>C[x].y:0<=C[x].y),(r.axisY.reversed?0<=C[x].y:0>C[x].y)&&A,!1,!1,d.fillOpacity),this._eventManager.objectMap[o=d.dataPointIds[x]]={id:o,objectType:"dataPoint",dataSeriesIndex:b,dataPointIndex:x,x1:p,y1:m,x2:P,y2:T},o=Ge(o),Y&&$t(this._eventManager.ghostCtx,r.axisX.reversed?P:p,m,r.axisX.reversed?p:P,T,o,0,null,!1,!1,!1,!1),(C[x].indexLabel||d.indexLabel||C[x].indexLabelFormatter||d.indexLabelFormatter)&&this._indexLabels.push({chartType:"column",dataPoint:C[x],dataSeries:d,point:{x:p+(P-p)/2,y:0>C[x].y===r.axisY.reversed?m:T},direction:0>C[x].y===r.axisY.reversed?1:-1,bounds:{x1:p,y1:Math.min(m,T),x2:P,y2:Math.max(m,T)},color:o})}}}return Y&&(u.drawImage(this._preRenderCanvas,0,0,this.width,this.height),l.globalCompositeOperation="source-atop",r.axisX.maskCanvas&&l.drawImage(r.axisX.maskCanvas,0,0,this.width,this.height),r.axisY.maskCanvas&&l.drawImage(r.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),l.clearRect(h.x1,h.y1,h.width,h.height),this._eventManager.ghostCtx.restore()),l.restore(),{source:u,dest:this.plotArea.ctx,animationCallback:Se.yScaleAnimation,easingFunction:Se.easing.easeOutQuart,animationBase:w<r.axisY.bounds.y1?r.axisY.bounds.y1:w>r.axisY.bounds.y2?r.axisY.bounds.y2:w}}},k.prototype.renderStackedColumn=function(r){var u=r.targetCanvasCtx||this.plotArea.ctx,l=Y?this._preRenderCtx:u;if(!(0>=r.dataSeriesIndexes.length)){var x,g,o=null,h=this.plotArea,p=[],m=[],_=[],w=[],b=0,y=r.axisY.convertValueToPixel(r.axisY.logarithmic?r.axisY.viewportMinimum:0);b=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,x=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.width<<0;var d=r.axisX.dataInfo.minDiff;isFinite(d)||(d=.3*Math.abs(r.axisX.range)),d=this.options.dataPointWidth?this.dataPointWidth:h.width*(r.axisX.logarithmic?Math.log(d)/Math.log(r.axisX.range):Math.abs(d)/Math.abs(r.axisX.range))/r.plotType.plotUnits.length*.9<<0,this.dataPointMaxWidth&&b>x&&(b=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,x)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&x<b&&(x=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,b)),d<b&&(d=b),d>x&&(d=x),l.save(),Y&&this._eventManager.ghostCtx.save(),l.beginPath(),l.rect(h.x1,h.y1,h.width,h.height),l.clip(),Y&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(h.x1,h.y1,h.width,h.height),this._eventManager.ghostCtx.clip());for(var C=0;C<r.dataSeriesIndexes.length;C++){var A=r.dataSeriesIndexes[C],P=this.data[A],T=P.dataPoints;if(0<T.length){var E=!!(5<d&&P.bevelEnabled);for(l.strokeStyle="#4572A7 ",b=0;b<T.length;b++)if(!((o=T[b].x.getTime?T[b].x.getTime():T[b].x)<r.axisX.dataInfo.viewPortMin||o>r.axisX.dataInfo.viewPortMax)&&"number"==typeof T[b].y){var z,F=(x=r.axisX.convertValueToPixel(o))-r.plotType.plotUnits.length*d/2+r.index*d<<0,H=F+d<<0;if(r.axisY.logarithmic||r.axisY.scaleBreaks&&0<r.axisY.scaleBreaks._appliedBreaks.length&&0<T[b].y)_[o]=T[b].y+(_[o]?_[o]:0),0<_[o]&&(g=r.axisY.convertValueToPixel(_[o]),z=void 0!==p[o]?p[o]:y,p[o]=g);else if(r.axisY.scaleBreaks&&0<r.axisY.scaleBreaks._appliedBreaks.length&&0>=T[b].y)w[o]=T[b].y+(w[o]?w[o]:0),z=r.axisY.convertValueToPixel(w[o]),g=void 0!==m[o]?m[o]:y,m[o]=z;else if(g=r.axisY.convertValueToPixel(T[b].y),0<=T[b].y){var V=void 0!==p[o]?p[o]:0;p[o]=V+((z=y-V)-(g-=V))}else m[o]=(V=m[o]?m[o]:0)+((z=g+V)-(g=y+V));$t(l,F,r.axisY.reversed?z:g,H,r.axisY.reversed?g:z,o=T[b].color?T[b].color:P._colorSet[b%P._colorSet.length],0,null,E&&(r.axisY.reversed?0>T[b].y:0<=T[b].y),(r.axisY.reversed?0<=T[b].y:0>T[b].y)&&E,!1,!1,P.fillOpacity),this._eventManager.objectMap[o=P.dataPointIds[b]]={id:o,objectType:"dataPoint",dataSeriesIndex:A,dataPointIndex:b,x1:F,y1:g,x2:H,y2:z},o=Ge(o),Y&&$t(this._eventManager.ghostCtx,F,g,H,z,o,0,null,!1,!1,!1,!1),(T[b].indexLabel||P.indexLabel||T[b].indexLabelFormatter||P.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedColumn",dataPoint:T[b],dataSeries:P,point:{x,y:0<=T[b].y?g:z},direction:0>T[b].y===r.axisY.reversed?1:-1,bounds:{x1:F,y1:Math.min(g,z),x2:H,y2:Math.max(g,z)},color:o})}}}return Y&&(u.drawImage(this._preRenderCanvas,0,0,this.width,this.height),l.globalCompositeOperation="source-atop",r.axisX.maskCanvas&&l.drawImage(r.axisX.maskCanvas,0,0,this.width,this.height),r.axisY.maskCanvas&&l.drawImage(r.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),l.clearRect(h.x1,h.y1,h.width,h.height),this._eventManager.ghostCtx.restore()),l.restore(),{source:u,dest:this.plotArea.ctx,animationCallback:Se.yScaleAnimation,easingFunction:Se.easing.easeOutQuart,animationBase:y<r.axisY.bounds.y1?r.axisY.bounds.y1:y>r.axisY.bounds.y2?r.axisY.bounds.y2:y}}},k.prototype.renderStackedColumn100=function(r){var u=r.targetCanvasCtx||this.plotArea.ctx,l=Y?this._preRenderCtx:u;if(!(0>=r.dataSeriesIndexes.length)){var x,g,o=null,h=this.plotArea,p=[],m=[],_=[],w=[],b=0,y=r.axisY.convertValueToPixel(r.axisY.logarithmic?r.axisY.viewportMinimum:0);b=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,x=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.width<<0;var d=r.axisX.dataInfo.minDiff;isFinite(d)||(d=.3*Math.abs(r.axisX.range)),d=this.options.dataPointWidth?this.dataPointWidth:h.width*(r.axisX.logarithmic?Math.log(d)/Math.log(r.axisX.range):Math.abs(d)/Math.abs(r.axisX.range))/r.plotType.plotUnits.length*.9<<0,this.dataPointMaxWidth&&b>x&&(b=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,x)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&x<b&&(x=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,b)),d<b&&(d=b),d>x&&(d=x),l.save(),Y&&this._eventManager.ghostCtx.save(),l.beginPath(),l.rect(h.x1,h.y1,h.width,h.height),l.clip(),Y&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(h.x1,h.y1,h.width,h.height),this._eventManager.ghostCtx.clip());for(var C=0;C<r.dataSeriesIndexes.length;C++){var A=r.dataSeriesIndexes[C],P=this.data[A],T=P.dataPoints;if(0<T.length){var E=!!(5<d&&P.bevelEnabled);for(b=0;b<T.length;b++)if(!((o=T[b].x.getTime?T[b].x.getTime():T[b].x)<r.axisX.dataInfo.viewPortMin||o>r.axisX.dataInfo.viewPortMax)&&"number"==typeof T[b].y){x=r.axisX.convertValueToPixel(o),g=0!==r.dataPointYSums[o]?T[b].y/r.dataPointYSums[o]*100:0;var z,F=x-r.plotType.plotUnits.length*d/2+r.index*d<<0,H=F+d<<0;if(r.axisY.logarithmic||r.axisY.scaleBreaks&&0<r.axisY.scaleBreaks._appliedBreaks.length&&0<T[b].y){if(_[o]=g+(void 0!==_[o]?_[o]:0),0>=_[o])continue;g=r.axisY.convertValueToPixel(_[o]),z=p[o]?p[o]:y,p[o]=g}else if(r.axisY.scaleBreaks&&0<r.axisY.scaleBreaks._appliedBreaks.length&&0>=T[b].y)w[o]=g+(void 0!==w[o]?w[o]:0),z=r.axisY.convertValueToPixel(w[o]),g=m[o]?m[o]:y,m[o]=z;else if(g=r.axisY.convertValueToPixel(g),0<=T[b].y){var V=void 0!==p[o]?p[o]:0;g-=V,z=y-V,r.dataSeriesIndexes.length-1===C&&1>=Math.abs(h.y1-g)&&(g=h.y1),p[o]=V+(z-g)}else z=g+(V=void 0!==m[o]?m[o]:0),g=y+V,r.dataSeriesIndexes.length-1===C&&1>=Math.abs(h.y2-z)&&(z=h.y2),m[o]=V+(z-g);$t(l,F,r.axisY.reversed?z:g,H,r.axisY.reversed?g:z,o=T[b].color?T[b].color:P._colorSet[b%P._colorSet.length],0,null,E&&(r.axisY.reversed?0>T[b].y:0<=T[b].y),(r.axisY.reversed?0<=T[b].y:0>T[b].y)&&E,!1,!1,P.fillOpacity),this._eventManager.objectMap[o=P.dataPointIds[b]]={id:o,objectType:"dataPoint",dataSeriesIndex:A,dataPointIndex:b,x1:F,y1:g,x2:H,y2:z},o=Ge(o),Y&&$t(this._eventManager.ghostCtx,F,g,H,z,o,0,null,!1,!1,!1,!1),(T[b].indexLabel||P.indexLabel||T[b].indexLabelFormatter||P.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedColumn100",dataPoint:T[b],dataSeries:P,point:{x,y:0<=T[b].y?g:z},direction:0>T[b].y===r.axisY.reversed?1:-1,bounds:{x1:F,y1:Math.min(g,z),x2:H,y2:Math.max(g,z)},color:o})}}}return Y&&(u.drawImage(this._preRenderCanvas,0,0,this.width,this.height),l.globalCompositeOperation="source-atop",r.axisX.maskCanvas&&l.drawImage(r.axisX.maskCanvas,0,0,this.width,this.height),r.axisY.maskCanvas&&l.drawImage(r.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),l.clearRect(h.x1,h.y1,h.width,h.height),this._eventManager.ghostCtx.restore()),l.restore(),{source:u,dest:this.plotArea.ctx,animationCallback:Se.yScaleAnimation,easingFunction:Se.easing.easeOutQuart,animationBase:y<r.axisY.bounds.y1?r.axisY.bounds.y1:y>r.axisY.bounds.y2?r.axisY.bounds.y2:y}}},k.prototype.renderBar=function(r){var u=r.targetCanvasCtx||this.plotArea.ctx,l=Y?this._preRenderCtx:u;if(!(0>=r.dataSeriesIndexes.length)){var p,m,_,o=null,h=this.plotArea,x=0,w=r.axisY.convertValueToPixel(r.axisY.logarithmic?r.axisY.viewportMinimum:0),g=(x=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:Math.min(.15*this.height,this.plotArea.height/r.plotType.totalDataSeries*.9)<<0),y=r.axisX.dataInfo.minDiff;for(isFinite(y)||(y=.3*Math.abs(r.axisX.range)),y=this.options.dataPointWidth?this.dataPointWidth:h.height*(r.axisX.logarithmic?Math.log(y)/Math.log(r.axisX.range):Math.abs(y)/Math.abs(r.axisX.range))/r.plotType.totalDataSeries*.9<<0,this.dataPointMaxWidth&&x>g&&(x=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,g)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&g<x&&(g=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,x)),y<x&&(y=x),y>g&&(y=g),l.save(),Y&&this._eventManager.ghostCtx.save(),l.beginPath(),l.rect(h.x1,h.y1,h.width,h.height),l.clip(),Y&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(h.x1,h.y1,h.width,h.height),this._eventManager.ghostCtx.clip()),g=0;g<r.dataSeriesIndexes.length;g++){var b=r.dataSeriesIndexes[g],d=this.data[b],C=d.dataPoints;if(0<C.length){var A=!!(5<y&&d.bevelEnabled);for(l.strokeStyle="#4572A7 ",x=0;x<C.length;x++)if(!((_=C[x].getTime?C[x].x.getTime():C[x].x)<r.axisX.dataInfo.viewPortMin||_>r.axisX.dataInfo.viewPortMax)&&"number"==typeof C[x].y){m=r.axisX.convertValueToPixel(_),p=r.axisY.convertValueToPixel(C[x].y),m=r.axisX.reversed?m+r.plotType.totalDataSeries*y/2-(r.previousDataSeriesCount+g)*y<<0:m-r.plotType.totalDataSeries*y/2+(r.previousDataSeriesCount+g)*y<<0;var T,P=r.axisX.reversed?m-y<<0:m+y<<0;0<=C[x].y?T=w:(T=p,p=w),$t(l,r.axisY.reversed?p:T,r.axisX.reversed?P:m,r.axisY.reversed?T:p,r.axisX.reversed?m:P,o=C[x].color?C[x].color:d._colorSet[x%d._colorSet.length],0,null,A,!1,!1,!1,d.fillOpacity),this._eventManager.objectMap[o=d.dataPointIds[x]]={id:o,objectType:"dataPoint",dataSeriesIndex:b,dataPointIndex:x,x1:T,y1:m,x2:p,y2:P},o=Ge(o),Y&&$t(this._eventManager.ghostCtx,T,r.axisX.reversed?P:m,p,r.axisX.reversed?m:P,o,0,null,!1,!1,!1,!1),(C[x].indexLabel||d.indexLabel||C[x].indexLabelFormatter||d.indexLabelFormatter)&&this._indexLabels.push({chartType:"bar",dataPoint:C[x],dataSeries:d,point:{x:0<=C[x].y?p:T,y:m+(P-m)/2},direction:0>C[x].y===r.axisY.reversed?1:-1,bounds:{x1:Math.min(T,p),y1:m,x2:Math.max(T,p),y2:P},color:o})}}}return Y&&(u.drawImage(this._preRenderCanvas,0,0,this.width,this.height),l.globalCompositeOperation="source-atop",r.axisX.maskCanvas&&l.drawImage(r.axisX.maskCanvas,0,0,this.width,this.height),r.axisY.maskCanvas&&l.drawImage(r.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),l.clearRect(h.x1,h.y1,h.width,h.height),this._eventManager.ghostCtx.restore()),l.restore(),{source:u,dest:this.plotArea.ctx,animationCallback:Se.xScaleAnimation,easingFunction:Se.easing.easeOutQuart,animationBase:w<r.axisY.bounds.x1?r.axisY.bounds.x1:w>r.axisY.bounds.x2?r.axisY.bounds.x2:w}}},k.prototype.renderStackedBar=function(r){var u=r.targetCanvasCtx||this.plotArea.ctx,l=Y?this._preRenderCtx:u;if(!(0>=r.dataSeriesIndexes.length)){var x,g,o=null,h=this.plotArea,p=[],m=[],_=[],w=[],b=0,y=r.axisY.convertValueToPixel(r.axisY.logarithmic?r.axisY.viewportMinimum:0);b=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,g=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.height<<0;var d=r.axisX.dataInfo.minDiff;isFinite(d)||(d=.3*Math.abs(r.axisX.range)),d=this.options.dataPointWidth?this.dataPointWidth:h.height*(r.axisX.logarithmic?Math.log(d)/Math.log(r.axisX.range):Math.abs(d)/Math.abs(r.axisX.range))/r.plotType.plotUnits.length*.9<<0,this.dataPointMaxWidth&&b>g&&(b=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,g)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&g<b&&(g=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,b)),d<b&&(d=b),d>g&&(d=g),l.save(),Y&&this._eventManager.ghostCtx.save(),l.beginPath(),l.rect(h.x1,h.y1,h.width,h.height),l.clip(),Y&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(h.x1,h.y1,h.width,h.height),this._eventManager.ghostCtx.clip());for(var C=0;C<r.dataSeriesIndexes.length;C++){var A=r.dataSeriesIndexes[C],P=this.data[A],T=P.dataPoints;if(0<T.length){var E=!!(5<d&&P.bevelEnabled);for(l.strokeStyle="#4572A7 ",b=0;b<T.length;b++)if(!((o=T[b].x.getTime?T[b].x.getTime():T[b].x)<r.axisX.dataInfo.viewPortMin||o>r.axisX.dataInfo.viewPortMax)&&"number"==typeof T[b].y){var z,F=(g=r.axisX.convertValueToPixel(o))-r.plotType.plotUnits.length*d/2+r.index*d<<0,H=F+d<<0;if(r.axisY.logarithmic||r.axisY.scaleBreaks&&0<r.axisY.scaleBreaks._appliedBreaks.length&&0<T[b].y)_[o]=T[b].y+(_[o]?_[o]:0),0<_[o]&&(z=p[o]?p[o]:y,p[o]=x=r.axisY.convertValueToPixel(_[o]));else if(r.axisY.scaleBreaks&&0<r.axisY.scaleBreaks._appliedBreaks.length&&0>=T[b].y)w[o]=T[b].y+(w[o]?w[o]:0),x=m[o]?m[o]:y,m[o]=z=r.axisY.convertValueToPixel(w[o]);else if(x=r.axisY.convertValueToPixel(T[b].y),0<=T[b].y){var V=p[o]?p[o]:0;p[o]=V+((x+=V)-(z=y+V))}else z=x-(V=m[o]?m[o]:0),m[o]=V+((x=y-V)-z);$t(l,r.axisY.reversed?x:z,F,r.axisY.reversed?z:x,H,o=T[b].color?T[b].color:P._colorSet[b%P._colorSet.length],0,null,E,!1,!1,!1,P.fillOpacity),this._eventManager.objectMap[o=P.dataPointIds[b]]={id:o,objectType:"dataPoint",dataSeriesIndex:A,dataPointIndex:b,x1:z,y1:F,x2:x,y2:H},o=Ge(o),Y&&$t(this._eventManager.ghostCtx,z,F,x,H,o,0,null,!1,!1,!1,!1),(T[b].indexLabel||P.indexLabel||T[b].indexLabelFormatter||P.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedBar",dataPoint:T[b],dataSeries:P,point:{x:0<=T[b].y?x:z,y:g},direction:0>T[b].y===r.axisY.reversed?1:-1,bounds:{x1:Math.min(z,x),y1:F,x2:Math.max(z,x),y2:H},color:o})}}}return Y&&(u.drawImage(this._preRenderCanvas,0,0,this.width,this.height),l.globalCompositeOperation="source-atop",r.axisX.maskCanvas&&l.drawImage(r.axisX.maskCanvas,0,0,this.width,this.height),r.axisY.maskCanvas&&l.drawImage(r.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),l.clearRect(h.x1,h.y1,h.width,h.height),this._eventManager.ghostCtx.restore()),l.restore(),{source:u,dest:this.plotArea.ctx,animationCallback:Se.xScaleAnimation,easingFunction:Se.easing.easeOutQuart,animationBase:y<r.axisY.bounds.x1?r.axisY.bounds.x1:y>r.axisY.bounds.x2?r.axisY.bounds.x2:y}}},k.prototype.renderStackedBar100=function(r){var u=r.targetCanvasCtx||this.plotArea.ctx,l=Y?this._preRenderCtx:u;if(!(0>=r.dataSeriesIndexes.length)){var x,g,o=null,h=this.plotArea,p=[],m=[],_=[],w=[],b=0,y=r.axisY.convertValueToPixel(r.axisY.logarithmic?r.axisY.viewportMinimum:0);b=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,g=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.height<<0;var d=r.axisX.dataInfo.minDiff;isFinite(d)||(d=.3*Math.abs(r.axisX.range)),d=this.options.dataPointWidth?this.dataPointWidth:h.height*(r.axisX.logarithmic?Math.log(d)/Math.log(r.axisX.range):Math.abs(d)/Math.abs(r.axisX.range))/r.plotType.plotUnits.length*.9<<0,this.dataPointMaxWidth&&b>g&&(b=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,g)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&g<b&&(g=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,b)),d<b&&(d=b),d>g&&(d=g),l.save(),Y&&this._eventManager.ghostCtx.save(),l.beginPath(),l.rect(h.x1,h.y1,h.width,h.height),l.clip(),Y&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(h.x1,h.y1,h.width,h.height),this._eventManager.ghostCtx.clip());for(var C=0;C<r.dataSeriesIndexes.length;C++){var A=r.dataSeriesIndexes[C],P=this.data[A],T=P.dataPoints;if(0<T.length){var E=!!(5<d&&P.bevelEnabled);for(l.strokeStyle="#4572A7 ",b=0;b<T.length;b++)if(!((o=T[b].x.getTime?T[b].x.getTime():T[b].x)<r.axisX.dataInfo.viewPortMin||o>r.axisX.dataInfo.viewPortMax)&&"number"==typeof T[b].y){var F;g=r.axisX.convertValueToPixel(o),F=0!==r.dataPointYSums[o]?T[b].y/r.dataPointYSums[o]*100:0;var H=g-r.plotType.plotUnits.length*d/2+r.index*d<<0,z=H+d<<0;if(r.axisY.logarithmic||r.axisY.scaleBreaks&&0<r.axisY.scaleBreaks._appliedBreaks.length&&0<T[b].y){if(_[o]=F+(_[o]?_[o]:0),0>=_[o])continue;F=p[o]?p[o]:y,p[o]=x=r.axisY.convertValueToPixel(_[o])}else if(r.axisY.scaleBreaks&&0<r.axisY.scaleBreaks._appliedBreaks.length&&0>=T[b].y)w[o]=F+(w[o]?w[o]:0),x=m[o]?m[o]:y,m[o]=F=r.axisY.convertValueToPixel(w[o]);else if(x=r.axisY.convertValueToPixel(F),0<=T[b].y){var V=p[o]?p[o]:0;F=y+V,x+=V,r.dataSeriesIndexes.length-1===C&&1>=Math.abs(h.x2-x)&&(x=h.x2),p[o]=V+(x-F)}else F=x-(V=m[o]?m[o]:0),x=y-V,r.dataSeriesIndexes.length-1===C&&1>=Math.abs(h.x1-F)&&(F=h.x1),m[o]=V+(x-F);$t(l,r.axisY.reversed?x:F,H,r.axisY.reversed?F:x,z,o=T[b].color?T[b].color:P._colorSet[b%P._colorSet.length],0,null,E,!1,!1,!1,P.fillOpacity),this._eventManager.objectMap[o=P.dataPointIds[b]]={id:o,objectType:"dataPoint",dataSeriesIndex:A,dataPointIndex:b,x1:F,y1:H,x2:x,y2:z},o=Ge(o),Y&&$t(this._eventManager.ghostCtx,F,H,x,z,o,0,null,!1,!1,!1,!1),(T[b].indexLabel||P.indexLabel||T[b].indexLabelFormatter||P.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedBar100",dataPoint:T[b],dataSeries:P,point:{x:0<=T[b].y?x:F,y:g},direction:0>T[b].y===r.axisY.reversed?1:-1,bounds:{x1:Math.min(F,x),y1:H,x2:Math.max(F,x),y2:z},color:o})}}}return Y&&(u.drawImage(this._preRenderCanvas,0,0,this.width,this.height),l.globalCompositeOperation="source-atop",r.axisX.maskCanvas&&l.drawImage(r.axisX.maskCanvas,0,0,this.width,this.height),r.axisY.maskCanvas&&l.drawImage(r.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),l.clearRect(h.x1,h.y1,h.width,h.height),this._eventManager.ghostCtx.restore()),l.restore(),{source:u,dest:this.plotArea.ctx,animationCallback:Se.xScaleAnimation,easingFunction:Se.easing.easeOutQuart,animationBase:y<r.axisY.bounds.x1?r.axisY.bounds.x1:y>r.axisY.bounds.x2?r.axisY.bounds.x2:y}}},k.prototype.renderArea=function(r){var u,l;function o(){z&&(0<d.lineThickness&&p.stroke(),r.axisY.logarithmic||0>=r.axisY.viewportMinimum&&0<=r.axisY.viewportMaximum?H=F:0>r.axisY.viewportMaximum?H=_.y1:0<r.axisY.viewportMinimum&&(H=F),p.lineTo(P,H),p.lineTo(z.x,H),p.closePath(),p.globalAlpha=d.fillOpacity,p.fill(),p.globalAlpha=1,Y&&(m.lineTo(P,H),m.lineTo(z.x,H),m.closePath(),m.fill()),p.beginPath(),p.moveTo(P,T),m.beginPath(),m.moveTo(P,T),z={x:P,y:T})}var h=r.targetCanvasCtx||this.plotArea.ctx,p=Y?this._preRenderCtx:h;if(!(0>=r.dataSeriesIndexes.length)){var g,m=this._eventManager.ghostCtx,_=r.axisY.lineCoordinates,w=[],x=this.plotArea;p.save(),Y&&m.save(),p.beginPath(),p.rect(x.x1,x.y1,x.width,x.height),p.clip(),Y&&(m.beginPath(),m.rect(x.x1,x.y1,x.width,x.height),m.clip());for(var y=0;y<r.dataSeriesIndexes.length;y++){var b=r.dataSeriesIndexes[y],d=this.data[b],C=d.dataPoints;this._eventManager.objectMap[w=d.id]={objectType:"dataSeries",dataSeriesIndex:b},w=Ge(w),m.fillStyle=w,w=[],u=!0;var P,T,E,H,A=0,F=r.axisY.convertValueToPixel(r.axisY.logarithmic?r.axisY.viewportMinimum:0),z=null;if(0<C.length){var V=d._colorSet[A%d._colorSet.length],ee=d.lineColor=d.options.lineColor||V,ae=ee;if(p.fillStyle=V,p.strokeStyle=ee,p.lineWidth=d.lineThickness,l="solid",p.setLineDash){var G=Ke(d.nullDataLineDashType,d.lineThickness),K=Ke(l=d.lineDashType,d.lineThickness);p.setLineDash(K)}for(var J=!0;A<C.length;A++)if(!((E=C[A].x.getTime?C[A].x.getTime():C[A].x)<r.axisX.dataInfo.viewPortMin||E>r.axisX.dataInfo.viewPortMax&&(!d.connectNullData||!J)))if("number"!=typeof C[A].y)d.connectNullData||J||u||o(),J=!0;else{P=r.axisX.convertValueToPixel(E),T=r.axisY.convertValueToPixel(C[A].y),u||J?(!u&&d.connectNullData?(p.setLineDash&&(d.options.nullDataLineDashType||l===d.lineDashType&&d.lineDashType!==d.nullDataLineDashType)&&(u=P,l=T,P=g.x,T=g.y,o(),p.moveTo(g.x,g.y),P=u,T=l,z=g,l=d.nullDataLineDashType,p.setLineDash(G)),p.lineTo(P,T),Y&&m.lineTo(P,T)):(p.beginPath(),p.moveTo(P,T),Y&&(m.beginPath(),m.moveTo(P,T)),z={x:P,y:T}),J=u=!1):(p.lineTo(P,T),Y&&m.lineTo(P,T),A%250==0&&o()),g={x:P,y:T},A<C.length-1&&(ae!==(C[A].lineColor||ee)||l!==(C[A].lineDashType||d.lineDashType))&&(o(),p.strokeStyle=ae=C[A].lineColor||ee,p.setLineDash&&(C[A].lineDashType?p.setLineDash(Ke(l=C[A].lineDashType,d.lineThickness)):(l=d.lineDashType,p.setLineDash(K))));var U=d.dataPointIds[A];this._eventManager.objectMap[U]={id:U,objectType:"dataPoint",dataSeriesIndex:b,dataPointIndex:A,x1:P,y1:T},0!==C[A].markerSize&&(0<C[A].markerSize||0<d.markerSize)&&(E=d.getMarkerProperties(A,P,T,p),w.push(E),U=Ge(U),Y&&w.push({x:P,y:T,ctx:m,type:E.type,size:E.size,color:U,borderColor:U,borderThickness:E.borderThickness})),(C[A].indexLabel||d.indexLabel||C[A].indexLabelFormatter||d.indexLabelFormatter)&&this._indexLabels.push({chartType:"area",dataPoint:C[A],dataSeries:d,point:{x:P,y:T},direction:0>C[A].y===r.axisY.reversed?1:-1,color:V})}o(),Lt.drawMarkers(w)}}return Y&&(h.drawImage(this._preRenderCanvas,0,0,this.width,this.height),p.globalCompositeOperation="source-atop",r.axisX.maskCanvas&&p.drawImage(r.axisX.maskCanvas,0,0,this.width,this.height),r.axisY.maskCanvas&&p.drawImage(r.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),p.clearRect(x.x1,x.y1,x.width,x.height),this._eventManager.ghostCtx.restore()),p.restore(),{source:h,dest:this.plotArea.ctx,animationCallback:Se.xClipAnimation,easingFunction:Se.easing.linear,animationBase:0}}},k.prototype.renderSplineArea=function(r){function u(){var J=B(E,2);if(0<J.length){if(0<g.lineThickness){o.beginPath(),o.moveTo(J[0].x,J[0].y),J[0].newStrokeStyle&&(o.strokeStyle=J[0].newStrokeStyle),J[0].newLineDashArray&&o.setLineDash(J[0].newLineDashArray);for(var U=0;U<J.length-3;U+=3)o.bezierCurveTo(J[U+1].x,J[U+1].y,J[U+2].x,J[U+2].y,J[U+3].x,J[U+3].y),Y&&h.bezierCurveTo(J[U+1].x,J[U+1].y,J[U+2].x,J[U+2].y,J[U+3].x,J[U+3].y),(J[U+3].newStrokeStyle||J[U+3].newLineDashArray)&&(o.stroke(),o.beginPath(),o.moveTo(J[U+3].x,J[U+3].y),J[U+3].newStrokeStyle&&(o.strokeStyle=J[U+3].newStrokeStyle),J[U+3].newLineDashArray&&o.setLineDash(J[U+3].newLineDashArray));o.stroke()}for(o.beginPath(),o.moveTo(J[0].x,J[0].y),Y&&(h.beginPath(),h.moveTo(J[0].x,J[0].y)),U=0;U<J.length-3;U+=3)o.bezierCurveTo(J[U+1].x,J[U+1].y,J[U+2].x,J[U+2].y,J[U+3].x,J[U+3].y),Y&&h.bezierCurveTo(J[U+1].x,J[U+1].y,J[U+2].x,J[U+2].y,J[U+3].x,J[U+3].y);r.axisY.logarithmic||0>=r.axisY.viewportMinimum&&0<=r.axisY.viewportMaximum?P=A:0>r.axisY.viewportMaximum?P=p.y1:0<r.axisY.viewportMinimum&&(P=A),T={x:J[0].x,y:J[0].y},o.lineTo(J[J.length-1].x,P),o.lineTo(T.x,P),o.closePath(),o.globalAlpha=g.fillOpacity,o.fill(),o.globalAlpha=1,Y&&(h.lineTo(J[J.length-1].x,P),h.lineTo(T.x,P),h.closePath(),h.fill())}}var l=r.targetCanvasCtx||this.plotArea.ctx,o=Y?this._preRenderCtx:l;if(!(0>=r.dataSeriesIndexes.length)){var h=this._eventManager.ghostCtx,p=r.axisY.lineCoordinates,m=[],_=this.plotArea;o.save(),Y&&h.save(),o.beginPath(),o.rect(_.x1,_.y1,_.width,_.height),o.clip(),Y&&(h.beginPath(),h.rect(_.x1,_.y1,_.width,_.height),h.clip());for(var w=0;w<r.dataSeriesIndexes.length;w++){var x=r.dataSeriesIndexes[w],g=this.data[x],y=g.dataPoints;this._eventManager.objectMap[m=g.id]={objectType:"dataSeries",dataSeriesIndex:x},m=Ge(m),h.fillStyle=m,m=[];var d,C,P,b=0,A=r.axisY.convertValueToPixel(r.axisY.logarithmic?r.axisY.viewportMinimum:0),T=null,E=[];if(0<y.length){var F=g._colorSet[b%g._colorSet.length],H=g.lineColor=g.options.lineColor||F,z=H;o.fillStyle=F,o.strokeStyle=H,o.lineWidth=g.lineThickness;var V="solid";if(o.setLineDash){var ee=Ke(g.nullDataLineDashType,g.lineThickness),ae=Ke(V=g.lineDashType,g.lineThickness);o.setLineDash(ae)}for(C=!1;b<y.length;b++)if(!((d=y[b].x.getTime?y[b].x.getTime():y[b].x)<r.axisX.dataInfo.viewPortMin||d>r.axisX.dataInfo.viewPortMax&&(!g.connectNullData||!C)))if("number"!=typeof y[b].y)0<b&&!C&&(g.connectNullData?o.setLineDash&&0<E.length&&(g.options.nullDataLineDashType||!y[b-1].lineDashType)&&(E[E.length-1].newLineDashArray=ee,V=g.nullDataLineDashType):(u(),E=[])),C=!0;else{d=r.axisX.convertValueToPixel(d),C=r.axisY.convertValueToPixel(y[b].y);var G=g.dataPointIds[b];if(this._eventManager.objectMap[G]={id:G,objectType:"dataPoint",dataSeriesIndex:x,dataPointIndex:b,x1:d,y1:C},E[E.length]={x:d,y:C},b<y.length-1&&(z!==(y[b].lineColor||H)||V!==(y[b].lineDashType||g.lineDashType))&&(E[E.length-1].newStrokeStyle=z=y[b].lineColor||H,o.setLineDash&&(y[b].lineDashType?E[E.length-1].newLineDashArray=Ke(V=y[b].lineDashType,g.lineThickness):(V=g.lineDashType,E[E.length-1].newLineDashArray=ae))),0!==y[b].markerSize&&(0<y[b].markerSize||0<g.markerSize)){var K=g.getMarkerProperties(b,d,C,o);m.push(K),G=Ge(G),Y&&m.push({x:d,y:C,ctx:h,type:K.type,size:K.size,color:G,borderColor:G,borderThickness:K.borderThickness})}(y[b].indexLabel||g.indexLabel||y[b].indexLabelFormatter||g.indexLabelFormatter)&&this._indexLabels.push({chartType:"splineArea",dataPoint:y[b],dataSeries:g,point:{x:d,y:C},direction:0>y[b].y===r.axisY.reversed?1:-1,color:F}),C=!1}u(),Lt.drawMarkers(m)}}return Y&&(l.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.globalCompositeOperation="source-atop",r.axisX.maskCanvas&&o.drawImage(r.axisX.maskCanvas,0,0,this.width,this.height),r.axisY.maskCanvas&&o.drawImage(r.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.clearRect(_.x1,_.y1,_.width,_.height),this._eventManager.ghostCtx.restore()),o.restore(),{source:l,dest:this.plotArea.ctx,animationCallback:Se.xClipAnimation,easingFunction:Se.easing.linear,animationBase:0}}},k.prototype.renderStepArea=function(r){var u,l;function o(){z&&(0<d.lineThickness&&p.stroke(),r.axisY.logarithmic||0>=r.axisY.viewportMinimum&&0<=r.axisY.viewportMaximum?H=F:0>r.axisY.viewportMaximum?H=_.y1:0<r.axisY.viewportMinimum&&(H=F),p.lineTo(P,H),p.lineTo(z.x,H),p.closePath(),p.globalAlpha=d.fillOpacity,p.fill(),p.globalAlpha=1,Y&&(m.lineTo(P,H),m.lineTo(z.x,H),m.closePath(),m.fill()),p.beginPath(),p.moveTo(P,T),m.beginPath(),m.moveTo(P,T),z={x:P,y:T})}var h=r.targetCanvasCtx||this.plotArea.ctx,p=Y?this._preRenderCtx:h;if(!(0>=r.dataSeriesIndexes.length)){var g,m=this._eventManager.ghostCtx,_=r.axisY.lineCoordinates,w=[],x=this.plotArea;p.save(),Y&&m.save(),p.beginPath(),p.rect(x.x1,x.y1,x.width,x.height),p.clip(),Y&&(m.beginPath(),m.rect(x.x1,x.y1,x.width,x.height),m.clip());for(var y=0;y<r.dataSeriesIndexes.length;y++){var b=r.dataSeriesIndexes[y],d=this.data[b],C=d.dataPoints;this._eventManager.objectMap[w=d.id]={objectType:"dataSeries",dataSeriesIndex:b},w=Ge(w),m.fillStyle=w,w=[],u=!0;var P,T,E,H,A=0,F=r.axisY.convertValueToPixel(r.axisY.logarithmic?r.axisY.viewportMinimum:0),z=null;if(l=!1,0<C.length){var V=d._colorSet[A%d._colorSet.length],ee=d.lineColor=d.options.lineColor||V,ae=ee;p.fillStyle=V,p.strokeStyle=ee,p.lineWidth=d.lineThickness;var G="solid";if(p.setLineDash){var K=Ke(d.nullDataLineDashType,d.lineThickness),J=Ke(G=d.lineDashType,d.lineThickness);p.setLineDash(J)}for(;A<C.length;A++)if(!((E=C[A].x.getTime?C[A].x.getTime():C[A].x)<r.axisX.dataInfo.viewPortMin||E>r.axisX.dataInfo.viewPortMax&&(!d.connectNullData||!l))){var U=T;"number"!=typeof C[A].y?(d.connectNullData||l||u||o(),l=!0):(P=r.axisX.convertValueToPixel(E),T=r.axisY.convertValueToPixel(C[A].y),u||l?(!u&&d.connectNullData?(p.setLineDash&&(d.options.nullDataLineDashType||G===d.lineDashType&&d.lineDashType!==d.nullDataLineDashType)&&(u=P,l=T,P=g.x,T=g.y,o(),p.moveTo(g.x,g.y),P=u,T=l,z=g,G=d.nullDataLineDashType,p.setLineDash(K)),p.lineTo(P,U),p.lineTo(P,T),Y&&(m.lineTo(P,U),m.lineTo(P,T))):(p.beginPath(),p.moveTo(P,T),Y&&(m.beginPath(),m.moveTo(P,T)),z={x:P,y:T}),l=u=!1):(p.lineTo(P,U),Y&&m.lineTo(P,U),p.lineTo(P,T),Y&&m.lineTo(P,T),A%250==0&&o()),g={x:P,y:T},A<C.length-1&&(ae!==(C[A].lineColor||ee)||G!==(C[A].lineDashType||d.lineDashType))&&(o(),p.strokeStyle=ae=C[A].lineColor||ee,p.setLineDash&&(C[A].lineDashType?p.setLineDash(Ke(G=C[A].lineDashType,d.lineThickness)):(G=d.lineDashType,p.setLineDash(J)))),this._eventManager.objectMap[E=d.dataPointIds[A]]={id:E,objectType:"dataPoint",dataSeriesIndex:b,dataPointIndex:A,x1:P,y1:T},0!==C[A].markerSize&&(0<C[A].markerSize||0<d.markerSize)&&(U=d.getMarkerProperties(A,P,T,p),w.push(U),E=Ge(E),Y&&w.push({x:P,y:T,ctx:m,type:U.type,size:U.size,color:E,borderColor:E,borderThickness:U.borderThickness})),(C[A].indexLabel||d.indexLabel||C[A].indexLabelFormatter||d.indexLabelFormatter)&&this._indexLabels.push({chartType:"stepArea",dataPoint:C[A],dataSeries:d,point:{x:P,y:T},direction:0>C[A].y===r.axisY.reversed?1:-1,color:V}))}o(),Lt.drawMarkers(w)}}return Y&&(h.drawImage(this._preRenderCanvas,0,0,this.width,this.height),p.globalCompositeOperation="source-atop",r.axisX.maskCanvas&&p.drawImage(r.axisX.maskCanvas,0,0,this.width,this.height),r.axisY.maskCanvas&&p.drawImage(r.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),p.clearRect(x.x1,x.y1,x.width,x.height),this._eventManager.ghostCtx.restore()),p.restore(),{source:h,dest:this.plotArea.ctx,animationCallback:Se.xClipAnimation,easingFunction:Se.easing.linear,animationBase:0}}},k.prototype.renderStackedArea=function(r){function u(){if(!(1>x.length)){for(0<V.lineThickness&&o.stroke();0<x.length;){var W=x.pop();o.lineTo(W.x,W.y),Y&&P.lineTo(W.x,W.y)}o.closePath(),o.globalAlpha=V.fillOpacity,o.fill(),o.globalAlpha=1,o.beginPath(),Y&&(P.closePath(),P.fill(),P.beginPath()),x=[]}}var l=r.targetCanvasCtx||this.plotArea.ctx,o=Y?this._preRenderCtx:l;if(!(0>=r.dataSeriesIndexes.length)){var d,C,T,E,F,h=null,p=null,m=[],_=this.plotArea,w=[],x=[],g=[],y=[],b=0,A=r.axisY.convertValueToPixel(r.axisY.logarithmic?r.axisY.viewportMinimum:0),P=this._eventManager.ghostCtx;Y&&P.beginPath(),o.save(),Y&&P.save(),o.beginPath(),o.rect(_.x1,_.y1,_.width,_.height),o.clip(),Y&&(P.beginPath(),P.rect(_.x1,_.y1,_.width,_.height),P.clip()),h=[];for(var H=0;H<r.dataSeriesIndexes.length;H++){var z=r.dataSeriesIndexes[H],V=this.data[z],ee=V.dataPoints;for(V.dataPointIndexes=[],b=0;b<ee.length;b++)z=ee[b].x.getTime?ee[b].x.getTime():ee[b].x,V.dataPointIndexes[z]=b,h[z]||(g.push(z),h[z]=!0);g.sort(is)}for(H=0;H<r.dataSeriesIndexes.length;H++){if(ee=(V=this.data[z=r.dataSeriesIndexes[H]]).dataPoints,E=!0,x=[],this._eventManager.objectMap[b=V.id]={objectType:"dataSeries",dataSeriesIndex:z},b=Ge(b),P.fillStyle=b,0<g.length){h=V._colorSet[0];var ae=V.lineColor=V.options.lineColor||h,G=ae;if(o.fillStyle=h,o.strokeStyle=ae,o.lineWidth=V.lineThickness,F="solid",o.setLineDash){var K=Ke(V.nullDataLineDashType,V.lineThickness),J=Ke(F=V.lineDashType,V.lineThickness);o.setLineDash(J)}var U=!0;for(b=0;b<g.length;b++){var O=0<=V.dataPointIndexes[p=g[b]]?ee[V.dataPointIndexes[p]]:{x:p,y:null};if(!(p<r.axisX.dataInfo.viewPortMin||p>r.axisX.dataInfo.viewPortMax&&(!V.connectNullData||!U)))if("number"!=typeof O.y)V.connectNullData||U||E||u(),U=!0;else{d=r.axisX.convertValueToPixel(p);var ne=w[p]?w[p]:0;if(r.axisY.logarithmic||r.axisY.scaleBreaks&&0<r.axisY.scaleBreaks._appliedBreaks.length){if(y[p]=O.y+(y[p]?y[p]:0),0>=y[p]&&r.axisY.logarithmic)continue;C=r.axisY.convertValueToPixel(y[p])}else C=r.axisY.convertValueToPixel(O.y),C-=ne;if(x.push({x:d,y:A-ne}),w[p]=A-C,E||U?(!E&&V.connectNullData?(o.setLineDash&&(V.options.nullDataLineDashType||F===V.lineDashType&&V.lineDashType!==V.nullDataLineDashType)&&(E=x.pop(),F=x[x.length-1],u(),o.moveTo(T.x,T.y),x.push(F),x.push(E),F=V.nullDataLineDashType,o.setLineDash(K)),o.lineTo(d,C),Y&&P.lineTo(d,C)):(o.beginPath(),o.moveTo(d,C),Y&&(P.beginPath(),P.moveTo(d,C))),U=E=!1):(o.lineTo(d,C),Y&&P.lineTo(d,C),b%250==0&&(u(),o.moveTo(d,C),Y&&P.moveTo(d,C),x.push({x:d,y:A-ne}))),T={x:d,y:C},b<ee.length-1&&(G!==(ee[b].lineColor||ae)||F!==(ee[b].lineDashType||V.lineDashType))&&(u(),o.beginPath(),o.moveTo(d,C),x.push({x:d,y:A-ne}),o.strokeStyle=G=ee[b].lineColor||ae,o.setLineDash&&(ee[b].lineDashType?o.setLineDash(Ke(F=ee[b].lineDashType,V.lineThickness)):(F=V.lineDashType,o.setLineDash(J)))),0<=V.dataPointIndexes[p]){var he=V.dataPointIds[V.dataPointIndexes[p]];this._eventManager.objectMap[he]={id:he,objectType:"dataPoint",dataSeriesIndex:z,dataPointIndex:V.dataPointIndexes[p],x1:d,y1:C}}0<=V.dataPointIndexes[p]&&0!==O.markerSize&&(0<O.markerSize||0<V.markerSize)&&(ne=V.getMarkerProperties(V.dataPointIndexes[p],d,C,o),m.push(ne),p=Ge(he),Y&&m.push({x:d,y:C,ctx:P,type:ne.type,size:ne.size,color:p,borderColor:p,borderThickness:ne.borderThickness})),(O.indexLabel||V.indexLabel||O.indexLabelFormatter||V.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedArea",dataPoint:O,dataSeries:V,point:{x:d,y:C},direction:0>ee[b].y===r.axisY.reversed?1:-1,color:h})}}u(),o.moveTo(d,C),Y&&P.moveTo(d,C)}delete V.dataPointIndexes}return Lt.drawMarkers(m),Y&&(l.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.globalCompositeOperation="source-atop",r.axisX.maskCanvas&&o.drawImage(r.axisX.maskCanvas,0,0,this.width,this.height),r.axisY.maskCanvas&&o.drawImage(r.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.clearRect(_.x1,_.y1,_.width,_.height),P.restore()),o.restore(),{source:l,dest:this.plotArea.ctx,animationCallback:Se.xClipAnimation,easingFunction:Se.easing.linear,animationBase:0}}},k.prototype.renderStackedArea100=function(r){function u(){for(0<V.lineThickness&&o.stroke();0<x.length;){var ze=x.pop();o.lineTo(ze.x,ze.y),Y&&F.lineTo(ze.x,ze.y)}o.closePath(),o.globalAlpha=V.fillOpacity,o.fill(),o.globalAlpha=1,o.beginPath(),Y&&(F.closePath(),F.fill(),F.beginPath()),x=[]}var l=r.targetCanvasCtx||this.plotArea.ctx,o=Y?this._preRenderCtx:l;if(!(0>=r.dataSeriesIndexes.length)){var d,C,A,P,T,h=null,p=null,m=this.plotArea,_=[],w=[],x=[],g=[],y=[],b=0,E=r.axisY.convertValueToPixel(r.axisY.logarithmic?r.axisY.viewportMinimum:0),F=this._eventManager.ghostCtx;o.save(),Y&&F.save(),o.beginPath(),o.rect(m.x1,m.y1,m.width,m.height),o.clip(),Y&&(F.beginPath(),F.rect(m.x1,m.y1,m.width,m.height),F.clip()),h=[];for(var H=0;H<r.dataSeriesIndexes.length;H++){var z=r.dataSeriesIndexes[H],V=this.data[z],ee=V.dataPoints;for(V.dataPointIndexes=[],b=0;b<ee.length;b++)z=ee[b].x.getTime?ee[b].x.getTime():ee[b].x,V.dataPointIndexes[z]=b,h[z]||(g.push(z),h[z]=!0);g.sort(is)}for(H=0;H<r.dataSeriesIndexes.length;H++){if(ee=(V=this.data[z=r.dataSeriesIndexes[H]]).dataPoints,P=!0,this._eventManager.objectMap[h=V.id]={objectType:"dataSeries",dataSeriesIndex:z},h=Ge(h),F.fillStyle=h,x=[],0<g.length){h=V._colorSet[b%V._colorSet.length];var ae=V.lineColor=V.options.lineColor||h,G=ae;if(o.fillStyle=h,o.strokeStyle=ae,o.lineWidth=V.lineThickness,T="solid",o.setLineDash){var K=Ke(V.nullDataLineDashType,V.lineThickness),J=Ke(T=V.lineDashType,V.lineThickness);o.setLineDash(J)}var U=!0;for(b=0;b<g.length;b++){var O=0<=V.dataPointIndexes[p=g[b]]?ee[V.dataPointIndexes[p]]:{x:p,y:null};if(!(p<r.axisX.dataInfo.viewPortMin||p>r.axisX.dataInfo.viewPortMax&&(!V.connectNullData||!U)))if("number"!=typeof O.y)V.connectNullData||U||P||u(),U=!0;else{var ne;ne=0!==r.dataPointYSums[p]?O.y/r.dataPointYSums[p]*100:0,d=r.axisX.convertValueToPixel(p);var he=w[p]?w[p]:0;if(r.axisY.logarithmic||r.axisY.scaleBreaks&&0<r.axisY.scaleBreaks._appliedBreaks.length){if(y[p]=ne+(y[p]?y[p]:0),0>=y[p]&&r.axisY.logarithmic)continue;C=r.axisY.convertValueToPixel(y[p])}else C=r.axisY.convertValueToPixel(ne),C-=he;if(x.push({x:d,y:E-he}),w[p]=E-C,P||U?(!P&&V.connectNullData?(o.setLineDash&&(V.options.nullDataLineDashType||T===V.lineDashType&&V.lineDashType!==V.nullDataLineDashType)&&(P=x.pop(),T=x[x.length-1],u(),o.moveTo(A.x,A.y),x.push(T),x.push(P),T=V.nullDataLineDashType,o.setLineDash(K)),o.lineTo(d,C),Y&&F.lineTo(d,C)):(o.beginPath(),o.moveTo(d,C),Y&&(F.beginPath(),F.moveTo(d,C))),U=P=!1):(o.lineTo(d,C),Y&&F.lineTo(d,C),b%250==0&&(u(),o.moveTo(d,C),Y&&F.moveTo(d,C),x.push({x:d,y:E-he}))),A={x:d,y:C},b<ee.length-1&&(G!==(ee[b].lineColor||ae)||T!==(ee[b].lineDashType||V.lineDashType))&&(u(),o.beginPath(),o.moveTo(d,C),x.push({x:d,y:E-he}),o.strokeStyle=G=ee[b].lineColor||ae,o.setLineDash&&(ee[b].lineDashType?o.setLineDash(Ke(T=ee[b].lineDashType,V.lineThickness)):(T=V.lineDashType,o.setLineDash(J)))),0<=V.dataPointIndexes[p]){var W=V.dataPointIds[V.dataPointIndexes[p]];this._eventManager.objectMap[W]={id:W,objectType:"dataPoint",dataSeriesIndex:z,dataPointIndex:V.dataPointIndexes[p],x1:d,y1:C}}0<=V.dataPointIndexes[p]&&0!==O.markerSize&&(0<O.markerSize||0<V.markerSize)&&(he=V.getMarkerProperties(b,d,C,o),_.push(he),p=Ge(W),Y&&_.push({x:d,y:C,ctx:F,type:he.type,size:he.size,color:p,borderColor:p,borderThickness:he.borderThickness})),(O.indexLabel||V.indexLabel||O.indexLabelFormatter||V.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedArea100",dataPoint:O,dataSeries:V,point:{x:d,y:C},direction:0>ee[b].y===r.axisY.reversed?1:-1,color:h})}}u(),o.moveTo(d,C),Y&&F.moveTo(d,C)}delete V.dataPointIndexes}return Lt.drawMarkers(_),Y&&(l.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.globalCompositeOperation="source-atop",r.axisX.maskCanvas&&o.drawImage(r.axisX.maskCanvas,0,0,this.width,this.height),r.axisY.maskCanvas&&o.drawImage(r.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.clearRect(m.x1,m.y1,m.width,m.height),F.restore()),o.restore(),{source:l,dest:this.plotArea.ctx,animationCallback:Se.xClipAnimation,easingFunction:Se.easing.linear,animationBase:0}}},k.prototype.renderBubble=function(r){var u=r.targetCanvasCtx||this.plotArea.ctx,l=Y?this._preRenderCtx:u;if(!(0>=r.dataSeriesIndexes.length)){var p,m,o=this.plotArea,h=0;l.save(),Y&&this._eventManager.ghostCtx.save(),l.beginPath(),l.rect(o.x1,o.y1,o.width,o.height),l.clip(),Y&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(o.x1,o.y1,o.width,o.height),this._eventManager.ghostCtx.clip());for(var _=-1/0,w=1/0,x=0;x<r.dataSeriesIndexes.length;x++){var g=r.dataSeriesIndexes[x],y=this.data[g],b=y.dataPoints,d=0;for(h=0;h<b.length;h++)(p=p=b[h].getTime?b[h].x.getTime():b[h].x)<r.axisX.dataInfo.viewPortMin||p>r.axisX.dataInfo.viewPortMax||void 0===b[h].z||((d=b[h].z)>_&&(_=d),d<w&&(w=d))}var C=25*Math.PI,A=Math.max(Math.pow(.25*Math.min(o.height,o.width)/2,2)*Math.PI,C);for(x=0;x<r.dataSeriesIndexes.length;x++)if(0<(b=(y=this.data[g=r.dataSeriesIndexes[x]]).dataPoints).length)for(l.strokeStyle="#4572A7 ",h=0;h<b.length;h++)if(!((p=p=b[h].getTime?b[h].x.getTime():b[h].x)<r.axisX.dataInfo.viewPortMin||p>r.axisX.dataInfo.viewPortMax)&&"number"==typeof b[h].y){p=r.axisX.convertValueToPixel(p),m=r.axisY.convertValueToPixel(b[h].y),d=b[h].z;var P=2*Math.max(Math.sqrt((_===w?A/2:C+(A-C)/(_-w)*(d-w))/Math.PI)<<0,1);(d=y.getMarkerProperties(h,l)).size=P,l.globalAlpha=y.fillOpacity,Lt.drawMarker(p,m,l,d.type,d.size,d.color,d.borderColor,d.borderThickness),l.globalAlpha=1;var T=y.dataPointIds[h];this._eventManager.objectMap[T]={id:T,objectType:"dataPoint",dataSeriesIndex:g,dataPointIndex:h,x1:p,y1:m,size:P},P=Ge(T),Y&&Lt.drawMarker(p,m,this._eventManager.ghostCtx,d.type,d.size,P,P,d.borderThickness),(b[h].indexLabel||y.indexLabel||b[h].indexLabelFormatter||y.indexLabelFormatter)&&this._indexLabels.push({chartType:"bubble",dataPoint:b[h],dataSeries:y,point:{x:p,y:m},direction:1,bounds:{x1:p-d.size/2,y1:m-d.size/2,x2:p+d.size/2,y2:m+d.size/2},color:null})}return Y&&(u.drawImage(this._preRenderCanvas,0,0,this.width,this.height),l.globalCompositeOperation="source-atop",r.axisX.maskCanvas&&l.drawImage(r.axisX.maskCanvas,0,0,this.width,this.height),r.axisY.maskCanvas&&l.drawImage(r.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),l.clearRect(o.x1,o.y1,o.width,o.height),this._eventManager.ghostCtx.restore()),l.restore(),{source:u,dest:this.plotArea.ctx,animationCallback:Se.fadeInAnimation,easingFunction:Se.easing.easeInQuad,animationBase:0}}},k.prototype.renderScatter=function(r){var u=r.targetCanvasCtx||this.plotArea.ctx,l=Y?this._preRenderCtx:u;if(!(0>=r.dataSeriesIndexes.length)){var p,m,o=this.plotArea,h=0;l.save(),Y&&this._eventManager.ghostCtx.save(),l.beginPath(),l.rect(o.x1,o.y1,o.width,o.height),l.clip(),Y&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(o.x1,o.y1,o.width,o.height),this._eventManager.ghostCtx.clip());for(var _=0;_<r.dataSeriesIndexes.length;_++){var w=r.dataSeriesIndexes[_],x=this.data[w],g=x.dataPoints;if(0<g.length){l.strokeStyle="#4572A7 ",Math.pow(.3*Math.min(o.height,o.width)/2,2);var y=0,b=0;for(h=0;h<g.length;h++)if(!((p=p=g[h].getTime?g[h].x.getTime():g[h].x)<r.axisX.dataInfo.viewPortMin||p>r.axisX.dataInfo.viewPortMax)&&"number"==typeof g[h].y){p=r.axisX.convertValueToPixel(p),m=r.axisY.convertValueToPixel(g[h].y);var d=x.getMarkerProperties(h,p,m,l);l.globalAlpha=x.fillOpacity,Lt.drawMarker(d.x,d.y,d.ctx,d.type,d.size,d.color,d.borderColor,d.borderThickness),l.globalAlpha=1,Math.sqrt((y-p)*(y-p)+(b-m)*(b-m))<Math.min(d.size,5)&&g.length>Math.min(this.plotArea.width,this.plotArea.height)||(this._eventManager.objectMap[y=x.dataPointIds[h]]={id:y,objectType:"dataPoint",dataSeriesIndex:w,dataPointIndex:h,x1:p,y1:m},y=Ge(y),Y&&Lt.drawMarker(d.x,d.y,this._eventManager.ghostCtx,d.type,d.size,y,y,d.borderThickness),(g[h].indexLabel||x.indexLabel||g[h].indexLabelFormatter||x.indexLabelFormatter)&&this._indexLabels.push({chartType:"scatter",dataPoint:g[h],dataSeries:x,point:{x:p,y:m},direction:1,bounds:{x1:p-d.size/2,y1:m-d.size/2,x2:p+d.size/2,y2:m+d.size/2},color:null}),y=p,b=m)}}}return Y&&(u.drawImage(this._preRenderCanvas,0,0,this.width,this.height),l.globalCompositeOperation="source-atop",r.axisX.maskCanvas&&l.drawImage(r.axisX.maskCanvas,0,0,this.width,this.height),r.axisY.maskCanvas&&l.drawImage(r.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),l.clearRect(o.x1,o.y1,o.width,o.height),this._eventManager.ghostCtx.restore()),l.restore(),{source:u,dest:this.plotArea.ctx,animationCallback:Se.fadeInAnimation,easingFunction:Se.easing.easeInQuad,animationBase:0}}},k.prototype.renderCandlestick=function(r){var u=r.targetCanvasCtx||this.plotArea.ctx,l=Y?this._preRenderCtx:u,o=this._eventManager.ghostCtx;if(!(0>=r.dataSeriesIndexes.length)){var m,_,w,x,g,y,b=null,d=null,h=this.plotArea,p=0,C=(b=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,d=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.015*this.width,r.axisX.dataInfo.minDiff);isFinite(C)||(C=.3*Math.abs(r.axisX.range)),C=this.options.dataPointWidth?this.dataPointWidth:.7*h.width*(r.axisX.logarithmic?Math.log(C)/Math.log(r.axisX.range):Math.abs(C)/Math.abs(r.axisX.range))<<0,this.dataPointMaxWidth&&b>d&&(b=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,d)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&d<b&&(d=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,b)),C<b&&(C=b),C>d&&(C=d),l.save(),Y&&o.save(),l.beginPath(),l.rect(h.x1,h.y1,h.width,h.height),l.clip(),Y&&(o.beginPath(),o.rect(h.x1,h.y1,h.width,h.height),o.clip());for(var A=0;A<r.dataSeriesIndexes.length;A++){var P=r.dataSeriesIndexes[A],T=this.data[P],E=T.dataPoints;if(0<E.length){var F=!!(5<C&&T.bevelEnabled);for(p=0;p<E.length;p++)if(!((y=E[p].getTime?E[p].x.getTime():E[p].x)<r.axisX.dataInfo.viewPortMin||y>r.axisX.dataInfo.viewPortMax)&&!j(E[p].y)&&E[p].y.length&&"number"==typeof E[p].y[0]&&"number"==typeof E[p].y[1]&&"number"==typeof E[p].y[2]&&"number"==typeof E[p].y[3]){m=r.axisX.convertValueToPixel(y),_=r.axisY.convertValueToPixel(E[p].y[0]),w=r.axisY.convertValueToPixel(E[p].y[1]),x=r.axisY.convertValueToPixel(E[p].y[2]),g=r.axisY.convertValueToPixel(E[p].y[3]);var H=m-C/2<<0,z=H+C<<0,V=(d=T.options.fallingColor?T.fallingColor:T._colorSet[0],b=E[p].color?E[p].color:T._colorSet[0],Math.round(Math.max(1,.15*C))),ee=V%2==0?0:.5,ae=T.dataPointIds[p];this._eventManager.objectMap[ae]={id:ae,objectType:"dataPoint",dataSeriesIndex:P,dataPointIndex:p,x1:H,y1:_,x2:z,y2:w,x3:m,y3:x,x4:m,y4:g,borderThickness:V,color:b},l.strokeStyle=b,l.beginPath(),l.lineWidth=V,o.lineWidth=Math.max(V,4),"candlestick"===T.type?(l.moveTo(m-ee,w),l.lineTo(m-ee,Math.min(_,g)),l.stroke(),l.moveTo(m-ee,Math.max(_,g)),l.lineTo(m-ee,x),l.stroke(),$t(l,H,Math.min(_,g),z,Math.max(_,g),E[p].y[0]<=E[p].y[3]?T.risingColor:d,V,b,F,F,!1,!1,T.fillOpacity),Y&&(b=Ge(ae),o.strokeStyle=b,o.moveTo(m-ee,w),o.lineTo(m-ee,Math.min(_,g)),o.stroke(),o.moveTo(m-ee,Math.max(_,g)),o.lineTo(m-ee,x),o.stroke(),$t(o,H,Math.min(_,g),z,Math.max(_,g),b,0,null,!1,!1,!1,!1))):"ohlc"===T.type&&(l.moveTo(m-ee,w),l.lineTo(m-ee,x),l.stroke(),l.beginPath(),l.moveTo(m,_),l.lineTo(H,_),l.stroke(),l.beginPath(),l.moveTo(m,g),l.lineTo(z,g),l.stroke(),Y&&(b=Ge(ae),o.strokeStyle=b,o.moveTo(m-ee,w),o.lineTo(m-ee,x),o.stroke(),o.beginPath(),o.moveTo(m,_),o.lineTo(H,_),o.stroke(),o.beginPath(),o.moveTo(m,g),o.lineTo(z,g),o.stroke())),(E[p].indexLabel||T.indexLabel||E[p].indexLabelFormatter||T.indexLabelFormatter)&&this._indexLabels.push({chartType:T.type,dataPoint:E[p],dataSeries:T,point:{x:H+(z-H)/2,y:r.axisY.reversed?x:w},direction:1,bounds:{x1:H,y1:Math.min(w,x),x2:z,y2:Math.max(w,x)},color:b})}}}return Y&&(u.drawImage(this._preRenderCanvas,0,0,this.width,this.height),l.globalCompositeOperation="source-atop",r.axisX.maskCanvas&&l.drawImage(r.axisX.maskCanvas,0,0,this.width,this.height),r.axisY.maskCanvas&&l.drawImage(r.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),l.clearRect(h.x1,h.y1,h.width,h.height),o.restore()),l.restore(),{source:u,dest:this.plotArea.ctx,animationCallback:Se.fadeInAnimation,easingFunction:Se.easing.easeInQuad,animationBase:0}}},k.prototype.renderBoxAndWhisker=function(r){var u=r.targetCanvasCtx||this.plotArea.ctx,l=Y?this._preRenderCtx:u,o=this._eventManager.ghostCtx;if(!(0>=r.dataSeriesIndexes.length)){var p,m,_,w,x,g,y,b=null,h=this.plotArea,d=0,C=(b=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,d=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.015*this.width,r.axisX.dataInfo.minDiff);isFinite(C)||(C=.3*Math.abs(r.axisX.range)),C=this.options.dataPointWidth?this.dataPointWidth:.7*h.width*(r.axisX.logarithmic?Math.log(C)/Math.log(r.axisX.range):Math.abs(C)/Math.abs(r.axisX.range))<<0,this.dataPointMaxWidth&&b>d&&(b=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,d)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&d<b&&(d=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,b)),C<b&&(C=b),C>d&&(C=d),l.save(),Y&&o.save(),l.beginPath(),l.rect(h.x1,h.y1,h.width,h.height),l.clip(),Y&&(o.beginPath(),o.rect(h.x1,h.y1,h.width,h.height),o.clip());for(var A=!!r.axisY.reversed,P=0;P<r.dataSeriesIndexes.length;P++){var T=r.dataSeriesIndexes[P],E=this.data[T],F=E.dataPoints;if(0<F.length){var H=!!(5<C&&E.bevelEnabled);for(d=0;d<F.length;d++)if(!((y=F[d].getTime?F[d].x.getTime():F[d].x)<r.axisX.dataInfo.viewPortMin||y>r.axisX.dataInfo.viewPortMax)&&!j(F[d].y)&&F[d].y.length&&"number"==typeof F[d].y[0]&&"number"==typeof F[d].y[1]&&"number"==typeof F[d].y[2]&&"number"==typeof F[d].y[3]&&"number"==typeof F[d].y[4]&&5===F[d].y.length){p=r.axisX.convertValueToPixel(y),m=r.axisY.convertValueToPixel(F[d].y[0]),_=r.axisY.convertValueToPixel(F[d].y[1]),w=r.axisY.convertValueToPixel(F[d].y[2]),x=r.axisY.convertValueToPixel(F[d].y[3]),g=r.axisY.convertValueToPixel(F[d].y[4]);var z=p-C/2<<0,V=p+C/2<<0,ee=(b=F[d].color?F[d].color:E._colorSet[0],Math.round(Math.max(1,.15*C))),ae=ee%2==0?0:.5,G=F[d].whiskerColor?F[d].whiskerColor:F[d].color?E.whiskerColor?E.whiskerColor:F[d].color:E.whiskerColor?E.whiskerColor:b,K="number"==typeof F[d].whiskerThickness?F[d].whiskerThickness:"number"==typeof E.options.whiskerThickness?E.whiskerThickness:ee,J=F[d].whiskerDashType?F[d].whiskerDashType:E.whiskerDashType,U="number"==typeof(U=j(F[d].whiskerLength)?j(E.options.whiskerLength)?C:E.whiskerLength:F[d].whiskerLength)?0>=U?0:U>=C?C:U:"string"==typeof U?parseInt(U)*C/100>C?C:parseInt(U)*C/100:C,O=Math.round(K)%2==1?.5:0,ne=F[d].stemColor?F[d].stemColor:F[d].color?E.stemColor?E.stemColor:F[d].color:E.stemColor?E.stemColor:b,he="number"==typeof F[d].stemThickness?F[d].stemThickness:"number"==typeof E.options.stemThickness?E.stemThickness:ee,W=Math.round(he)%2==1?.5:0,ze=F[d].stemDashType?F[d].stemDashType:E.stemDashType,we=F[d].lineColor?F[d].lineColor:F[d].color?E.lineColor?E.lineColor:F[d].color:E.lineColor?E.lineColor:b,$e="number"==typeof F[d].lineThickness?F[d].lineThickness:"number"==typeof E.options.lineThickness?E.lineThickness:ee,mt=F[d].lineDashType?F[d].lineDashType:E.lineDashType,De=Math.round($e)%2==1?.5:0,zt=E.upperBoxColor,it=E.lowerBoxColor,je=j(E.options.fillOpacity)?1:E.fillOpacity,Ae=E.dataPointIds[d];this._eventManager.objectMap[Ae]={id:Ae,objectType:"dataPoint",dataSeriesIndex:T,dataPointIndex:d,x1:z,y1:m,x2:V,y2:_,x3:p,y3:w,x4:p,y4:x,y5:g,borderThickness:ee,color:b,stemThickness:he,stemColor:ne,whiskerThickness:K,whiskerLength:U,whiskerColor:G,lineThickness:$e,lineColor:we},l.save(),0<he&&(l.beginPath(),l.strokeStyle=ne,l.lineWidth=he,l.setLineDash&&l.setLineDash(Ke(ze,he)),l.moveTo(p-W,_),l.lineTo(p-W,m),l.stroke(),l.moveTo(p-W,x),l.lineTo(p-W,w),l.stroke()),l.restore(),o.lineWidth=Math.max(ee,4),l.beginPath(),$t(l,z,Math.min(g,_),V,Math.max(_,g),it,0,b,!!A&&H,!A&&H,!1,!1,je),l.beginPath(),$t(l,z,Math.min(w,g),V,Math.max(g,w),zt,0,b,!A&&H,!!A&&H,!1,!1,je),l.beginPath(),l.lineWidth=ee,l.strokeStyle=b,l.rect(z-ae,Math.min(_,w)-ae,V-z+2*ae,Math.max(_,w)-Math.min(_,w)+2*ae),l.stroke(),l.save(),0<$e&&(l.beginPath(),l.globalAlpha=1,l.setLineDash&&l.setLineDash(Ke(mt,$e)),l.strokeStyle=we,l.lineWidth=$e,l.moveTo(z,g-De),l.lineTo(V,g-De),l.stroke()),l.restore(),l.save(),0<K&&(l.beginPath(),l.setLineDash&&l.setLineDash(Ke(J,K)),l.strokeStyle=G,l.lineWidth=K,l.moveTo(p-U/2<<0,x-O),l.lineTo(p+U/2<<0,x-O),l.stroke(),l.moveTo(p-U/2<<0,m+O),l.lineTo(p+U/2<<0,m+O),l.stroke()),l.restore(),Y&&(b=Ge(Ae),o.strokeStyle=b,o.lineWidth=he,0<he&&(o.moveTo(p-ae-W,_),o.lineTo(p-ae-W,Math.max(m,x)),o.stroke(),o.moveTo(p-ae-W,Math.min(m,x)),o.lineTo(p-ae-W,w),o.stroke()),$t(o,z,Math.max(_,w),V,Math.min(_,w),b,0,null,!1,!1,!1,!1),0<K&&(o.beginPath(),o.lineWidth=K,o.moveTo(p+U/2,x-O),o.lineTo(p-U/2,x-O),o.stroke(),o.moveTo(p+U/2,m+O),o.lineTo(p-U/2,m+O),o.stroke())),(F[d].indexLabel||E.indexLabel||F[d].indexLabelFormatter||E.indexLabelFormatter)&&this._indexLabels.push({chartType:E.type,dataPoint:F[d],dataSeries:E,point:{x:z+(V-z)/2,y:r.axisY.reversed?m:x},direction:1,bounds:{x1:z,y1:Math.min(m,x),x2:V,y2:Math.max(m,x)},color:b})}}}return Y&&(u.drawImage(this._preRenderCanvas,0,0,this.width,this.height),l.globalCompositeOperation="source-atop",r.axisX.maskCanvas&&l.drawImage(r.axisX.maskCanvas,0,0,this.width,this.height),r.axisY.maskCanvas&&l.drawImage(r.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),l.clearRect(h.x1,h.y1,h.width,h.height),o.restore()),l.restore(),{source:u,dest:this.plotArea.ctx,animationCallback:Se.fadeInAnimation,easingFunction:Se.easing.easeInQuad,animationBase:0}}},k.prototype.renderRangeColumn=function(r){var u=r.targetCanvasCtx||this.plotArea.ctx,l=Y?this._preRenderCtx:u;if(!(0>=r.dataSeriesIndexes.length)){var p,m,_,o=null,h=this.plotArea,w=0;w=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,p=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.03*this.width;var x=r.axisX.dataInfo.minDiff;isFinite(x)||(x=.3*Math.abs(r.axisX.range)),x=this.options.dataPointWidth?this.dataPointWidth:h.width*(r.axisX.logarithmic?Math.log(x)/Math.log(r.axisX.range):Math.abs(x)/Math.abs(r.axisX.range))/r.plotType.totalDataSeries*.9<<0,this.dataPointMaxWidth&&w>p&&(w=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,p)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&p<w&&(p=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,w)),x<w&&(x=w),x>p&&(x=p),l.save(),Y&&this._eventManager.ghostCtx.save(),l.beginPath(),l.rect(h.x1,h.y1,h.width,h.height),l.clip(),Y&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(h.x1,h.y1,h.width,h.height),this._eventManager.ghostCtx.clip());for(var g=0;g<r.dataSeriesIndexes.length;g++){var y=r.dataSeriesIndexes[g],b=this.data[y],d=b.dataPoints;if(0<d.length){var C=!!(5<x&&b.bevelEnabled);for(w=0;w<d.length;w++)if(!((_=d[w].getTime?d[w].x.getTime():d[w].x)<r.axisX.dataInfo.viewPortMin||_>r.axisX.dataInfo.viewPortMax)&&!j(d[w].y)&&d[w].y.length&&"number"==typeof d[w].y[0]&&"number"==typeof d[w].y[1]){o=r.axisX.convertValueToPixel(_),p=r.axisY.convertValueToPixel(d[w].y[0]),m=r.axisY.convertValueToPixel(d[w].y[1]);var A=r.axisX.reversed?o+r.plotType.totalDataSeries*x/2-(r.previousDataSeriesCount+g)*x<<0:o-r.plotType.totalDataSeries*x/2+(r.previousDataSeriesCount+g)*x<<0,P=r.axisX.reversed?A-x<<0:A+x<<0;if(o=d[w].color?d[w].color:b._colorSet[w%b._colorSet.length],p>m){var T=p;p=m,m=T}this._eventManager.objectMap[T=b.dataPointIds[w]]={id:T,objectType:"dataPoint",dataSeriesIndex:y,dataPointIndex:w,x1:A,y1:p,x2:P,y2:m},$t(l,r.axisX.reversed?P:A,p,r.axisX.reversed?A:P,m,o,0,o,C,C,!1,!1,b.fillOpacity),o=Ge(T),Y&&$t(this._eventManager.ghostCtx,r.axisX.reversed?P:A,p,r.axisX.reversed?A:P,m,o,0,null,!1,!1,!1,!1),(d[w].indexLabel||b.indexLabel||d[w].indexLabelFormatter||b.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeColumn",dataPoint:d[w],dataSeries:b,indexKeyword:0,point:{x:A+(P-A)/2,y:d[w].y[1]>=d[w].y[0]?m:p},direction:d[w].y[1]>=d[w].y[0]?-1:1,bounds:{x1:A,y1:Math.min(p,m),x2:P,y2:Math.max(p,m)},color:o}),this._indexLabels.push({chartType:"rangeColumn",dataPoint:d[w],dataSeries:b,indexKeyword:1,point:{x:A+(P-A)/2,y:d[w].y[1]>=d[w].y[0]?p:m},direction:d[w].y[1]>=d[w].y[0]?1:-1,bounds:{x1:A,y1:Math.min(p,m),x2:P,y2:Math.max(p,m)},color:o}))}}}return Y&&(u.drawImage(this._preRenderCanvas,0,0,this.width,this.height),l.globalCompositeOperation="source-atop",r.axisX.maskCanvas&&l.drawImage(r.axisX.maskCanvas,0,0,this.width,this.height),r.axisY.maskCanvas&&l.drawImage(r.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),l.clearRect(h.x1,h.y1,h.width,h.height),this._eventManager.ghostCtx.restore()),l.restore(),{source:u,dest:this.plotArea.ctx,animationCallback:Se.fadeInAnimation,easingFunction:Se.easing.easeInQuad,animationBase:0}}},k.prototype.renderError=function(r){var u=r.targetCanvasCtx||this.plotArea.ctx,l=Y?this._preRenderCtx:u,o=!!r.axisY._position&&!("left"===r.axisY._position||"right"===r.axisY._position);if(!(0>=r.dataSeriesIndexes.length)){var w,x,g,y,b,d,C,h=null,p=!1,m=this.plotArea,_=0,A=r.axisX.dataInfo.minDiff;isFinite(A)||(A=.3*Math.abs(r.axisX.range)),l.save(),Y&&this._eventManager.ghostCtx.save(),l.beginPath(),l.rect(m.x1,m.y1,m.width,m.height),l.clip(),Y&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(m.x1,m.y1,m.width,m.height),this._eventManager.ghostCtx.clip());for(var P=0,T=0;T<this.data.length;T++)!this.data[T].type.match(/(bar|column)/gi)||!this.data[T].visible||this.data[T].type.match(/(stacked)/gi)&&P||P++;for(var E=0;E<r.dataSeriesIndexes.length;E++){var F=r.dataSeriesIndexes[E],H=this.data[F],z=H.dataPoints,V=!j(H._linkedSeries)&&!(!H._linkedSeries.type.match(/(bar|column)/gi)||!H._linkedSeries.visible),ee=0;if(V)for(h=H._linkedSeries.id,T=0;T<h;T++)!this.data[T].type.match(/(bar|column)/gi)||!this.data[T].visible||this.data[T].type.match(/(stacked)/gi)&&ee||(this.data[T].type.match(/(range)/gi)&&(p=!0),ee++);if(h=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,_=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:o?Math.min(.15*this.height,this.plotArea.height/(V?P:1)*.9)<<0:.3*this.width,p&&(_=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:o?Math.min(.15*this.height,this.plotArea.height/(V?P:1)*.9)<<0:.03*this.width),T=this.options.dataPointWidth?this.dataPointWidth:(o?m.height:m.width)*(r.axisX.logarithmic?Math.log(A)/Math.log(r.axisX.range):Math.abs(A)/Math.abs(r.axisX.range))/(V?P:1)*.9<<0,this.dataPointMaxWidth&&h>_&&(h=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,_)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&_<h&&(_=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,h)),T<h&&(T=h),T>_&&(T=_),0<z.length){var ae=H._colorSet;for(_=0;_<z.length;_++){h=H.lineColor=H.options.color?H.options.color:ae[0];var G={color:z[_].whiskerColor?z[_].whiskerColor:z[_].color?H.whiskerColor?H.whiskerColor:z[_].color:H.whiskerColor?H.whiskerColor:h,thickness:j(z[_].whiskerThickness)?H.whiskerThickness:z[_].whiskerThickness,dashType:z[_].whiskerDashType?z[_].whiskerDashType:H.whiskerDashType,length:j(z[_].whiskerLength)?j(H.options.whiskerLength)?T:H.options.whiskerLength:z[_].whiskerLength,trimLength:j(z[_].whiskerLength)&&j(H.options.whiskerLength)?50:0};G.length="number"==typeof G.length?0>=G.length?0:G.length>=T?T:G.length:"string"==typeof G.length?parseInt(G.length)*T/100>T?T:parseInt(G.length)*T/100>T:T,G.thickness="number"==typeof G.thickness?0>G.thickness?0:Math.round(G.thickness):2;var K={color:z[_].stemColor?z[_].stemColor:z[_].color?H.stemColor?H.stemColor:z[_].color:H.stemColor?H.stemColor:h,thickness:z[_].stemThickness?z[_].stemThickness:H.stemThickness,dashType:z[_].stemDashType?z[_].stemDashType:H.stemDashType};if(K.thickness="number"==typeof K.thickness?0>K.thickness?0:Math.round(K.thickness):2,!((C=z[_].getTime?z[_].x.getTime():z[_].x)<r.axisX.dataInfo.viewPortMin||C>r.axisX.dataInfo.viewPortMax)&&!j(z[_].y)&&z[_].y.length&&"number"==typeof z[_].y[0]&&"number"==typeof z[_].y[1]){var J=r.axisX.convertValueToPixel(C);o?x=J:w=J,J=r.axisY.convertValueToPixel(z[_].y[0]),o?g=J:b=J,J=r.axisY.convertValueToPixel(z[_].y[1]),o?y=J:d=J,o?(b=r.axisX.reversed?x+(V?P:1)*T/2-(V?ee-1:0)*T<<0:x-(V?P:1)*T/2+(V?ee-1:0)*T<<0,d=r.axisX.reversed?b-T<<0:b+T<<0):(g=r.axisX.reversed?w+(V?P:1)*T/2-(V?ee-1:0)*T<<0:w-(V?P:1)*T/2+(V?ee-1:0)*T<<0,y=r.axisX.reversed?g-T<<0:g+T<<0),!o&&b>d&&(J=b,b=d,d=J),o&&g>y&&(J=g,g=y,y=J),this._eventManager.objectMap[J=H.dataPointIds[_]]={id:J,objectType:"dataPoint",dataSeriesIndex:F,dataPointIndex:_,x1:Math.min(g,y),y1:Math.min(b,d),x2:Math.max(y,g),y2:Math.max(d,b),isXYSwapped:o,stemProperties:K,whiskerProperties:G},ie(l,Math.min(g,y),Math.min(b,d),Math.max(y,g),Math.max(d,b),h,G,K,o),Y&&ie(this._eventManager.ghostCtx,g,b,y,d,h,G,K,o),(z[_].indexLabel||H.indexLabel||z[_].indexLabelFormatter||H.indexLabelFormatter)&&(this._indexLabels.push({chartType:"error",dataPoint:z[_],dataSeries:H,indexKeyword:0,point:{x:o?z[_].y[1]>=z[_].y[0]?g:y:g+(y-g)/2,y:o?b+(d-b)/2:z[_].y[1]>=z[_].y[0]?d:b},direction:z[_].y[1]>=z[_].y[0]?-1:1,bounds:{x1:o?Math.min(g,y):g,y1:o?b:Math.min(b,d),x2:o?Math.max(g,y):y,y2:o?d:Math.max(b,d)},color:h,axisSwapped:o}),this._indexLabels.push({chartType:"error",dataPoint:z[_],dataSeries:H,indexKeyword:1,point:{x:o?z[_].y[1]>=z[_].y[0]?y:g:g+(y-g)/2,y:o?b+(d-b)/2:z[_].y[1]>=z[_].y[0]?b:d},direction:z[_].y[1]>=z[_].y[0]?1:-1,bounds:{x1:o?Math.min(g,y):g,y1:o?b:Math.min(b,d),x2:o?Math.max(g,y):y,y2:o?d:Math.max(b,d)},color:h,axisSwapped:o}))}}}}return Y&&(u.drawImage(this._preRenderCanvas,0,0,this.width,this.height),l.globalCompositeOperation="source-atop",r.axisX.maskCanvas&&l.drawImage(r.axisX.maskCanvas,0,0,this.width,this.height),r.axisY.maskCanvas&&l.drawImage(r.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),l.clearRect(m.x1,m.y1,m.width,m.height),this._eventManager.ghostCtx.restore()),l.restore(),{source:u,dest:this.plotArea.ctx,animationCallback:Se.fadeInAnimation,easingFunction:Se.easing.easeInQuad,animationBase:0}}},k.prototype.renderRangeBar=function(r){var u=r.targetCanvasCtx||this.plotArea.ctx,l=Y?this._preRenderCtx:u;if(!(0>=r.dataSeriesIndexes.length)){var p,m,_,w,o=null,h=this.plotArea,x=0;x=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,p=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:Math.min(.15*this.height,this.plotArea.height/r.plotType.totalDataSeries*.9)<<0;var g=r.axisX.dataInfo.minDiff;isFinite(g)||(g=.3*Math.abs(r.axisX.range)),g=this.options.dataPointWidth?this.dataPointWidth:h.height*(r.axisX.logarithmic?Math.log(g)/Math.log(r.axisX.range):Math.abs(g)/Math.abs(r.axisX.range))/r.plotType.totalDataSeries*.9<<0,this.dataPointMaxWidth&&x>p&&(x=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,p)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&p<x&&(p=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,x)),g<x&&(g=x),g>p&&(g=p),l.save(),Y&&this._eventManager.ghostCtx.save(),l.beginPath(),l.rect(h.x1,h.y1,h.width,h.height),l.clip(),Y&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(h.x1,h.y1,h.width,h.height),this._eventManager.ghostCtx.clip());for(var y=0;y<r.dataSeriesIndexes.length;y++){var b=r.dataSeriesIndexes[y],d=this.data[b],C=d.dataPoints;if(0<C.length){var A=!!(5<g&&d.bevelEnabled);for(l.strokeStyle="#4572A7 ",x=0;x<C.length;x++)if(!((w=C[x].getTime?C[x].x.getTime():C[x].x)<r.axisX.dataInfo.viewPortMin||w>r.axisX.dataInfo.viewPortMax)&&!j(C[x].y)&&C[x].y.length&&"number"==typeof C[x].y[0]&&"number"==typeof C[x].y[1]){p=r.axisY.convertValueToPixel(C[x].y[0]),m=r.axisY.convertValueToPixel(C[x].y[1]),_=r.axisX.convertValueToPixel(w),_=r.axisX.reversed?_+r.plotType.totalDataSeries*g/2-(r.previousDataSeriesCount+y)*g<<0:_-r.plotType.totalDataSeries*g/2+(r.previousDataSeriesCount+y)*g<<0;var P=r.axisX.reversed?_-g<<0:_+g<<0;p>m&&(o=p,p=m,m=o),$t(l,p,r.axisX.reversed?P:_,m,r.axisX.reversed?_:P,o=C[x].color?C[x].color:d._colorSet[x%d._colorSet.length],0,null,A,!1,!1,!1,d.fillOpacity),this._eventManager.objectMap[o=d.dataPointIds[x]]={id:o,objectType:"dataPoint",dataSeriesIndex:b,dataPointIndex:x,x1:p,y1:_,x2:m,y2:P},o=Ge(o),Y&&$t(this._eventManager.ghostCtx,p,r.axisX.reversed?P:_,m,r.axisX.reversed?_:P,o,0,null,!1,!1,!1,!1),(C[x].indexLabel||d.indexLabel||C[x].indexLabelFormatter||d.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeBar",dataPoint:C[x],dataSeries:d,indexKeyword:0,point:{x:C[x].y[1]>=C[x].y[0]?p:m,y:_+(P-_)/2},direction:C[x].y[1]>=C[x].y[0]?-1:1,bounds:{x1:Math.min(p,m),y1:_,x2:Math.max(p,m),y2:P},color:o}),this._indexLabels.push({chartType:"rangeBar",dataPoint:C[x],dataSeries:d,indexKeyword:1,point:{x:C[x].y[1]>=C[x].y[0]?m:p,y:_+(P-_)/2},direction:C[x].y[1]>=C[x].y[0]?1:-1,bounds:{x1:Math.min(p,m),y1:_,x2:Math.max(p,m),y2:P},color:o}))}}}return Y&&(u.drawImage(this._preRenderCanvas,0,0,this.width,this.height),l.globalCompositeOperation="source-atop",r.axisX.maskCanvas&&l.drawImage(r.axisX.maskCanvas,0,0,this.width,this.height),r.axisY.maskCanvas&&l.drawImage(r.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),l.clearRect(h.x1,h.y1,h.width,h.height),this._eventManager.ghostCtx.restore()),l.restore(),{source:u,dest:this.plotArea.ctx,animationCallback:Se.fadeInAnimation,easingFunction:Se.easing.easeInQuad,animationBase:0}}},k.prototype.renderRangeArea=function(r){function u(){if(E){for(var U=null,O=w.length-1;0<=O;O--)o.lineTo((U=w[O]).x,U.y2),h.lineTo(U.x,U.y2);if(o.closePath(),o.globalAlpha=g.fillOpacity,o.fill(),o.globalAlpha=1,h.fill(),0<g.lineThickness){for(o.beginPath(),o.moveTo(U.x,U.y2),O=0;O<w.length;O++)o.lineTo((U=w[O]).x,U.y2);for(o.moveTo(w[0].x,w[0].y1),O=0;O<w.length;O++)o.lineTo((U=w[O]).x,U.y1);o.stroke()}o.beginPath(),o.moveTo(C,A),h.beginPath(),h.moveTo(C,A),E={x:C,y:A},(w=[]).push({x:C,y1:A,y2:P})}}var l=r.targetCanvasCtx||this.plotArea.ctx,o=Y?this._preRenderCtx:l;if(!(0>=r.dataSeriesIndexes.length)){var h=this._eventManager.ghostCtx,p=[],m=this.plotArea;o.save(),Y&&h.save(),o.beginPath(),o.rect(m.x1,m.y1,m.width,m.height),o.clip(),Y&&(h.beginPath(),h.rect(m.x1,m.y1,m.width,m.height),h.clip());for(var _=0;_<r.dataSeriesIndexes.length;_++){var w=[],x=r.dataSeriesIndexes[_],g=this.data[x],y=g.dataPoints;this._eventManager.objectMap[p=g.id]={objectType:"dataSeries",dataSeriesIndex:x},p=Ge(p),h.fillStyle=p,p=[];var C,A,P,T,b=!0,d=0,E=null;if(0<y.length){var F=g._colorSet[d%g._colorSet.length],H=g.lineColor=g.options.lineColor||F,z=H;o.fillStyle=F,o.strokeStyle=H,o.lineWidth=g.lineThickness;var V="solid";if(o.setLineDash){var ee=Ke(g.nullDataLineDashType,g.lineThickness),ae=Ke(V=g.lineDashType,g.lineThickness);o.setLineDash(ae)}for(var G=!0;d<y.length;d++)if(!((T=y[d].x.getTime?y[d].x.getTime():y[d].x)<r.axisX.dataInfo.viewPortMin||T>r.axisX.dataInfo.viewPortMax&&(!g.connectNullData||!G)))if(null!==y[d].y&&y[d].y.length&&"number"==typeof y[d].y[0]&&"number"==typeof y[d].y[1]){if(C=r.axisX.convertValueToPixel(T),A=r.axisY.convertValueToPixel(y[d].y[0]),P=r.axisY.convertValueToPixel(y[d].y[1]),b||G?(g.connectNullData&&!b?(o.setLineDash&&(g.options.nullDataLineDashType||V===g.lineDashType&&g.lineDashType!==g.nullDataLineDashType)&&(w[w.length-1].newLineDashArray=ae,V=g.nullDataLineDashType,o.setLineDash(ee)),o.lineTo(C,A),Y&&h.lineTo(C,A),w.push({x:C,y1:A,y2:P})):(o.beginPath(),o.moveTo(C,A),E={x:C,y:A},(w=[]).push({x:C,y1:A,y2:P}),Y&&(h.beginPath(),h.moveTo(C,A))),G=b=!1):(o.lineTo(C,A),w.push({x:C,y1:A,y2:P}),Y&&h.lineTo(C,A),d%250==0&&u()),this._eventManager.objectMap[T=g.dataPointIds[d]]={id:T,objectType:"dataPoint",dataSeriesIndex:x,dataPointIndex:d,x1:C,y1:A,y2:P},d<y.length-1&&(z!==(y[d].lineColor||H)||V!==(y[d].lineDashType||g.lineDashType))&&(u(),w[w.length-1].newStrokeStyle=z=y[d].lineColor||H,o.strokeStyle=z,o.setLineDash&&(y[d].lineDashType?(w[w.length-1].newLineDashArray=Ke(V=y[d].lineDashType,g.lineThickness),o.setLineDash(w[w.length-1].newLineDashArray)):(V=g.lineDashType,w[w.length-1].newLineDashArray=ae,o.setLineDash(ae)))),0!==y[d].markerSize&&(0<y[d].markerSize||0<g.markerSize)){var K=g.getMarkerProperties(d,C,P,o);p.push(K);var J=Ge(T);Y&&p.push({x:C,y:P,ctx:h,type:K.type,size:K.size,color:J,borderColor:J,borderThickness:K.borderThickness}),K=g.getMarkerProperties(d,C,A,o),p.push(K),J=Ge(T),Y&&p.push({x:C,y:A,ctx:h,type:K.type,size:K.size,color:J,borderColor:J,borderThickness:K.borderThickness})}(y[d].indexLabel||g.indexLabel||y[d].indexLabelFormatter||g.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeArea",dataPoint:y[d],dataSeries:g,indexKeyword:0,point:{x:C,y:A},direction:y[d].y[0]>y[d].y[1]===r.axisY.reversed?-1:1,color:F}),this._indexLabels.push({chartType:"rangeArea",dataPoint:y[d],dataSeries:g,indexKeyword:1,point:{x:C,y:P},direction:y[d].y[0]>y[d].y[1]===r.axisY.reversed?1:-1,color:F}))}else G||b||u(),G=!0;u(),Lt.drawMarkers(p)}}return Y&&(l.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.globalCompositeOperation="source-atop",r.axisX.maskCanvas&&o.drawImage(r.axisX.maskCanvas,0,0,this.width,this.height),r.axisY.maskCanvas&&o.drawImage(r.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.clearRect(m.x1,m.y1,m.width,m.height),this._eventManager.ghostCtx.restore()),o.restore(),{source:l,dest:this.plotArea.ctx,animationCallback:Se.xClipAnimation,easingFunction:Se.easing.linear,animationBase:0}}},k.prototype.renderRangeSplineArea=function(r){function u(K,J){var U=B(A,2);if(0<U.length){if(0<x.lineThickness){o.strokeStyle=J,o.setLineDash&&o.setLineDash(K),o.beginPath(),o.moveTo(U[0].x,U[0].y);for(var O=0;O<U.length-3;O+=3)(U[O].newStrokeStyle||U[O].newLineDashArray)&&(o.stroke(),o.beginPath(),o.moveTo(U[O].x,U[O].y),U[O].newStrokeStyle&&(o.strokeStyle=U[O].newStrokeStyle),U[O].newLineDashArray&&o.setLineDash(U[O].newLineDashArray)),o.bezierCurveTo(U[O+1].x,U[O+1].y,U[O+2].x,U[O+2].y,U[O+3].x,U[O+3].y)}for(o.beginPath(),o.moveTo(U[0].x,U[0].y),Y&&(h.beginPath(),h.moveTo(U[0].x,U[0].y)),O=0;O<U.length-3;O+=3)o.bezierCurveTo(U[O+1].x,U[O+1].y,U[O+2].x,U[O+2].y,U[O+3].x,U[O+3].y),Y&&h.bezierCurveTo(U[O+1].x,U[O+1].y,U[O+2].x,U[O+2].y,U[O+3].x,U[O+3].y);for(U=B(P,2),o.lineTo(P[P.length-1].x,P[P.length-1].y),O=U.length-1;2<O;O-=3)o.bezierCurveTo(U[O-1].x,U[O-1].y,U[O-2].x,U[O-2].y,U[O-3].x,U[O-3].y),Y&&h.bezierCurveTo(U[O-1].x,U[O-1].y,U[O-2].x,U[O-2].y,U[O-3].x,U[O-3].y);if(o.closePath(),o.globalAlpha=x.fillOpacity,o.fill(),Y&&(h.closePath(),h.fill()),o.globalAlpha=1,0<x.lineThickness){o.strokeStyle=J,o.setLineDash&&o.setLineDash(K),o.beginPath(),o.moveTo(U[0].x,U[0].y);for(var ne=O=0;O<U.length-3;O+=3,ne++)(A[ne].newStrokeStyle||A[ne].newLineDashArray)&&(o.stroke(),o.beginPath(),o.moveTo(U[O].x,U[O].y),A[ne].newStrokeStyle&&(o.strokeStyle=A[ne].newStrokeStyle),A[ne].newLineDashArray&&o.setLineDash(A[ne].newLineDashArray)),o.bezierCurveTo(U[O+1].x,U[O+1].y,U[O+2].x,U[O+2].y,U[O+3].x,U[O+3].y);for(U=B(A,2),o.moveTo(U[0].x,U[0].y),ne=O=0;O<U.length-3;O+=3,ne++)(A[ne].newStrokeStyle||A[ne].newLineDashArray)&&(o.stroke(),o.beginPath(),o.moveTo(U[O].x,U[O].y),A[ne].newStrokeStyle&&(o.strokeStyle=A[ne].newStrokeStyle),A[ne].newLineDashArray&&o.setLineDash(A[ne].newLineDashArray)),o.bezierCurveTo(U[O+1].x,U[O+1].y,U[O+2].x,U[O+2].y,U[O+3].x,U[O+3].y);o.stroke()}o.beginPath()}}var l=r.targetCanvasCtx||this.plotArea.ctx,o=Y?this._preRenderCtx:l;if(!(0>=r.dataSeriesIndexes.length)){var h=this._eventManager.ghostCtx,p=[],m=this.plotArea;o.save(),Y&&h.save(),o.beginPath(),o.rect(m.x1,m.y1,m.width,m.height),o.clip(),Y&&(h.beginPath(),h.rect(m.x1,m.y1,m.width,m.height),h.clip());for(var _=0;_<r.dataSeriesIndexes.length;_++){var w=r.dataSeriesIndexes[_],x=this.data[w],g=x.dataPoints;this._eventManager.objectMap[p=x.id]={objectType:"dataSeries",dataSeriesIndex:w},p=Ge(p),h.fillStyle=p,p=[];var b,d,C,y=0,A=[],P=[];if(0<g.length){var T=x._colorSet[y%x._colorSet.length],E=x.lineColor=x.options.lineColor||T,F=E;o.fillStyle=T,o.lineWidth=x.lineThickness;var z,H="solid";if(o.setLineDash){var V=Ke(x.nullDataLineDashType,x.lineThickness);z=Ke(H=x.lineDashType,x.lineThickness)}for(d=!1;y<g.length;y++)if(!((b=g[y].x.getTime?g[y].x.getTime():g[y].x)<r.axisX.dataInfo.viewPortMin||b>r.axisX.dataInfo.viewPortMax&&(!x.connectNullData||!d)))if(null!==g[y].y&&g[y].y.length&&"number"==typeof g[y].y[0]&&"number"==typeof g[y].y[1]){b=r.axisX.convertValueToPixel(b),d=r.axisY.convertValueToPixel(g[y].y[0]),C=r.axisY.convertValueToPixel(g[y].y[1]);var ee=x.dataPointIds[y];if(this._eventManager.objectMap[ee]={id:ee,objectType:"dataPoint",dataSeriesIndex:w,dataPointIndex:y,x1:b,y1:d,y2:C},A[A.length]={x:b,y:d},P[P.length]={x:b,y:C},y<g.length-1&&(F!==(g[y].lineColor||E)||H!==(g[y].lineDashType||x.lineDashType))&&(A[A.length-1].newStrokeStyle=F=g[y].lineColor||E,o.setLineDash&&(g[y].lineDashType?A[A.length-1].newLineDashArray=Ke(H=g[y].lineDashType,x.lineThickness):(H=x.lineDashType,A[A.length-1].newLineDashArray=z))),0!==g[y].markerSize&&(0<g[y].markerSize||0<x.markerSize)){var ae=x.getMarkerProperties(y,b,d,o);p.push(ae);var G=Ge(ee);Y&&p.push({x:b,y:d,ctx:h,type:ae.type,size:ae.size,color:G,borderColor:G,borderThickness:ae.borderThickness}),ae=x.getMarkerProperties(y,b,C,o),p.push(ae),G=Ge(ee),Y&&p.push({x:b,y:C,ctx:h,type:ae.type,size:ae.size,color:G,borderColor:G,borderThickness:ae.borderThickness})}(g[y].indexLabel||x.indexLabel||g[y].indexLabelFormatter||x.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeSplineArea",dataPoint:g[y],dataSeries:x,indexKeyword:0,point:{x:b,y:d},direction:g[y].y[0]<=g[y].y[1]?-1:1,color:T}),this._indexLabels.push({chartType:"rangeSplineArea",dataPoint:g[y],dataSeries:x,indexKeyword:1,point:{x:b,y:C},direction:g[y].y[0]<=g[y].y[1]?1:-1,color:T})),d=!1}else 0<y&&!d&&(x.connectNullData?o.setLineDash&&0<A.length&&(x.options.nullDataLineDashType||!g[y-1].lineDashType)&&(A[A.length-1].newLineDashArray=V,H=x.nullDataLineDashType):(u(z,E),A=[],P=[])),d=!0;u(z,E),Lt.drawMarkers(p)}}return Y&&(l.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.globalCompositeOperation="source-atop",r.axisX.maskCanvas&&o.drawImage(r.axisX.maskCanvas,0,0,this.width,this.height),r.axisY.maskCanvas&&o.drawImage(r.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.clearRect(m.x1,m.y1,m.width,m.height),this._eventManager.ghostCtx.restore()),o.restore(),{source:l,dest:this.plotArea.ctx,animationCallback:Se.xClipAnimation,easingFunction:Se.easing.linear,animationBase:0}}},k.prototype.renderWaterfall=function(r){var u=r.targetCanvasCtx||this.plotArea.ctx,l=Y?this._preRenderCtx:u;if(!(0>=r.dataSeriesIndexes.length)){var m,_,w,x,o=this._eventManager.ghostCtx,h=null,p=this.plotArea,y=0,g=r.axisY.convertValueToPixel(r.axisY.logarithmic?r.axisY.viewportMinimum:0);y=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,_=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:Math.min(.15*this.width,this.plotArea.width/r.plotType.totalDataSeries*.9)<<0;var b=r.axisX.dataInfo.minDiff;isFinite(b)||(b=.3*Math.abs(r.axisX.range)),b=this.options.dataPointWidth?this.dataPointWidth:p.width*(r.axisX.logarithmic?Math.log(b)/Math.log(r.axisX.range):Math.abs(b)/Math.abs(r.axisX.range))/r.plotType.totalDataSeries*.6<<0,this.dataPointMaxWidth&&y>_&&(y=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,_)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&_<y&&(_=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,y)),b<y&&(b=y),b>_&&(b=_),l.save(),Y&&this._eventManager.ghostCtx.save(),l.beginPath(),l.rect(p.x1,p.y1,p.width,p.height),l.clip(),Y&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(p.x1,p.y1,p.width,p.height),this._eventManager.ghostCtx.clip());for(var d=0;d<r.dataSeriesIndexes.length;d++){var C=r.dataSeriesIndexes[d],A=this.data[C],P=A.dataPoints;h=A._colorSet[0],A.risingColor=A.options.risingColor?A.options.risingColor:h,A.fallingColor=A.options.fallingColor?A.options.fallingColor:"#e40a0a";var T="number"==typeof A.options.lineThickness?Math.round(A.lineThickness):1,E=Math.round(T)%2==1?-.5:0;if(0<P.length){var F=!!(5<b&&A.bevelEnabled),H=!1,z=null,V=null;for(y=0;y<P.length;y++)if(x=P[y].getTime?P[y].x.getTime():P[y].x,"number"!=typeof P[y].y){if(0<y&&!H&&A.connectNullData)var ee=A.options.nullDataLineDashType||!P[y-1].lineDashType?A.nullDataLineDashType:P[y-1].lineDashType;H=!0}else{m=r.axisX.convertValueToPixel(x),_=0===A.dataPointEOs[y].cumulativeSum?g:r.axisY.convertValueToPixel(A.dataPointEOs[y].cumulativeSum),w=0===A.dataPointEOs[y].cumulativeSumYStartValue?g:r.axisY.convertValueToPixel(A.dataPointEOs[y].cumulativeSumYStartValue),m=r.axisX.reversed?m+r.plotType.totalDataSeries*b/2-(r.previousDataSeriesCount+d)*b<<0:m-r.plotType.totalDataSeries*b/2+(r.previousDataSeriesCount+d)*b<<0;var ae=r.axisX.reversed?m-b<<0:m+b<<0;_>w&&(h=_,_=w,w=h),r.axisY.reversed&&(h=_,_=w,w=h),this._eventManager.objectMap[h=A.dataPointIds[y]]={id:h,objectType:"dataPoint",dataSeriesIndex:C,dataPointIndex:y,x1:m,y1:_,x2:ae,y2:w},$t(l,r.axisX.reversed?ae:m,r.axisY.reversed?w:_,r.axisX.reversed?m:ae,r.axisY.reversed?_:w,K=P[y].color?P[y].color:0<P[y].y?A.risingColor:A.fallingColor,0,K,F,F,!1,!1,A.fillOpacity),h=Ge(h),Y&&$t(this._eventManager.ghostCtx,r.axisX.reversed?ae:m,_,r.axisX.reversed?m:ae,w,h,0,null,!1,!1,!1,!1);var G,K=m;G=void 0!==P[y].isIntermediateSum&&!0===P[y].isIntermediateSum||void 0!==P[y].isCumulativeSum&&!0===P[y].isCumulativeSum?0<P[y].y?_:w:0<P[y].y?w:_,0<y&&z&&(!H||A.connectNullData)&&(H&&l.setLineDash&&l.setLineDash(Ke(ee,T)),l.beginPath(),l.moveTo(z,V-E),l.lineTo(K,G-E),0<T&&l.stroke(),Y&&(o.beginPath(),o.moveTo(z,V-E),o.lineTo(K,G-E),0<T&&o.stroke())),H=!1,z=ae,V=0<P[y].y?_:w,K=P[y].lineDashType?P[y].lineDashType:A.options.lineDashType?A.options.lineDashType:"shortDash",l.strokeStyle=P[y].lineColor?P[y].lineColor:A.options.lineColor?A.options.lineColor:"#9e9e9e",l.lineWidth=T,l.setLineDash&&(K=Ke(K,T),l.setLineDash(K)),(P[y].indexLabel||A.indexLabel||P[y].indexLabelFormatter||A.indexLabelFormatter)&&this._indexLabels.push({chartType:"waterfall",dataPoint:P[y],dataSeries:A,point:{x:m+(ae-m)/2,y:0<=P[y].y?_:w},direction:0>P[y].y===r.axisY.reversed?1:-1,bounds:{x1:m,y1:Math.min(_,w),x2:ae,y2:Math.max(_,w)},color:h})}}}return Y&&(u.drawImage(this._preRenderCanvas,0,0,this.width,this.height),l.globalCompositeOperation="source-atop",r.axisX.maskCanvas&&l.drawImage(r.axisX.maskCanvas,0,0,this.width,this.height),r.axisY.maskCanvas&&l.drawImage(r.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),l.clearRect(p.x1,p.y1,p.width,p.height),this._eventManager.ghostCtx.restore()),l.restore(),{source:u,dest:this.plotArea.ctx,animationCallback:Se.fadeInAnimation,easingFunction:Se.easing.easeInQuad,animationBase:0}}};var Vi=function(r,u,l,o,h,p,m,_,w){if(!(0>l)){if(void 0===_&&(_=1),!Y){var x=Number((m%(2*Math.PI)).toFixed(8));Number((p%(2*Math.PI)).toFixed(8))===x&&(m-=1e-4)}r.save(),r.globalAlpha=_,"pie"===h?(r.beginPath(),r.moveTo(u.x,u.y),r.arc(u.x,u.y,l,p,m,!1),r.fillStyle=o,r.strokeStyle="white",r.lineWidth=2,r.closePath(),r.fill()):"doughnut"===h&&(r.beginPath(),r.arc(u.x,u.y,l,p,m,!1),0<=w&&r.arc(u.x,u.y,w*l,m,p,!0),r.closePath(),r.fillStyle=o,r.strokeStyle="white",r.lineWidth=2,r.fill()),r.globalAlpha=1,r.restore()}};k.prototype.renderPie=function(r){function l(G){var K=w.plotArea.ctx;for(K.clearRect(b.x1,b.y1,b.width,b.height),K.fillStyle=w.backgroundColor,K.fillRect(b.x1,b.y1,b.width,b.height),K=0;K<g.length;K++){var J=d[K].startAngle,U=d[K].endAngle;if(U>J){var O=.07*V*Math.cos(d[K].midAngle),ne=.07*V*Math.sin(d[K].midAngle),he=!1;g[K].exploded?(1e-9<Math.abs(d[K].center.x-(F.x+O))||1e-9<Math.abs(d[K].center.y-(F.y+ne)))&&(d[K].center.x=F.x+O*G,d[K].center.y=F.y+ne*G,he=!0):(0<Math.abs(d[K].center.x-F.x)||0<Math.abs(d[K].center.y-F.y))&&(d[K].center.x=F.x+O*(1-G),d[K].center.y=F.y+ne*(1-G),he=!0),he&&((O={}).dataSeries=x,O.dataPoint=x.dataPoints[K],O.index=K,w.toolTip.highlightObjects([O])),Vi(w.plotArea.ctx,d[K].center,d[K].radius,g[K].color?g[K].color:x._colorSet[K%x._colorSet.length],x.type,J,U,x.fillOpacity,d[K].percentInnerRadius)}}for((G=w.plotArea.ctx).save(),G.fillStyle="black",G.strokeStyle="grey",G.textBaseline="middle",G.lineJoin="round",K=K=0;K<g.length;K++)(J=d[K]).indexLabelText&&(J.indexLabelTextBlock.y-=J.indexLabelTextBlock.height/2,U=0,J.indexLabelTextBlock.x+=U="left"===J.hemisphere?"inside"!==x.indexLabelPlacement?-(J.indexLabelTextBlock.width+y):-J.indexLabelTextBlock.width/2:"inside"!==x.indexLabelPlacement?y:-J.indexLabelTextBlock.width/2,J.indexLabelTextBlock.render(!0),J.indexLabelTextBlock.x-=U,J.indexLabelTextBlock.y+=J.indexLabelTextBlock.height/2,"inside"!==J.indexLabelPlacement&&0<J.indexLabelLineThickness&&(U=J.center.x+V*Math.cos(J.midAngle),O=J.center.y+V*Math.sin(J.midAngle),G.strokeStyle=J.indexLabelLineColor,G.lineWidth=J.indexLabelLineThickness,G.setLineDash&&G.setLineDash(Ke(J.indexLabelLineDashType,J.indexLabelLineThickness)),G.beginPath(),G.moveTo(U,O),G.lineTo(J.indexLabelTextBlock.x,J.indexLabelTextBlock.y),G.lineTo(J.indexLabelTextBlock.x+("left"===J.hemisphere?-y:y),J.indexLabelTextBlock.y),G.stroke()),G.lineJoin="miter");G.save()}function o(G,K){return K.indexLabelTextBlock.y>G.indexLabelTextBlock.y?K.indexLabelTextBlock.y-K.indexLabelTextBlock.height/2-(G.indexLabelTextBlock.y+G.indexLabelTextBlock.height/2):G.indexLabelTextBlock.y-G.indexLabelTextBlock.height/2-(K.indexLabelTextBlock.y+K.indexLabelTextBlock.height/2)}function h(G){for(var K=null,J=1;J<g.length;J++){if(d[K=(G+J+d.length)%d.length].hemisphere!==d[G].hemisphere){K=null;break}if(d[K].indexLabelText&&K!==G&&(0>o(d[K],d[G])||("right"===d[G].hemisphere?d[K].indexLabelTextBlock.y>=d[G].indexLabelTextBlock.y:d[K].indexLabelTextBlock.y<=d[G].indexLabelTextBlock.y)))break;K=null}return K}function p(G,K,J){if(1e3<(J=(J||0)+1))return 0;K=K||0;var U=0,O=F.y-1*A,ne=F.y+1*A;if(0<=G&&G<g.length){var he=d[G];if(0>K&&he.indexLabelTextBlock.y<O||0<K&&he.indexLabelTextBlock.y>ne)return 0;var W=0,ze=0;for(ze=W=W=0,0>K?he.indexLabelTextBlock.y-he.indexLabelTextBlock.height/2>O&&he.indexLabelTextBlock.y-he.indexLabelTextBlock.height/2+K<O&&(K=-(O-(he.indexLabelTextBlock.y-he.indexLabelTextBlock.height/2+K))):he.indexLabelTextBlock.y+he.indexLabelTextBlock.height/2<O&&he.indexLabelTextBlock.y+he.indexLabelTextBlock.height/2+K>ne&&(K=he.indexLabelTextBlock.y+he.indexLabelTextBlock.height/2+K-ne),K=he.indexLabelTextBlock.y+K,O=0,O="right"===he.hemisphere?F.x+Math.sqrt(Math.pow(A,2)-Math.pow(K-F.y,2)):F.x-Math.sqrt(Math.pow(A,2)-Math.pow(K-F.y,2)),ze=F.x+V*Math.cos(he.midAngle),W=F.y+V*Math.sin(he.midAngle),W=Math.sqrt(Math.pow(O-ze,2)+Math.pow(K-W,2)),ze=Math.acos(V/A),K=(W=Math.acos((A*A+V*V-W*W)/(2*V*A)))<ze?K-he.indexLabelTextBlock.y:0,O=null,ne=1;ne<g.length;ne++){if(d[O=(G-ne+d.length)%d.length].hemisphere!==d[G].hemisphere){O=null;break}if(d[O].indexLabelText&&d[O].hemisphere===d[G].hemisphere&&O!==G&&(0>o(d[O],d[G])||("right"===d[G].hemisphere?d[O].indexLabelTextBlock.y<=d[G].indexLabelTextBlock.y:d[O].indexLabelTextBlock.y>=d[G].indexLabelTextBlock.y)))break;O=null}ze=O,W=h(G),ne=O=0,0>K?(U=K,null!==(ne="right"===he.hemisphere?ze:W)&&(ze=-K,(K=he.indexLabelTextBlock.y-he.indexLabelTextBlock.height/2-(d[ne].indexLabelTextBlock.y+d[ne].indexLabelTextBlock.height/2))-ze<C&&+(ne=p(ne,O=-ze,J+1)).toFixed(E)>+O.toFixed(E)&&(U=K>C?-(K-C):-(ze-(ne-O))))):0<K&&(U=K,null!==(ne="right"===he.hemisphere?W:ze)&&(ze=K,(K=d[ne].indexLabelTextBlock.y-d[ne].indexLabelTextBlock.height/2-(he.indexLabelTextBlock.y+he.indexLabelTextBlock.height/2))-ze<C&&+(ne=p(ne,O=ze,J+1)).toFixed(E)<+O.toFixed(E)&&(U=K>C?K-C:ze-(O-ne)))),U&&(J=he.indexLabelTextBlock.y+U,K=0,K="right"===he.hemisphere?F.x+Math.sqrt(Math.pow(A,2)-Math.pow(J-F.y,2)):F.x-Math.sqrt(Math.pow(A,2)-Math.pow(J-F.y,2)),he.midAngle>Math.PI/2-T&&he.midAngle<Math.PI/2+T?(O=d[O=(G-1+d.length)%d.length],G=d[(G+1+d.length)%d.length],"left"===he.hemisphere&&"right"===O.hemisphere&&K>O.indexLabelTextBlock.x?K=O.indexLabelTextBlock.x-15:"right"===he.hemisphere&&"left"===G.hemisphere&&K<G.indexLabelTextBlock.x&&(K=G.indexLabelTextBlock.x+15)):he.midAngle>3*Math.PI/2-T&&he.midAngle<3*Math.PI/2+T&&(O=d[O=(G-1+d.length)%d.length],G=d[(G+1+d.length)%d.length],"right"===he.hemisphere&&"left"===O.hemisphere&&K<O.indexLabelTextBlock.x?K=O.indexLabelTextBlock.x+15:"left"===he.hemisphere&&"right"===G.hemisphere&&K>G.indexLabelTextBlock.x&&(K=G.indexLabelTextBlock.x-15)),he.indexLabelTextBlock.y=J,he.indexLabelTextBlock.x=K,he.indexLabelAngle=Math.atan2(he.indexLabelTextBlock.y-F.y,he.indexLabelTextBlock.x-F.x))}return U}function m(){(G=w.plotArea.ctx).fillStyle="grey",G.strokeStyle="grey",G.font="16px Arial",G.textBaseline="middle";var U=G=0,K=0,J=!0;for(U=0;10>U&&(1>U||0<K);U++){if((x.radius||!x.radius&&null!=x.innerRadius&&V-K<=ee)&&(J=!1),J&&(V-=K),K=0,"inside"!==x.indexLabelPlacement){for(A=V*P,G=0;G<g.length;G++)(O=d[G]).indexLabelTextBlock.x=F.x+A*Math.cos(O.midAngle),O.indexLabelTextBlock.y=F.y+A*Math.sin(O.midAngle),O.indexLabelAngle=O.midAngle,O.radius=V,O.percentInnerRadius=ae;for(var ne,he,G=0;G<g.length;G++){var O=d[G],W=h(G);if(null!==W){var ze=0;if(0>(ze=o(ne=d[G],he=d[W])-C)){for(var $e=he=0,we=0;we<g.length;we++)we!==G&&d[we].hemisphere===O.hemisphere&&(d[we].indexLabelTextBlock.y<O.indexLabelTextBlock.y?he++:$e++);$e=-1*(ze-(he=ze/(he+$e||1)*$e));var mt=we=0;"right"===O.hemisphere?(we=p(G,he),+(mt=p(W,$e=-1*(ze-we))).toFixed(E)<+$e.toFixed(E)&&+we.toFixed(E)<=+he.toFixed(E)&&p(G,-($e-mt))):(we=p(W,he),+(mt=p(G,$e=-1*(ze-we))).toFixed(E)<+$e.toFixed(E)&&+we.toFixed(E)<=+he.toFixed(E)&&p(W,-($e-mt)))}}}}else for(G=0;G<g.length;G++)O=d[G],W=F.x+(A="pie"===x.type?.7*V:.8*V)*Math.cos(O.midAngle),he=F.y+A*Math.sin(O.midAngle),O.indexLabelTextBlock.x=W,O.indexLabelTextBlock.y=he;for(G=0;G<g.length;G++)0!==(W=(O=d[G]).indexLabelTextBlock.measureText()).height&&0!==W.width&&(W=W=0,"right"===O.hemisphere?(W=b.x2-(O.indexLabelTextBlock.x+O.indexLabelTextBlock.width+y),W*=-1):W=b.x1-(O.indexLabelTextBlock.x-O.indexLabelTextBlock.width-y),0<W&&(!J&&O.indexLabelText&&(.3*O.indexLabelTextBlock.maxWidth>(he="right"===O.hemisphere?b.x2-O.indexLabelTextBlock.x:O.indexLabelTextBlock.x-b.x1)?O.indexLabelText="":O.indexLabelTextBlock.maxWidth=.85*he,.3*O.indexLabelTextBlock.maxWidth<he&&(O.indexLabelTextBlock.x-="right"===O.hemisphere?2:-2)),Math.abs(O.indexLabelTextBlock.y-O.indexLabelTextBlock.height/2-F.y)<V||Math.abs(O.indexLabelTextBlock.y+O.indexLabelTextBlock.height/2-F.y)<V)&&(9<(W/=Math.abs(Math.cos(O.indexLabelAngle)))&&(W*=.3),W>K&&(K=W)),W=W=0,0<O.indexLabelAngle&&O.indexLabelAngle<Math.PI?(W=b.y2-(O.indexLabelTextBlock.y+O.indexLabelTextBlock.height/2+5),W*=-1):W=b.y1-(O.indexLabelTextBlock.y-O.indexLabelTextBlock.height/2-5),0<W&&(!J&&O.indexLabelText&&0===p(G,W*(he=0<O.indexLabelAngle&&O.indexLabelAngle<Math.PI?-1:1))&&p(G,2*he),Math.abs(O.indexLabelTextBlock.x-F.x)<V&&(9<(W/=Math.abs(Math.sin(O.indexLabelAngle)))&&(W*=.3),W>K&&(K=W))));var De=function(zt,it,je){for(var Ae=[],Bt=0;Ae.push(d[it]),it!==je;it=(it+1+g.length)%g.length);for(Ae.sort(function(Qi,Rt){return Qi.y-Rt.y}),it=0;it<Ae.length&&(je=Ae[it],Bt<.7*zt);it++)Bt+=je.indexLabelTextBlock.height,je.indexLabelTextBlock.text="",je.indexLabelText="",je.indexLabelTextBlock.measureText()};!function(){for(var zt=-1,it=-1,je=0,Ae=!1,Bt=0;Bt<g.length;Bt++)if(Ae=!1,(ne=d[Bt]).indexLabelText){var Qi=h(Bt);if(null!==Qi){var Hn,Rt=d[Qi];ze=0,(Hn=0>(ze=o(ne,Rt)))&&(Hn=ne.indexLabelTextBlock.x,Hn=!(ne.indexLabelTextBlock.x+ne.indexLabelTextBlock.width<Rt.indexLabelTextBlock.x-y||Hn>Rt.indexLabelTextBlock.x+Rt.indexLabelTextBlock.width+y||ne.indexLabelTextBlock.y-ne.indexLabelTextBlock.height/2>Rt.indexLabelTextBlock.y+Rt.indexLabelTextBlock.height/2+y||ne.indexLabelTextBlock.y+ne.indexLabelTextBlock.height/2<Rt.indexLabelTextBlock.y-Rt.indexLabelTextBlock.height/2-y)),Hn?(0>zt&&(zt=Bt),Qi!==zt&&(it=Qi,je+=-ze),Bt%Math.max(g.length/10,3)==0&&(Ae=!0)):Ae=!0,Ae&&0<je&&0<=zt&&0<=it&&(De(je,zt,it),it=zt=-1,je=0)}}0<je&&De(je,zt,it)}()}}function _(){if(w.plotArea.layoutManager.reset(),w.title&&(w.title.dockInsidePlotArea||"center"===w.title.horizontalAlign&&"center"===w.title.verticalAlign)&&w.title.render(),w.subtitles)for(var G=0;G<w.subtitles.length;G++){var K=w.subtitles[G];(K.dockInsidePlotArea||"center"===K.horizontalAlign&&"center"===K.verticalAlign)&&K.render()}w.legend&&(w.legend.dockInsidePlotArea||"center"===w.legend.horizontalAlign&&"center"===w.legend.verticalAlign)&&(w.legend.setLayout(),w.legend.render())}var w=this;if(!(0>=r.dataSeriesIndexes.length)){var A,x=this.data[r.dataSeriesIndexes[0]],g=x.dataPoints,y=10,b=this.plotArea,d=x.dataPointEOs,C=2,P=1.3,T=20/180*Math.PI,E=6,F={x:(b.x2+b.x1)/2,y:(b.y2+b.y1)/2},H=0;r=!1;for(var z=0;z<g.length;z++)H+=Math.abs(g[z].y),!r&&null!=g[z].indexLabel&&0<g[z].indexLabel.toString().length&&(r=!0),!r&&null!=g[z].label&&0<g[z].label.toString().length&&(r=!0);if(0!==H){r=r||null!=x.indexLabel&&0<x.indexLabel.toString().length;var V="inside"!==x.indexLabelPlacement&&r?.75*Math.min(b.width,b.height)/2:.92*Math.min(b.width,b.height)/2;x.radius&&(V=Rn(x.radius,V));var ee=null!=x.innerRadius?Rn(x.innerRadius,V):.7*V;x.radius=V,"doughnut"===x.type&&(x.innerRadius=ee);var ae=Math.min(ee/V,(V-1)/V);this.pieDoughnutClickHandler=function(G){w.isAnimating||!j(G.dataSeries.explodeOnClick)&&!G.dataSeries.explodeOnClick||((G=G.dataPoint).exploded=!G.exploded,1<this.dataPoints.length&&w._animator.animate(0,500,function(K){l(K),_(),w.dispatchEvent("dataAnimationIterationEnd",{chart:w}),w.dispatchEvent("dataAnimationEnd",{chart:w})}))},function u(){if(x&&g){for(var G=0,K=0,J=0,U=0,O=0;O<g.length;O++){var ne=g[O],he=x.dataPointIds[O];d[O].id=he,d[O].objectType="dataPoint",d[O].dataPointIndex=O,d[O].dataSeriesIndex=0;var W=d[O],we={percent:null,total:null},ze=null;we=w.getPercentAndTotal(x,ne),(x.indexLabelFormatter||ne.indexLabelFormatter)&&(ze={chart:w.options,dataSeries:x,dataPoint:ne,total:we.total,percent:we.percent}),we=ne.indexLabelFormatter?ne.indexLabelFormatter(ze):ne.indexLabel?w.replaceKeywordsWithValue(ne.indexLabel,ne,x,O):x.indexLabelFormatter?x.indexLabelFormatter(ze):x.indexLabel?w.replaceKeywordsWithValue(x.indexLabel,ne,x,O):ne.label?ne.label:"",w._eventManager.objectMap[he]=W,W.center={x:F.x,y:F.y},W.y=ne.y,W.radius=V,W.percentInnerRadius=ae,W.indexLabelText=we,W.indexLabelPlacement=x.indexLabelPlacement,W.indexLabelLineColor=ne.indexLabelLineColor?ne.indexLabelLineColor:x.options.indexLabelLineColor?x.options.indexLabelLineColor:ne.color?ne.color:x._colorSet[O%x._colorSet.length],W.indexLabelLineThickness=j(ne.indexLabelLineThickness)?x.indexLabelLineThickness:ne.indexLabelLineThickness,W.indexLabelLineDashType=ne.indexLabelLineDashType?ne.indexLabelLineDashType:x.indexLabelLineDashType,W.indexLabelFontColor=ne.indexLabelFontColor?ne.indexLabelFontColor:x.indexLabelFontColor,W.indexLabelFontStyle=ne.indexLabelFontStyle?ne.indexLabelFontStyle:x.indexLabelFontStyle,W.indexLabelFontWeight=ne.indexLabelFontWeight?ne.indexLabelFontWeight:x.indexLabelFontWeight,W.indexLabelFontSize=j(ne.indexLabelFontSize)?x.indexLabelFontSize:ne.indexLabelFontSize,W.indexLabelFontFamily=ne.indexLabelFontFamily?ne.indexLabelFontFamily:x.indexLabelFontFamily,W.indexLabelBackgroundColor=ne.indexLabelBackgroundColor?ne.indexLabelBackgroundColor:x.options.indexLabelBackgroundColor?x.options.indexLabelBackgroundColor:x.indexLabelBackgroundColor,W.indexLabelMaxWidth=ne.indexLabelMaxWidth?ne.indexLabelMaxWidth:x.indexLabelMaxWidth?x.indexLabelMaxWidth:.33*b.width,W.indexLabelWrap=void 0!==ne.indexLabelWrap?ne.indexLabelWrap:x.indexLabelWrap,W.indexLabelTextAlign=ne.indexLabelTextAlign?ne.indexLabelTextAlign:x.indexLabelTextAlign?x.indexLabelTextAlign:"left",W.startAngle=0===O?x.startAngle?x.startAngle/180*Math.PI:0:d[O-1].endAngle,W.startAngle=(W.startAngle+2*Math.PI)%(2*Math.PI),W.endAngle=W.startAngle+2*Math.PI/H*Math.abs(ne.y),ne=((ne=(W.endAngle+W.startAngle)/2)+2*Math.PI)%(2*Math.PI),W.midAngle=ne,W.midAngle>Math.PI/2-T&&W.midAngle<Math.PI/2+T?((0===G||d[J].midAngle>W.midAngle)&&(J=O),G++):W.midAngle>3*Math.PI/2-T&&W.midAngle<3*Math.PI/2+T&&((0===K||d[U].midAngle>W.midAngle)&&(U=O),K++),W.hemisphere=ne>Math.PI/2&&ne<=3*Math.PI/2?"left":"right",W.indexLabelTextBlock=new Ze(w.plotArea.ctx,{fontSize:W.indexLabelFontSize,fontFamily:W.indexLabelFontFamily,fontColor:W.indexLabelFontColor,fontStyle:W.indexLabelFontStyle,fontWeight:W.indexLabelFontWeight,textAlign:W.indexLabelTextAlign,backgroundColor:W.indexLabelBackgroundColor,maxWidth:W.indexLabelMaxWidth,maxHeight:W.indexLabelWrap?5*W.indexLabelFontSize:1.5*W.indexLabelFontSize,text:W.indexLabelText,padding:0,textBaseline:"top"}),W.indexLabelTextBlock.measureText()}for(he=ne=0,we=!1,O=0;O<g.length;O++)W=d[(J+O)%g.length],1<G&&W.midAngle>Math.PI/2-T&&W.midAngle<Math.PI/2+T&&(ne<=G/2&&!we?(W.hemisphere="right",ne++):(W.hemisphere="left",we=!0));for(we=!1,O=0;O<g.length;O++)W=d[(U+O)%g.length],1<K&&W.midAngle>3*Math.PI/2-T&&W.midAngle<3*Math.PI/2+T&&(he<=K/2&&!we?(W.hemisphere="left",he++):(W.hemisphere="right",we=!0))}}(),m(),m(),m(),m(),this.disableToolTip=!0,this._animator.animate(0,this.animatedRender?this.animationDuration:0,function(G){(K=w.plotArea.ctx).clearRect(b.x1,b.y1,b.width,b.height),K.fillStyle=w.backgroundColor,K.fillRect(b.x1,b.y1,b.width,b.height);for(var K=d[0].startAngle+2*Math.PI*G,J=0;J<g.length;J++){var U=0===J?d[J].startAngle:O,O=U+(d[J].endAngle-d[J].startAngle),ne=!1;if(O>K&&(O=K,ne=!0),O>U&&Vi(w.plotArea.ctx,d[J].center,d[J].radius,g[J].color?g[J].color:x._colorSet[J%x._colorSet.length],x.type,U,O,x.fillOpacity,d[J].percentInnerRadius),ne)break}_(),w.dispatchEvent("dataAnimationIterationEnd",{chart:w}),1<=G&&w.dispatchEvent("dataAnimationEnd",{chart:w})},function(){w.disableToolTip=!1,w._animator.animate(0,w.animatedRender?500:0,function(G){l(G),_(),w.dispatchEvent("dataAnimationIterationEnd",{chart:w})}),w.dispatchEvent("dataAnimationEnd",{chart:w})})}}};var Mi=function(r,u,l,o){void 0===l&&(l=1),0>=Math.round(u.y4-u.y1)||(r.save(),r.globalAlpha=l,r.beginPath(),r.moveTo(Math.round(u.x1),Math.round(u.y1)),r.lineTo(Math.round(u.x2),Math.round(u.y2)),r.lineTo(Math.round(u.x3),Math.round(u.y3)),r.lineTo(Math.round(u.x4),Math.round(u.y4)),"undefined"!==u.x5&&(r.lineTo(Math.round(u.x5),Math.round(u.y5)),r.lineTo(Math.round(u.x6),Math.round(u.y6))),r.closePath(),r.fillStyle=o||u.color,r.fill(),r.globalAplha=1,r.restore())};k.prototype.renderFunnel=function(r){function p(){var ce,pe,be,Be;if("inside"!==T.indexLabelPlacement)for(var Me=0;Me<Ae.length;Me++)0==ue[Me].textBlock.text.length?ue[Me].isDirty=!0:(be=void 0!==(ce=Ae[Me]).x5?(ce.y2+ce.y4)/2:(ce.y2+ce.y3)/2,pe=T.reversed?void 0!==ce.x5&&be>it?d(be).x2+1:(ce.x2+ce.x3)/2+1:void 0!==ce.x5?be<it?d(be).x2+1:(ce.x4+ce.x3)/2+1:(ce.x2+ce.x3)/2+1,ue[Me].textBlock.x=pe+ze,ue[Me].textBlock.y=be-ue[Me].height/2,T.reversed?(ue[Me].textBlock.y+ue[Me].height>mt+H&&(ue[Me].textBlock.y=mt+H-ue[Me].height),ue[Me].textBlock.y<je-H&&(ue[Me].textBlock.y=je-H)):(ue[Me].textBlock.y<mt-H&&(ue[Me].textBlock.y=mt-H),ue[Me].textBlock.y+ue[Me].height>je+H&&(ue[Me].textBlock.y=je+H-ue[Me].height)));else for(Me=0;Me<Ae.length;Me++)0==ue[Me].textBlock.text.length?ue[Me].isDirty=!0:(Be=ue[Me].width,(pe=(ce=Ae[Me]).height)>=(be=ue[Me].height)?(be=Me!=Qi?(ce.y1+ce.y3)/2-be/2:(ce.y1+ce.y4)/2-be/2,ue[Me].textBlock.x=pe=Me!=Qi?(ce.x4+ce.x3)/2-Be/2:(ce.x5+ce.x4)/2-Be/2,ue[Me].textBlock.y=be):ue[Me].isDirty=!0)}function _(ce,pe){return(pe<Ae.length?ue[pe].textBlock.y:T.reversed?mt+H:je+H)-(0>ce?T.reversed?je-H:mt-H:ue[ce].textBlock.y+ue[ce].height+Sn)}function w(ce,pe,be){var Be,Me,et,Ti=[],Pe=H,Ie=[];if(-1!==pe&&(0<=ni.indexOf(pe)?(Me=ni.indexOf(pe),ni.splice(Me,1)):(ni.push(pe),ni=ni.sort(function(kt,Ne){return kt-Ne}))),0===ni.length)Ti=ur;else{Me=H*(1!=ni.length||0!=ni[0]&&ni[0]!=Ae.length-1?2:1)/function x(){for(var ce=0,pe=0;pe<Ae.length-1;pe++)(0<=ni.indexOf(pe)||0<=ni.indexOf(pe+1))&&ce++;return ce}();for(var ot=0;ot<Ae.length;ot++){if(1==ni.length&&0==ni[0]){if(0===ot){Ti.push(ur[ot]),Be=Pe;continue}}else 0===ot&&(Be=-1*Pe);Ti.push(ur[ot]+Be),(0<=ni.indexOf(ot)||ot<Ae.length&&0<=ni.indexOf(ot+1))&&(Be+=Me)}}et=function(){for(var kt=[],Ne=0;Ne<Ae.length;Ne++)kt.push(Ti[Ne]-Ae[Ne].y1);return kt}(),(new Date).getTime();ce._animator.animate(0,be,function(kt){var Ne=ce.plotArea.ctx||ce.ctx;Vr=!0,Ne.clearRect(F.x1,F.y1,F.x2-F.x1,F.y2-F.y1),Ne.fillStyle=ce.backgroundColor,Ne.fillRect(F.x1,F.y1,F.width,F.height),function(kt){for(var Ne,at,ke=0;ke<Ae.length;ke++)Ne=et[ke],at=Ae[ke],Ne*=kt,void 0===Ie[ke]&&(Ie[ke]=0),0>Ie&&(Ie*=-1),at.y1+=Ne-Ie[ke],at.y2+=Ne-Ie[ke],at.y3+=Ne-Ie[ke],at.y4+=Ne-Ie[ke],at.y5&&(at.y5+=Ne-Ie[ke],at.y6+=Ne-Ie[ke]),Ie[ke]=Ne}(kt);var at={};for(at.dataSeries=T,at.dataPoint=T.reversed?T.dataPoints[E.length-1-pe]:T.dataPoints[pe],at.index=T.reversed?E.length-1-pe:pe,ce.toolTip.highlightObjects([at]),at=0;at<Ae.length;at++)Mi(Ne,Ae[at],T.fillOpacity);A(Ne),G&&("inside"!==T.indexLabelPlacement?g(Ne):p(),C(Ne)),1<=kt&&(Vr=!1)},null,Se.easing.easeOutQuart)}function g(ce){for(var pe,be,Be,Me,et=0;et<Ae.length;et++)pe=d(be=((Ae[et].y2+Ae[et].y4)/2<<0)+(Me=ue[et].lineThickness%2==1?.5:0)).x2-1,Be=ue[et].textBlock.x,Me=(ue[et].textBlock.y+ue[et].height/2<<0)+Me,ue[et].isDirty||0==ue[et].lineThickness||(ce.strokeStyle=ue[et].lineColor,ce.lineWidth=ue[et].lineThickness,ce.setLineDash&&ce.setLineDash(Ke(ue[et].lineDashType,ue[et].lineThickness)),ce.beginPath(),ce.moveTo(pe,be),ce.lineTo(Be,Me),ce.stroke())}function y(ce){for(ce-=1;-1<=ce&&-1!=ce&&ue[ce].isDirty;ce--);return ce}function b(ce){for(ce+=1;ce<=Ae.length&&ce!=Ae.length&&ue[ce].isDirty;ce++);return ce}function d(ce){for(var pe,be=0;be<E.length;be++)if(Ae[be].y1<ce&&Ae[be].y4>ce){pe=Ae[be];break}return pe?{x1:ce=pe.y6&&ce>pe.y6?pe.x3+(pe.x4-pe.x3)/(pe.y4-pe.y3)*(ce-pe.y3):pe.x2+(pe.x3-pe.x2)/(pe.y3-pe.y2)*(ce-pe.y2),x2:ce}:-1}function C(ce){for(var pe=0;pe<Ae.length;pe++)ue[pe].isDirty||(ce&&(ue[pe].textBlock.ctx=ce),ue[pe].textBlock.render(!0))}function A(ce){if(P.plotArea.layoutManager.reset(),ce.roundRect||Bn(ce),P.title&&(P.title.dockInsidePlotArea||"center"===P.title.horizontalAlign&&"center"===P.title.verticalAlign)&&(P.title.ctx=ce,P.title.render()),P.subtitles)for(var pe=0;pe<P.subtitles.length;pe++){var be=P.subtitles[pe];(be.dockInsidePlotArea||"center"===be.horizontalAlign&&"center"===be.verticalAlign)&&(P.subtitles.ctx=ce,be.render())}P.legend&&(P.legend.dockInsidePlotArea||"center"===P.legend.horizontalAlign&&"center"===P.legend.verticalAlign)&&(P.legend.ctx=ce,P.legend.setLayout(),P.legend.render()),St.fNg&&St.fNg(P)}var P=this;if(!(0>=r.dataSeriesIndexes.length)){for(var T=this.data[r.dataSeriesIndexes[0]],E=T.dataPoints,F=this.plotArea,H=.025*F.width,z=.01*F.width,V=0,ee=F.height-2*H,ae=Math.min(F.width-2*z,2.8*F.height),G=!1,K=0;K<E.length;K++)!G&&null!=E[K].indexLabel&&0<E[K].indexLabel.toString().length&&(G=!0),!G&&null!=E[K].label&&0<E[K].label.toString().length&&(G=!0),(!G&&"function"==typeof T.indexLabelFormatter||"function"==typeof E[K].indexLabelFormatter)&&(G=!0);G=G||null!=T.indexLabel&&0<T.indexLabel.toString().length,"inside"!==T.indexLabelPlacement&&G||(z=(F.width-.75*ae)/2),K=F.x1+z;var J=F.x2-z,U=F.y1+H,O=F.y2-H,ne=r.targetCanvasCtx||this.plotArea.ctx||this.ctx;if(0!=T.length&&T.dataPoints&&T.visible&&0!==E.length){var he,W,ze=30*(J-(r=75*ae/100))/100;"funnel"===T.type?(he=j(T.options.neckHeight)?.35*ee:T.neckHeight,W=j(T.options.neckWidth)?.25*r:T.neckWidth,he="string"==typeof he&&he.match(/%$/)?(he=parseInt(he))*ee/100:parseInt(he),W="string"==typeof W&&W.match(/%$/)?(W=parseInt(W))*r/100:parseInt(W),he>ee?he=ee:0>=he&&(he=0),W>r?W=r-.5:0>=W&&(W=0)):"pyramid"===T.type&&(W=he=0,T.reversed=!T.reversed);var we=K,$e=K+r,mt=T.reversed?O:U,De=(z=K+r/2)-W/2,zt=z+W/2,it=T.reversed?U+he:O-he,je=T.reversed?U:O;r=[],z=[];var Qi,Ae=[],Bt=(ae=[],U),Rt=(it-mt)/(De-we),Hn=-Rt;if(-1!==(K="area"===(T.valueRepresents?T.valueRepresents:"height")?function l(){var Me,et,ce=we,pe=$e,be=De,Be=zt;Me=U,et=O-he,Be=Math.abs((et-Me)*(pe-ce+(Be-be))/2),Me=et-Me,et=(be=zt-De)*(et-O),et=Be+(et=Math.abs(et)),Be=[];for(var Ti=0,Pe=0;Pe<E.length;Pe++){if(void 0===E[Pe].y)return-1;E[Pe].y="number"==typeof E[Pe].y?E[Pe].y:0,Ti+=Math.abs(E[Pe].y)}if(0===Ti)return-1;var ot,Jt,kt=Be[0]=0,Ie=0;for(pe-=ce,kt=!1,Pe=0;Pe<E.length;Pe++)ce=Math.abs(E[Pe].y)*et/Ti,kt?ot=0==Number(be.toFixed(3))?0:ce/be:0>(Jt=Rt*Rt*pe*pe-4*Math.abs(Rt)*ce)?(ce-=kt=(pe+(Jt=be))*(Me-Ie)/2,ot=Me-Ie,Ie+=Me-Ie,ot+=0==Jt?0:ce/Jt,Ie+=ce/Jt,kt=!0):(Jt=pe-2*(ot=(Math.abs(Rt)*pe-Math.sqrt(Jt))/2)/Math.abs(Rt),(Ie+=ot)>Me&&(kt=(pe+(Jt=be))*(Me-(Ie-=ot))/2,ot=Me-Ie,Ie+=Me-Ie,ot+=(ce-=kt)/Jt,Ie+=ce/Jt,kt=!0),pe=Jt),Be.push(ot);return Be}():function u(){for(var ce=0,pe=[],be=0;be<E.length;be++){if(void 0===E[be].y)return-1;E[be].y="number"==typeof E[be].y?E[be].y:0,ce+=Math.abs(E[be].y)}if(0===ce)return-1;for(be=pe[0]=0;be<E.length;be++)pe.push(Math.abs(E[be].y)*ee/ce);return pe}())){if(T.reversed)for(ae.push(Bt),W=K.length-1;0<W;W--)ae.push(Bt+=K[W]);else for(W=0;W<K.length;W++)ae.push(Bt+=K[W]);if(T.reversed)for(W=0;W<K.length;W++)ae[W]<it?(r.push(De),z.push(zt),Qi=W):(r.push((ae[W]-mt+Rt*we)/Rt),z.push((ae[W]-mt+Hn*$e)/Hn));else for(W=0;W<K.length;W++)ae[W]<it?(r.push((ae[W]-mt+Rt*we)/Rt),z.push((ae[W]-mt+Hn*$e)/Hn),Qi=W):(r.push(De),z.push(zt));for(W=0;W<K.length-1;W++)Bt=T.reversed?E[E.length-1-W].color?E[E.length-1-W].color:T._colorSet[(E.length-1-W)%T._colorSet.length]:E[W].color?E[W].color:T._colorSet[W%T._colorSet.length],Ae.push(W===Qi?{x1:r[W],y1:ae[W],x2:z[W],y2:ae[W],x3:zt,y3:it,x4:z[W+1],y4:ae[W+1],x5:r[W+1],y5:ae[W+1],x6:De,y6:it,id:W,height:ae[W+1]-ae[W],color:Bt}:{x1:r[W],y1:ae[W],x2:z[W],y2:ae[W],x3:z[W+1],y3:ae[W+1],x4:r[W+1],y4:ae[W+1],id:W,height:ae[W+1]-ae[W],color:Bt});var Sn=2,ue=[],Vr=!1,ni=[],ur=[];for(K=!1,r=r=0,cn(ni),W=0;W<E.length;W++)E[W].exploded&&(K=!0,ni.push(T.reversed?E.length-1-W:W));if(ne.clearRect(F.x1,F.y1,F.width,F.height),ne.fillStyle=P.backgroundColor,ne.fillRect(F.x1,F.y1,F.width,F.height),G&&T.visible&&(function o(){if(T&&E){for(var ce,pe,be,Be,Me,et,Ti,Pe,Ie,ot,Jt,kt,Ne,at,ke,ct=[],ai=[],Ai={percent:null,total:null},xi=null,Ce=0;Ce<E.length;Ce++)ke=d(ke=void 0!==(ke=Ae[Ce]).x5?(ke.y2+ke.y4)/2:(ke.y2+ke.y3)/2).x2+1,ct[Ce]=J-ke-ze;ke=.5*ze,Ce=0;for(var si=E.length-1;Ce<E.length||0<=si;Ce++,si--)ce=(pe=T.reversed?E[si]:E[Ce]).color?pe.color:T.reversed?T._colorSet[(E.length-1-Ce)%T._colorSet.length]:T._colorSet[Ce%T._colorSet.length],be=pe.indexLabelPlacement||T.indexLabelPlacement||"outside",at=pe.indexLabelTextAlign||T.indexLabelTextAlign||"left",Be=pe.indexLabelBackgroundColor||T.indexLabelBackgroundColor||(Y?"transparent":null),Me=pe.indexLabelFontColor||T.indexLabelFontColor||"#979797",et=j(pe.indexLabelFontSize)?T.indexLabelFontSize:pe.indexLabelFontSize,Ti=pe.indexLabelFontStyle||T.indexLabelFontStyle||"normal",Pe=pe.indexLabelFontFamily||T.indexLabelFontFamily||"arial",Ie=pe.indexLabelFontWeight||T.indexLabelFontWeight||"normal",ce=pe.indexLabelLineColor||T.options.indexLabelLineColor||ce,ot="number"==typeof pe.indexLabelLineThickness?pe.indexLabelLineThickness:"number"==typeof T.indexLabelLineThickness?T.indexLabelLineThickness:2,Jt=pe.indexLabelLineDashType||T.indexLabelLineDashType||"solid",kt=void 0!==pe.indexLabelWrap?pe.indexLabelWrap:void 0===T.indexLabelWrap||T.indexLabelWrap,P._eventManager.objectMap[Ne=T.dataPointIds[Ce]]={id:Ne,objectType:"dataPoint",dataPointIndex:Ce,dataSeriesIndex:0,funnelSection:Ae[T.reversed?E.length-1-Ce:Ce]},"inside"===T.indexLabelPlacement&&(ct[Ce]=Ce!==Qi?T.reversed?Ae[Ce].x2-Ae[Ce].x1:Ae[Ce].x3-Ae[Ce].x4:Ae[Ce].x3-Ae[Ce].x6,20>ct[Ce]&&(ct[Ce]=Ce!==Qi&&T.reversed?Ae[Ce].x3-Ae[Ce].x4:Ae[Ce].x2-Ae[Ce].x1,ct[Ce]/=2)),((Ne=pe.indexLabelMaxWidth?pe.indexLabelMaxWidth:T.options.indexLabelMaxWidth?T.indexLabelMaxWidth:ct[Ce])>ct[Ce]||0>Ne)&&(Ne=ct[Ce]),ai[Ce]="inside"===T.indexLabelPlacement&&Ae[Ce].height,Ai=P.getPercentAndTotal(T,pe),(T.indexLabelFormatter||pe.indexLabelFormatter)&&(xi={chart:P.options,dataSeries:T,dataPoint:pe,total:Ai.total,percent:Ai.percent}),pe=pe.indexLabelFormatter?pe.indexLabelFormatter(xi):pe.indexLabel?P.replaceKeywordsWithValue(pe.indexLabel,pe,T,Ce):T.indexLabelFormatter?T.indexLabelFormatter(xi):T.indexLabel?P.replaceKeywordsWithValue(T.indexLabel,pe,T,Ce):pe.label?pe.label:"",0>=ot&&(ot=0),1e3>Ne&&1e3-Ne<ke&&(Ne+=1e3-Ne),ne.roundRect||Bn(ne),(be=new Ze(ne,{fontSize:et,fontFamily:Pe,fontColor:Me,fontStyle:Ti,fontWeight:Ie,horizontalAlign:be,textAlign:at,backgroundColor:Be,maxWidth:Ne,maxHeight:!1===ai[Ce]?kt?4.28571429*et:1.5*et:ai[Ce],text:pe,padding:Sn})).measureText(),ue.push({textBlock:be,id:T.reversed?si:Ce,isDirty:!1,lineColor:ce,lineThickness:ot,lineDashType:Jt,height:be.height<be.maxHeight?be.height:be.maxHeight,width:be.width<be.maxWidth?be.width:be.maxWidth})}}(),p(),function h(){var ce,pe,be,Be,Me,et=[];Me=!1,be=0;for(var Ti,Pe=J-$e-ze/2,Ie=(Pe=T.options.indexLabelMaxWidth?T.indexLabelMaxWidth>Pe?Pe:T.indexLabelMaxWidth:Pe,ue.length-1);0<=Ie;Ie--)Ti=E[ue[Ie].id],Be=(be=ue[Ie]).textBlock,pe=(ce=b(Ie)<Ae.length?ue[b(Ie)]:null)?ce.textBlock:null,be=be.height,ce&&Be.y+be+Sn>pe.y&&(Me=!0),((be=Ti.indexLabelMaxWidth||Pe)>Pe||0>be)&&(be=Pe),et.push(be);if(Me)for(Ie=ue.length-1;0<=Ie;Ie--)ce=Ae[Ie],ue[Ie].textBlock.maxWidth=et[et.length-(Ie+1)],ue[Ie].textBlock.measureText(),ue[Ie].textBlock.x=J-Pe,Me=ue[Ie].textBlock.width<ue[Ie].textBlock.maxWidth?ue[Ie].textBlock.width:ue[Ie].textBlock.maxWidth,ue[Ie].height=be=ue[Ie].textBlock.height<ue[Ie].textBlock.maxHeight?ue[Ie].textBlock.height:ue[Ie].textBlock.maxHeight,ue[Ie].width=Me,ue[Ie].textBlock.y=(be=void 0!==ce.x5?(ce.y2+ce.y4)/2:(ce.y2+ce.y3)/2)-ue[Ie].height/2,T.reversed?(ue[Ie].textBlock.y+ue[Ie].height>mt+H&&(ue[Ie].textBlock.y=mt+H-ue[Ie].height),ue[Ie].textBlock.y<je-H&&(ue[Ie].textBlock.y=je-H)):(ue[Ie].textBlock.y<mt-H&&(ue[Ie].textBlock.y=mt-H),ue[Ie].textBlock.y+ue[Ie].height>je+H&&(ue[Ie].textBlock.y=je+H-ue[Ie].height))}(),"inside"!==T.indexLabelPlacement)){for(function m(){function ce(Ne,at){var ke;if(0>Ne||Ne>=ue.length)return 0;var ct,ai=ue[Ne].textBlock;return 0>at?(at*=-1,(ke=_(ct=y(Ne),Ne))>=at?(ai.y-=at,at):0==Ne?(0<ke&&(ai.y-=ke),ke):(0<(ke+=ce(ct,-(at-ke)))&&(ai.y-=ke),ke)):(ke=_(Ne,ct=b(Ne)))>=at?(ai.y+=at,at):Ne==Ae.length-1?(0<ke&&(ai.y+=ke),ke):(0<(ke+=ce(ct,at-ke))&&(ai.y+=ke),ke)}function pe(){var Ne,at,ke,ct,Ai,ai=0;ct=(O-U+2*H)/ot,Ai=ot;for(var xi,Ce=1;Ce<Ai;Ce++){ke=Ce*ct;for(var si=ue.length-1;0<=si;si--)!ue[si].isDirty&&ue[si].textBlock.y<ke&&ue[si].textBlock.y+ue[si].height>ke&&!((xi=b(si))>=ue.length-1)&&ue[si].textBlock.y+ue[si].height+Sn>ue[xi].textBlock.y&&(ue[si].textBlock.y=ue[si].textBlock.y+ue[si].height-ke>ke-ue[si].textBlock.y?ke+1:ke-ue[si].height-1)}for(xi=Ae.length-1;0<xi;xi--)if(!ue[xi].isDirty){if(0>(ke=y(xi))&&ue[ke=0].isDirty)break;if(ue[xi].textBlock.y<ue[ke].textBlock.y+ue[ke].height){for(at=at||xi,ct=xi,Ai=0;ue[ct].textBlock.y<ue[ke].textBlock.y+ue[ke].height+Sn;){if(Ne=Ne||ue[ct].textBlock.y+ue[ct].height,Ai+=ue[ct].height,Ai+=Sn,0>=(ct=ke)){Ai+=ue[ct=0].height;break}if(0>(ke=y(ct))){Ai+=ue[ct=0].height;break}}if(ct!=xi){ai=be(Ne=Ai-(Ne-=ai=ue[ct].textBlock.y),at,ct);break}}}return ai}function be(Ne,at,ke){var ct=[],ai=0,Ai=0;for(Ne=Math.abs(Ne);ke<=at;ke++)ct.push(Ae[ke]);for(ct.sort(function(xi,Ce){return xi.height-Ce.height}),ke=0;ke<ct.length&&(at=ct[ke],ai<Ne);ke++)Ai++,ai+=ue[at.id].height+Sn,ue[at.id].textBlock.text="",ue[at.id].indexLabelText="",ue[at.id].isDirty=!0,ue[at.id].textBlock.measureText();return Ai}for(var Be,Me,et,Ti,Pe,Ie,ot=1,Jt=0;Jt<2*ot;Jt++){for(var kt=ue.length-1;0<=kt&&(0<=y(kt)&&y(kt),Ti=(et=ue[kt]).textBlock,Ie=(Pe=b(kt)<Ae.length?ue[b(kt)]:null)?Pe.textBlock:null,Be=+et.height.toFixed(6),Me=+Ti.y.toFixed(6),!(!et.isDirty&&Pe&&Me+Be+Sn>+Ie.y.toFixed(6)&&(Be=Ti.y+Be+Sn-Ie.y,Me=ce(kt,-Be),Me<Be&&(0<Me&&(Be-=Me),Me=ce(b(kt),Be),Me!=Be))));kt--);pe()}}(),W=0;W<E.length;W++)ue[W].isDirty||(r=(J-(r=ue[W].textBlock.x+ue[W].width))/2,0==W&&(V=r),V>r&&(V=r));for(W=0;W<Ae.length;W++)Ae[W].x1+=V,Ae[W].x2+=V,Ae[W].x3+=V,Ae[W].x4+=V,Ae[W].x5&&(Ae[W].x5+=V,Ae[W].x6+=V),ue[W].textBlock.x+=V}for(W=0;W<Ae.length;W++)Mi(ne,V=Ae[W],T.fillOpacity),ur.push(V.y1);if(A(ne),G&&T.visible&&("inside"===T.indexLabelPlacement||P.animationEnabled||g(ne),P.animationEnabled||C()),!G)for(W=0;W<E.length;W++)P._eventManager.objectMap[V=T.dataPointIds[W]]=r={id:V,objectType:"dataPoint",dataPointIndex:W,dataSeriesIndex:0,funnelSection:Ae[T.reversed?E.length-1-W:W]};return(!P.animationEnabled&&K||P.animationEnabled&&!P.animatedRender)&&w(P,-1,0),this.funnelPyramidClickHandler=function(Me){var et=-1;!Vr&&!P.isAnimating&&(j(Me.dataSeries.explodeOnClick)||Me.dataSeries.explodeOnClick)&&0<=(et=T.reversed?E.length-1-Me.dataPointIndex:Me.dataPointIndex)&&(Me=et,("funnel"===T.type||"pyramid"===T.type)&&(T.reversed?E[E.length-1-Me].exploded=!E[E.length-1-Me].exploded:E[Me].exploded=!E[Me].exploded),w(P,et,500))},{source:ne,dest:this.plotArea.ctx,animationCallback:function(Me,et){Se.fadeInAnimation(Me,et),1<=Me&&(w(P,-1,500),A(P.plotArea.ctx||P.ctx))},easingFunction:Se.easing.easeInQuad,animationBase:0}}}}},k.prototype.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(r){window.setTimeout(r,1e3/60)},k.prototype.cancelRequestAnimFrame=window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout,k.prototype.set=function(r,u,l){l=void 0===l||l,"options"===r?(this.options=u,l&&this.render()):k.base.set.call(this,r,u,l)},k.prototype.exportChart=function(r){var u=(r=void 0===r?{}:r).format?r.format:"png",l=r.fileName?r.fileName:this.exportFileName;if(r.toDataURL)return this.canvas.toDataURL("image/"+u);if((o=this.canvas)&&u&&l){l=l+"."+u;var o=o.toDataURL(r="image/"+u),h=!1,p=document.createElement("a");if(p.download=l,p.href=o,"undefined"!=typeof Blob&&new Blob){for(var m=o.replace(/^data:[a-z\/]*;base64,/,""),_=(m=atob(m),new ArrayBuffer(m.length)),w=(_=new Uint8Array(_),0);w<m.length;w++)_[w]=m.charCodeAt(w);u=new Blob([_.buffer],{type:"image/"+u});try{window.navigator.msSaveBlob(u,l),h=!0}catch(g){p.dataset.downloadurl=[r,p.download,p.href].join(":"),p.href=window.URL.createObjectURL(u)}}if(!h)try{event=document.createEvent("MouseEvents"),event.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),p.dispatchEvent?p.dispatchEvent(event):p.fireEvent&&p.fireEvent("onclick")}catch(g){(u=window.open()).document.write("<img src='"+o+"'></img><div>Please right click on the image and save it to your device</div>"),u.document.close()}}},k.prototype.print=function(){var r=this.exportChart({toDataURL:!0}),u=document.createElement("iframe");u.setAttribute("class","canvasjs-chart-print-frame"),Tt(u,{position:"absolute",width:"100%",border:"0px",margin:"0px 0px 0px 0px",padding:"0px 0px 0px 0px"}),u.style.height=this.height+"px",this._canvasJSContainer.appendChild(u);var l=this,o=u.contentWindow||u.contentDocument.document||u.contentDocument;o.document.open(),o.document.write('<!DOCTYPE HTML>\n<html><body><img src="'+r+'"/><body/></html>'),o.document.body&&o.document.body.style&&(o.document.body.style.margin="0px 0px 0px 0px",o.document.body.style.padding="0px 0px 0px 0px"),o.document.close(),setTimeout(function(){o.focus(),o.print(),setTimeout(function(){l._canvasJSContainer.removeChild(u)},1e3)},500)},k.prototype.getPercentAndTotal=function(r,u){var l=null,o=null,h=l=null;if(0<=r.type.indexOf("stacked"))o=0,(l=u.x.getTime?u.x.getTime():u.x)in r.plotUnit.yTotals&&(o=r.plotUnit.yTotals[l],l=r.plotUnit.yAbsTotals[l],h=isNaN(u.y)||0===l?0:u.y/l*100);else if("pie"===r.type||"doughnut"===r.type||"funnel"===r.type||"pyramid"===r.type){for(l=o=0;l<r.dataPoints.length;l++)isNaN(r.dataPoints[l].y)||(o+=r.dataPoints[l].y);h=isNaN(u.y)?0:u.y/o*100}return{percent:h,total:o}},k.prototype.replaceKeywordsWithValue=function(r,u,l,o,h){var p=this;if(h=void 0===h?0:h,(0<=l.type.indexOf("stacked")||"pie"===l.type||"doughnut"===l.type||"funnel"===l.type||"pyramid"===l.type)&&(0<=r.indexOf("#percent")||0<=r.indexOf("#total"))){var w="#percent",_="#total",m=this.getPercentAndTotal(l,u);_=isNaN(m.total)?_:m.total,w=isNaN(m.percent)?w:m.percent;do{if(m="",l.percentFormatString)m=l.percentFormatString;else{m="#,##0.";var x=Math.max(Math.ceil(Math.log(1/Math.abs(w))/Math.LN10),2);(isNaN(x)||!isFinite(x))&&(x=2);for(var g=0;g<x;g++)m+="#";l.percentFormatString=m}r=(r=r.replace("#percent",ei(w,m,p._cultureInfo))).replace("#total",ei(_,l.yValueFormatString?l.yValueFormatString:"#,##0.########",p._cultureInfo))}while(0<=r.indexOf("#percent")||0<=r.indexOf("#total"))}return r.replace(/\{.*?\}|"[^"]*"|'[^']*'/g,function(y){if('"'===y[0]&&'"'===y[y.length-1]||"'"===y[0]&&"'"===y[y.length-1])return y.slice(1,y.length-1);y=(y=ts(y.slice(1,y.length-1))).replace("#index",h);var b=null;try{var d=y.match(/(.*?)\s*\[\s*(.*?)\s*\]/);d&&0<d.length&&(b=ts(d[2]),y=ts(d[1]))}catch(C){}if(d=null,"color"===y)return"waterfall"===l.type?u.color?u.color:0<u.y?l.risingColor:l.fallingColor:"error"===l.type?l.color?l.color:l._colorSet[b%l._colorSet.length]:u.color?u.color:l.color?l.color:l._colorSet[o%l._colorSet.length];if(u.hasOwnProperty(y))d=u;else{if(!l.hasOwnProperty(y))return"";d=l}return d=d[y],null!==b&&(d=d[b]),"x"!==y?"y"===y?ei(d,u.yValueFormatString?u.yValueFormatString:l.yValueFormatString?l.yValueFormatString:l.yValueFormatString="#,##0.########",p._cultureInfo):"z"===y?ei(d,u.zValueFormatString?u.zValueFormatString:l.zValueFormatString?l.zValueFormatString:l.zValueFormatString="#,##0.########",p._cultureInfo):d:l.axisX&&"dateTime"===l.axisX.valueType||"dateTime"===l.xValueType||u.x&&u.x.getTime?l.axisX.logarithmic?void 0:Ki(d,u.xValueFormatString?u.xValueFormatString:l.xValueFormatString?l.xValueFormatString:l.xValueFormatString=p.axisX&&p.axisX.autoValueFormatString?p.axisX.autoValueFormatString:"DD MMM YY",p._cultureInfo):ei(d,u.xValueFormatString?u.xValueFormatString:l.xValueFormatString?l.xValueFormatString:l.xValueFormatString="#,##0.########",p._cultureInfo)})},fi(ge,Ot),ge.prototype.setLayout=function(){var r=this.dockInsidePlotArea?this.chart.plotArea:this.chart,u=r.layoutManager.getFreeSpace(),l=null,o=0,h=0,p=0,m=0,_=this.markerMargin=this.chart.options.legend&&!j(this.chart.options.legend.markerMargin)?this.chart.options.legend.markerMargin:.3*this.fontSize;this.height=0;var w=[],x=[];"top"===this.verticalAlign||"bottom"===this.verticalAlign?(this.orientation="horizontal",l=this.verticalAlign,p=this.maxWidth=null!==this.maxWidth?this.maxWidth:u.width,m=this.maxHeight=null!==this.maxHeight?this.maxHeight:.5*u.height):"center"===this.verticalAlign&&(this.orientation="vertical",("left"===this.horizontalAlign||"center"===this.horizontalAlign||"right"===this.horizontalAlign)&&(l=this.horizontalAlign),p=this.maxWidth=null!==this.maxWidth?this.maxWidth:.5*u.width,m=this.maxHeight=null!==this.maxHeight?this.maxHeight:u.height),this.errorMarkerColor=[];for(var g=0;g<this.dataSeries.length;g++){var y=this.dataSeries[g];if(y.dataPoints&&y.dataPoints.length)if("pie"!==y.type&&"doughnut"!==y.type&&"funnel"!==y.type&&"pyramid"!==y.type){var b=y.legendMarkerType=y.legendMarkerType?y.legendMarkerType:"line"!==y.type&&"stepLine"!==y.type&&"spline"!==y.type&&"scatter"!==y.type&&"bubble"!==y.type||!y.markerType?"error"===y.type&&y._linkedSeries?y._linkedSeries.legendMarkerType?y._linkedSeries.legendMarkerType:_e.getDefaultLegendMarker(y._linkedSeries.type):_e.getDefaultLegendMarker(y.type):y.markerType,d=y.legendText?y.legendText:this.itemTextFormatter?this.itemTextFormatter({chart:this.chart,legend:this.options,dataSeries:y,dataPoint:null}):y.name,C=y.legendMarkerColor=y.legendMarkerColor?y.legendMarkerColor:y.markerColor?y.markerColor:"error"===y.type?j(y.whiskerColor)?y._colorSet[0]:y.whiskerColor:y._colorSet[0],A=y.markerSize||"line"!==y.type&&"stepLine"!==y.type&&"spline"!==y.type?.75*this.lineHeight:0,P=y.legendMarkerBorderColor?y.legendMarkerBorderColor:y.markerBorderColor,T=y.legendMarkerBorderThickness?y.legendMarkerBorderThickness:y.markerBorderThickness?Math.max(1,Math.round(.2*A)):0;"error"===y.type&&this.errorMarkerColor.push(C),d=this.chart.replaceKeywordsWithValue(d,y.dataPoints[0],y,g),w.push(b={markerType:b,markerColor:C,text:d,textBlock:null,chartType:y.type,markerSize:A,lineColor:y._colorSet[0],dataSeriesIndex:y.index,dataPointIndex:null,markerBorderColor:P,markerBorderThickness:T})}else for(var E=0;E<y.dataPoints.length;E++){var F=y.dataPoints[E];b=F.legendMarkerType?F.legendMarkerType:y.legendMarkerType?y.legendMarkerType:_e.getDefaultLegendMarker(y.type),d=F.legendText?F.legendText:y.legendText?y.legendText:this.itemTextFormatter?this.itemTextFormatter({chart:this.chart,legend:this.options,dataSeries:y,dataPoint:F}):F.name?F.name:"DataPoint: "+(E+1),C=F.legendMarkerColor?F.legendMarkerColor:y.legendMarkerColor?y.legendMarkerColor:F.color?F.color:y.color?y.color:y._colorSet[E%y._colorSet.length],A=.75*this.lineHeight,P=F.legendMarkerBorderColor?F.legendMarkerBorderColor:y.legendMarkerBorderColor?y.legendMarkerBorderColor:F.markerBorderColor?F.markerBorderColor:y.markerBorderColor,T=F.legendMarkerBorderThickness?F.legendMarkerBorderThickness:y.legendMarkerBorderThickness?y.legendMarkerBorderThickness:F.markerBorderThickness||y.markerBorderThickness?Math.max(1,Math.round(.2*A)):0,b={markerType:b,markerColor:C,text:d=this.chart.replaceKeywordsWithValue(d,F,y,E),textBlock:null,chartType:y.type,markerSize:A,dataSeriesIndex:g,dataPointIndex:E,markerBorderColor:P,markerBorderThickness:T},(F.showInLegend||y.showInLegend&&!1!==F.showInLegend)&&w.push(b)}}if(!0===this.reversed&&w.reverse(),0<w.length){for(y=null,C=d=F=E=0,F=null!==this.itemWidth?null!==this.itemMaxWidth?Math.min(this.itemWidth,this.itemMaxWidth,p):this.itemMaxWidth=Math.min(this.itemWidth,p):null!==this.itemMaxWidth?Math.min(this.itemMaxWidth,p):this.itemMaxWidth=p,F-=(A=0===A?.75*this.lineHeight:A)+_,g=0;g<w.length;g++)P=F,("line"===(b=w[g]).chartType||"spline"===b.chartType||"stepLine"===b.chartType)&&(P-=.2*this.lineHeight),0>=m||void 0===m||0>=P||void 0===P||("horizontal"===this.orientation?(b.textBlock=new Ze(this.ctx,{x:0,y:0,maxWidth:P,maxHeight:this.itemWrap?m:this.lineHeight,angle:0,text:b.text,horizontalAlign:"left",fontSize:this.fontSize,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontColor:this.fontColor,fontStyle:this.fontStyle,textBaseline:"middle"}),b.textBlock.measureText(),null!==this.itemWidth&&(b.textBlock.width=this.itemWidth-(A+_+("line"===b.chartType||"spline"===b.chartType||"stepLine"===b.chartType?.2*this.lineHeight:0))),(!y||y.width+Math.round(b.textBlock.width+A+_+(0===y.width?0:this.horizontalSpacing)+("line"===b.chartType||"spline"===b.chartType||"stepLine"===b.chartType?.2*this.lineHeight:0))>p)&&(x.push(y={items:[],width:0}),this.height+=d,d=0),d=Math.max(d,b.textBlock.height)):(b.textBlock=new Ze(this.ctx,{x:0,y:0,maxWidth:F,maxHeight:!0===this.itemWrap?m:1.5*this.fontSize,angle:0,text:b.text,horizontalAlign:"left",fontSize:this.fontSize,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontColor:this.fontColor,fontStyle:this.fontStyle,textBaseline:"middle"}),b.textBlock.measureText(),null!==this.itemWidth&&(b.textBlock.width=this.itemWidth-(A+_+("line"===b.chartType||"spline"===b.chartType||"stepLine"===b.chartType?.2*this.lineHeight:0))),this.height<m-this.lineHeight?x.push(y={items:[],width:0}):(y=x[E],E=(E+1)%x.length),this.height+=b.textBlock.height),b.textBlock.x=y.width,b.textBlock.y=0,y.width+=Math.round(b.textBlock.width+A+_+(0===y.width?0:this.horizontalSpacing)+("line"===b.chartType||"spline"===b.chartType||"stepLine"===b.chartType?.2*this.lineHeight:0)),y.items.push(b),this.width=Math.max(y.width,this.width),C=b.textBlock.width+(A+_+("line"===b.chartType||"spline"===b.chartType||"stepLine"===b.chartType?.2*this.lineHeight:0)));this.itemWidth=C,this.height=!1===this.itemWrap?x.length*this.lineHeight:this.height+d,this.height=Math.min(m,this.height),this.width=Math.min(p,this.width)}for("top"===this.verticalAlign?(h="left"===this.horizontalAlign?u.x1:"right"===this.horizontalAlign?u.x2-this.width:u.x1+u.width/2-this.width/2,o=u.y1):"center"===this.verticalAlign?(h="left"===this.horizontalAlign?u.x1:"right"===this.horizontalAlign?u.x2-this.width:u.x1+u.width/2-this.width/2,o=u.y1+u.height/2-this.height/2):"bottom"===this.verticalAlign&&(h="left"===this.horizontalAlign?u.x1:"right"===this.horizontalAlign?u.x2-this.width:u.x1+u.width/2-this.width/2,o=u.y2-this.height),this.items=w,g=0;g<this.items.length;g++)(b=w[g]).id=++this.chart._eventManager.lastObjectId,this.chart._eventManager.objectMap[b.id]={id:b.id,objectType:"legendItem",legendItemIndex:g,dataSeriesIndex:b.dataSeriesIndex,dataPointIndex:b.dataPointIndex};this.markerSize=A,this.rows=x,0<w.length&&r.layoutManager.registerSpace(l,{width:this.width+2+2,height:this.height+5+5}),this.bounds={x1:h,y1:o,x2:h+this.width,y2:o+this.height}},ge.prototype.render=function(){var r=this.bounds.x1,u=this.bounds.y1,l=this.markerMargin,o=this.maxWidth,h=this.maxHeight,p=this.markerSize,m=this.rows;(0<this.borderThickness&&this.borderColor||this.backgroundColor)&&this.ctx.roundRect(r,u,this.width,this.height,this.cornerRadius,this.borderThickness,this.backgroundColor,this.borderColor);for(var _=0,w=0;w<m.length;w++){for(var x=m[w],g=0,y=0;y<x.items.length;y++){var b=x.items[y],d=b.textBlock.x+r+(0===y?.2*p:this.horizontalSpacing),C=u+_,A=d;if(this.chart.data[b.dataSeriesIndex].visible||(this.ctx.globalAlpha=.5),this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(r,u,o,Math.max(h-h%this.lineHeight,0)),this.ctx.clip(),("line"===b.chartType||"stepLine"===b.chartType||"spline"===b.chartType)&&(this.ctx.strokeStyle=b.lineColor,this.ctx.lineWidth=Math.ceil(this.lineHeight/8),this.ctx.beginPath(),this.ctx.moveTo(d-.1*this.lineHeight,C+this.lineHeight/2),this.ctx.lineTo(d+.85*this.lineHeight,C+this.lineHeight/2),this.ctx.stroke(),A-=.1*this.lineHeight),"error"===b.chartType){this.ctx.strokeStyle=this.errorMarkerColor[0],this.ctx.lineWidth=p/8,this.ctx.beginPath();var P=d-.08*this.lineHeight+.1*this.lineHeight,T=C+.15*this.lineHeight,E=.7*this.lineHeight,F=E+.02*this.lineHeight;this.ctx.moveTo(P,T),this.ctx.lineTo(P+E,T),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(P+E/2,T),this.ctx.lineTo(P+E/2,T+F),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(P,T+F),this.ctx.lineTo(P+E,T+F),this.ctx.stroke(),this.errorMarkerColor.shift()}Lt.drawMarker(d+p/2,C+this.lineHeight/2,this.ctx,b.markerType,"error"===b.chartType||"line"===b.chartType||"spline"===b.chartType?b.markerSize/2:b.markerSize,b.markerColor,b.markerBorderColor,b.markerBorderThickness),b.textBlock.x=d+l+p,("line"===b.chartType||"stepLine"===b.chartType||"spline"===b.chartType)&&(b.textBlock.x+=.1*this.lineHeight),b.textBlock.y=Math.round(C+this.lineHeight/2),b.textBlock.render(!0),this.ctx.restore(),g=0<y?Math.max(g,b.textBlock.height):b.textBlock.height,this.chart.data[b.dataSeriesIndex].visible||(this.ctx.globalAlpha=1),d=Ge(b.id),this.ghostCtx.fillStyle=d,this.ghostCtx.beginPath(),this.ghostCtx.fillRect(A,b.textBlock.y-this.lineHeight/2,b.textBlock.x+b.textBlock.width-A,b.textBlock.height),b.x1=this.chart._eventManager.objectMap[b.id].x1=A,b.y1=this.chart._eventManager.objectMap[b.id].y1=b.textBlock.y-this.lineHeight/2,b.x2=this.chart._eventManager.objectMap[b.id].x2=b.textBlock.x+b.textBlock.width,b.y2=this.chart._eventManager.objectMap[b.id].y2=b.textBlock.y+b.textBlock.height-this.lineHeight/2}_+=g}},fi(_e,Ot),_e.prototype.getDefaultAxisPlacement=function(){var r=this.type;return"column"===r||"line"===r||"stepLine"===r||"spline"===r||"area"===r||"stepArea"===r||"splineArea"===r||"stackedColumn"===r||"stackedLine"===r||"bubble"===r||"scatter"===r||"stackedArea"===r||"stackedColumn100"===r||"stackedLine100"===r||"stackedArea100"===r||"candlestick"===r||"ohlc"===r||"rangeColumn"===r||"rangeArea"===r||"rangeSplineArea"===r||"boxAndWhisker"===r||"waterfall"===r?"normal":"bar"===r||"stackedBar"===r||"stackedBar100"===r||"rangeBar"===r?"xySwapped":"pie"===r||"doughnut"===r||"funnel"===r||"pyramid"===r?"none":("error"!==r&&window.console.log("Unknown Chart Type: "+r),null)},_e.getDefaultLegendMarker=function(r){return"column"===r||"stackedColumn"===r||"stackedLine"===r||"bar"===r||"stackedBar"===r||"stackedBar100"===r||"bubble"===r||"scatter"===r||"stackedColumn100"===r||"stackedLine100"===r||"stepArea"===r||"candlestick"===r||"ohlc"===r||"rangeColumn"===r||"rangeBar"===r||"rangeArea"===r||"rangeSplineArea"===r||"boxAndWhisker"===r||"waterfall"===r?"square":"line"===r||"stepLine"===r||"spline"===r||"pie"===r||"doughnut"===r?"circle":"area"===r||"splineArea"===r||"stackedArea"===r||"stackedArea100"===r||"funnel"===r||"pyramid"===r?"triangle":"error"===r?"none":(window.console.log("Unknown Chart Type: "+r),null)},_e.prototype.getDataPointAtX=function(r,u){if(!this.dataPoints||0===this.dataPoints.length)return null;var l={dataPoint:null,distance:1/0,index:NaN},o=null,h=0,p=0,m=1,_=1/0,w=0,x=0,g=0;for("none"!==this.chart.plotInfo.axisPlacement&&(g=this.axisX.logarithmic?1<(g=Math.log(this.dataPoints[this.dataPoints.length-1].x/this.dataPoints[0].x))?Math.min(Math.max((this.dataPoints.length-1)/g*Math.log(r/this.dataPoints[0].x)>>0,0),this.dataPoints.length):0:0<(g=this.dataPoints[this.dataPoints.length-1].x-this.dataPoints[0].x)?Math.min(Math.max((this.dataPoints.length-1)/g*(r-this.dataPoints[0].x)>>0,0),this.dataPoints.length):0);;){if(0<=(p=0<m?g+h:g-h)&&p<this.dataPoints.length){o=this.dataPoints[p];var y=this.axisX.logarithmic?o.x>r?o.x/r:r/o.x:Math.abs(o.x-r);if(y<l.distance&&(l.dataPoint=o,l.distance=y,l.index=p),(o=y)<=_?_=o:0<m?w++:x++,1e3<w&&1e3<x)break}else if(0>g-h&&g+h>=this.dataPoints.length)break;-1===m?(h++,m=1):m=-1}return u||(l.dataPoint.x.getTime?l.dataPoint.x.getTime():l.dataPoint.x)!==(r.getTime?r.getTime():r)?u&&null!==l.dataPoint?l:null:l},_e.prototype.getDataPointAtXY=function(r,u,l){if(!this.dataPoints||0===this.dataPoints.length||r<this.chart.plotArea.x1||r>this.chart.plotArea.x2||u<this.chart.plotArea.y1||u>this.chart.plotArea.y2)return null;l=l||!1;var o=[],h=0,p=0,m=1,_=!1,w=1/0,x=0,g=0,b=0;for("none"!==this.chart.plotInfo.axisPlacement&&(b=(this.chart.axisX[0]?this.chart.axisX[0]:this.chart.axisX2[0]).getXValueAt({x:r,y:u}),b=this.axisX.logarithmic?1<(y=Math.log(this.dataPoints[this.dataPoints.length-1].x/this.dataPoints[0].x))?Math.min(Math.max((this.dataPoints.length-1)/y*Math.log(b/this.dataPoints[0].x)>>0,0),this.dataPoints.length):0:0<(y=this.dataPoints[this.dataPoints.length-1].x-this.dataPoints[0].x)?Math.min(Math.max((this.dataPoints.length-1)/y*(b-this.dataPoints[0].x)>>0,0),this.dataPoints.length):0);;){if(0<=(p=0<m?b+h:b-h)&&p<this.dataPoints.length){var y,d=this.dataPoints[p],C=null;if(y=this.chart._eventManager.objectMap[this.dataPointIds[p]]){switch(this.type){case"column":case"stackedColumn":case"stackedColumn100":case"bar":case"stackedBar":case"stackedBar100":case"rangeColumn":case"rangeBar":case"waterfall":case"error":r>=y.x1&&r<=y.x2&&u>=y.y1&&u<=y.y2&&(o.push({dataPoint:d,dataPointIndex:p,dataSeries:this,distance:Math.min(Math.abs(y.x1-r),Math.abs(y.x2-r),Math.abs(y.y1-u),Math.abs(y.y2-u))}),_=!0);break;case"line":case"stepLine":case"spline":case"area":case"stepArea":case"stackedArea":case"stackedArea100":case"splineArea":case"scatter":var A=Ct("markerSize",d,this)||4,P=l?20:A;(C=Math.sqrt(Math.pow(y.x1-r,2)+Math.pow(y.y1-u,2)))<=P&&o.push({dataPoint:d,dataPointIndex:p,dataSeries:this,distance:C}),(y=Math.abs(y.x1-r))<=w?w=y:0<m?x++:g++,C<=A/2&&(_=!0);break;case"rangeArea":case"rangeSplineArea":A=Ct("markerSize",d,this)||4,P=l?20:A,(C=Math.min(Math.sqrt(Math.pow(y.x1-r,2)+Math.pow(y.y1-u,2)),Math.sqrt(Math.pow(y.x1-r,2)+Math.pow(y.y2-u,2))))<=P&&o.push({dataPoint:d,dataPointIndex:p,dataSeries:this,distance:C}),(y=Math.abs(y.x1-r))<=w?w=y:0<m?x++:g++,C<=A/2&&(_=!0);break;case"bubble":A=y.size,(C=Math.sqrt(Math.pow(y.x1-r,2)+Math.pow(y.y1-u,2)))<=A/2&&(o.push({dataPoint:d,dataPointIndex:p,dataSeries:this,distance:C}),_=!0);break;case"pie":case"doughnut":A=y.center,P="doughnut"===this.type?y.percentInnerRadius*y.radius:0,(C=Math.sqrt(Math.pow(A.x-r,2)+Math.pow(A.y-u,2)))<y.radius&&C>P&&(0>(C=Math.atan2(u-A.y,r-A.x))&&(C+=2*Math.PI),C=Number(((C/Math.PI*180%360+360)%360).toFixed(12)),A=Number(((y.startAngle/Math.PI*180%360+360)%360).toFixed(12)),0===(P=Number(((y.endAngle/Math.PI*180%360+360)%360).toFixed(12)))&&1<y.endAngle&&(P=360),A>=P&&0!==d.y&&(P+=360,C<A&&(C+=360)),C>A&&C<P&&(o.push({dataPoint:d,dataPointIndex:p,dataSeries:this,distance:0}),_=!0));break;case"funnel":case"pyramid":u>(C=y.funnelSection).y1&&u<C.y4&&(C.y6?u>C.y6?(p=C.x6+(C.x5-C.x6)/(C.y5-C.y6)*(u-C.y6),C=C.x3+(C.x4-C.x3)/(C.y4-C.y3)*(u-C.y3)):(p=C.x1+(C.x6-C.x1)/(C.y6-C.y1)*(u-C.y1),C=C.x2+(C.x3-C.x2)/(C.y3-C.y2)*(u-C.y2)):(p=C.x1+(C.x4-C.x1)/(C.y4-C.y1)*(u-C.y1),C=C.x2+(C.x3-C.x2)/(C.y3-C.y2)*(u-C.y2)),r>p&&r<C&&(o.push({dataPoint:d,dataPointIndex:y.dataPointIndex,dataSeries:this,distance:0}),_=!0));break;case"boxAndWhisker":(r>=y.x1-y.borderThickness/2&&r<=y.x2+y.borderThickness/2&&u>=y.y4-y.borderThickness/2&&u<=y.y1+y.borderThickness/2||Math.abs(y.x2-r+y.x1-r)<y.borderThickness&&u>=y.y1&&u<=y.y4)&&(o.push({dataPoint:d,dataPointIndex:p,dataSeries:this,distance:Math.min(Math.abs(y.x1-r),Math.abs(y.x2-r),Math.abs(y.y2-u),Math.abs(y.y3-u))}),_=!0);break;case"candlestick":(r>=y.x1-y.borderThickness/2&&r<=y.x2+y.borderThickness/2&&u>=y.y2-y.borderThickness/2&&u<=y.y3+y.borderThickness/2||Math.abs(y.x2-r+y.x1-r)<y.borderThickness&&u>=y.y1&&u<=y.y4)&&(o.push({dataPoint:d,dataPointIndex:p,dataSeries:this,distance:Math.min(Math.abs(y.x1-r),Math.abs(y.x2-r),Math.abs(y.y2-u),Math.abs(y.y3-u))}),_=!0);break;case"ohlc":(Math.abs(y.x2-r+y.x1-r)<y.borderThickness&&u>=y.y2&&u<=y.y3||r>=y.x1&&r<=(y.x2+y.x1)/2&&u>=y.y1-y.borderThickness/2&&u<=y.y1+y.borderThickness/2||r>=(y.x1+y.x2)/2&&r<=y.x2&&u>=y.y4-y.borderThickness/2&&u<=y.y4+y.borderThickness/2)&&(o.push({dataPoint:d,dataPointIndex:p,dataSeries:this,distance:Math.min(Math.abs(y.x1-r),Math.abs(y.x2-r),Math.abs(y.y2-u),Math.abs(y.y3-u))}),_=!0)}if(_||1e3<x&&1e3<g)break}}else if(0>b-h&&b+h>=this.dataPoints.length)break;-1===m?(h++,m=1):m=-1}for(r=null,u=0;u<o.length;u++)r?o[u].distance<=r.distance&&(r=o[u]):r=o[u];return r},_e.prototype.getMarkerProperties=function(r,u,l,o){var h=this.dataPoints;return{x:u,y:l,ctx:o,type:h[r].markerType?h[r].markerType:this.markerType,size:h[r].markerSize?h[r].markerSize:this.markerSize,color:h[r].markerColor?h[r].markerColor:this.markerColor?this.markerColor:h[r].color?h[r].color:this.color?this.color:this._colorSet[r%this._colorSet.length],borderColor:h[r].markerBorderColor?h[r].markerBorderColor:this.markerBorderColor?this.markerBorderColor:null,borderThickness:h[r].markerBorderThickness?h[r].markerBorderThickness:this.markerBorderThickness?this.markerBorderThickness:null}},fi(se,Ot),se.prototype.createExtraLabelsForLog=function(r){if(!(5<(r=(r||0)+1))){var u=this.logLabelValues[0]||this.intervalStartPosition;if(Math.log(this.range)/Math.log(u/this.viewportMinimum)<this.noTicks-1){for(var l=se.getNiceNumber((u-this.viewportMinimum)/Math.min(Math.max(2,this.noTicks-this.logLabelValues.length),3),!0),o=Math.ceil(this.viewportMinimum/l)*l;o<u;o+=l)o<this.viewportMinimum||this.logLabelValues.push(o);this.logLabelValues.sort(is),this.createExtraLabelsForLog(r)}}},se.prototype.createLabels=function(){var r,u,o,w,g,l=0,m=0,h=0,p=0,_=(m=0,m=this.interval,0),x=.6*this.chart.height;r=!1;var y=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[],b=y.length?j(this.scaleBreaks.firstBreakIndex)?0:this.scaleBreaks.firstBreakIndex:0;if("axisX"!==this.type||"dateTime"!==this.valueType||this.logarithmic){if(o=this.viewportMaximum,this.labels){r=Math.ceil(m);var d=!1;for(l=m=Math.ceil(this.intervalStartPosition);l<this.viewportMaximum;l+=r){if(!this.labels[l]){d=!1;break}d=!0}d&&(this.interval=r,this.intervalStartPosition=m)}if(this.logarithmic&&!this.equidistantInterval)for(this.logLabelValues||(this.logLabelValues=[],this.createExtraLabelsForLog()),m=0,d=b;m<this.logLabelValues.length;m++)if((l=this.logLabelValues[m])<this.viewportMinimum)m++;else{for(;d<y.length&&l>y[d].endValue;d++);g=l,(r=d<y.length&&l>=y[d].startValue&&l<=y[d].endValue)||(r=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.options,value:g,label:this.labels[g]?this.labels[g]:null}):"axisX"===this.type&&this.labels[g]?this.labels[g]:ei(g,this.valueFormatString,this.chart._cultureInfo),r=new Ze(this.ctx,{x:0,y:0,maxWidth:h,maxHeight:p,angle:this.labelAngle,text:this.prefix+r+this.suffix,backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,cornerRadius:this.labelCornerRadius,textAlign:this.labelTextAlign,fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle",borderThickness:0}),this._labels.push({position:g,textBlock:r,effectiveHeight:null}))}for(d=b,l=this.intervalStartPosition;l<=o;l=parseFloat(1e-12>this.interval?this.logarithmic&&this.equidistantInterval?l*Math.pow(this.logarithmBase,this.interval):l+this.interval:(this.logarithmic&&this.equidistantInterval?l*Math.pow(this.logarithmBase,this.interval):l+this.interval).toFixed(12))){for(;d<y.length&&l>y[d].endValue;d++);g=l,(r=d<y.length&&l>=y[d].startValue&&l<=y[d].endValue)||(r=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.options,value:g,label:this.labels[g]?this.labels[g]:null}):"axisX"===this.type&&this.labels[g]?this.labels[g]:ei(g,this.valueFormatString,this.chart._cultureInfo),r=new Ze(this.ctx,{x:0,y:0,maxWidth:h,maxHeight:p,angle:this.labelAngle,text:this.prefix+r+this.suffix,textAlign:this.labelTextAlign,backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,borderThickness:this.labelBorderThickness,cornerRadius:this.labelCornerRadius,fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle"}),this._labels.push({position:g,textBlock:r,effectiveHeight:null}))}}else for(this.intervalStartPosition=this.getLabelStartPoint(new Date(this.viewportMinimum),this.intervalType,this.interval),o=_s(new Date(this.viewportMaximum),this.interval,this.intervalType),d=b,l=this.intervalStartPosition;l<o;_s(l,m,this.intervalType)){for(r=l.getTime();d<y.length&&r>y[d].endValue;d++);g=r,(r=d<y.length&&r>=y[d].startValue&&r<=y[d].endValue)||(r=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.options,value:new Date(g),label:this.labels[g]?this.labels[g]:null}):"axisX"===this.type&&this.labels[g]?this.labels[g]:Ki(g,this.valueFormatString,this.chart._cultureInfo),r=new Ze(this.ctx,{x:0,y:0,maxWidth:h,backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,borderThickness:this.labelBorderThickness,cornerRadius:this.labelCornerRadius,maxHeight:p,angle:this.labelAngle,text:this.prefix+r+this.suffix,textAlign:this.labelTextAlign,fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle"}),this._labels.push({position:g,textBlock:r,effectiveHeight:null,breaksLabelType:void 0}))}for("bottom"===this._position||"top"===this._position?(_=this.logarithmic&&!this.equidistantInterval&&2<=this._labels.length?this.lineCoordinates.width*Math.log(Math.min(this._labels[this._labels.length-1].position/this._labels[this._labels.length-2].position,this._labels[1].position/this._labels[0].position))/Math.log(this.range):this.lineCoordinates.width/(this.logarithmic&&this.equidistantInterval?Math.log(this.range)/Math.log(this.logarithmBase):Math.abs(this.range))*Je[this.intervalType+"Duration"]*this.interval,h=void 0===this.options.labelMaxWidth?.5*this.chart.width>>0:this.options.labelMaxWidth,this.chart.panEnabled||(p=void 0===this.options.labelWrap||this.labelWrap?.8*this.chart.height>>0:1.5*this.labelFontSize)):("left"===this._position||"right"===this._position)&&(_=this.logarithmic&&!this.equidistantInterval&&2<=this._labels.length?this.lineCoordinates.height*Math.log(Math.min(this._labels[this._labels.length-1].position/this._labels[this._labels.length-2].position,this._labels[1].position/this._labels[0].position))/Math.log(this.range):this.lineCoordinates.height/(this.logarithmic&&this.equidistantInterval?Math.log(this.range)/Math.log(this.logarithmBase):Math.abs(this.range))*Je[this.intervalType+"Duration"]*this.interval,this.chart.panEnabled||(h=void 0===this.options.labelMaxWidth?.3*this.chart.width>>0:this.options.labelMaxWidth),p=void 0===this.options.labelWrap||this.labelWrap?.3*this.chart.height>>0:1.5*this.labelFontSize),m=0;m<this._labels.length;m++){(r=this._labels[m].textBlock).maxWidth=h,r.maxHeight=p;var C=r.measureText();w=C.height}if(o=[],b=y=0,this.labelAutoFit||this.options.labelAutoFit)if(j(this.labelAngle)||(this.labelAngle=(this.labelAngle%360+360)%360,90<this.labelAngle&&270>this.labelAngle?this.labelAngle-=180:270<=this.labelAngle&&360>=this.labelAngle&&(this.labelAngle-=360)),"bottom"===this._position||"top"===this._position)if(h=.9*_>>0,b=0,!this.chart.panEnabled&&1<=this._labels.length){for(this.sessionVariables.labelFontSize=this.labelFontSize,this.sessionVariables.labelMaxWidth=h,this.sessionVariables.labelMaxHeight=p,this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelWrap=this.labelWrap,l=0;l<this._labels.length;l++)if(!this._labels[l].breaksLabelType){var A;for(d=(r=this._labels[l].textBlock).text.split(" "),m=0;m<d.length;m++)g=d[m],this.ctx.font=r.fontStyle+" "+r.fontWeight+" "+r.fontSize+"px "+r.fontFamily,(g=this.ctx.measureText(g)).width>b&&(A=l,b=g.width)}for(l=0,l=this.intervalStartPosition<this.viewportMinimum?1:0;l<this._labels.length;l++)if(!this._labels[l].breaksLabelType){for(C=(r=this._labels[l].textBlock).measureText(),d=l+1;d<this._labels.length;d++)if(!this._labels[d].breaksLabelType){u=(u=this._labels[d].textBlock).measureText();break}if(o.push(r.height),this.sessionVariables.labelMaxHeight=Math.max.apply(Math,o),Math.cos(Math.PI/180*Math.abs(this.labelAngle)),Math.sin(Math.PI/180*Math.abs(this.labelAngle)),m=h*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(p-r.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)),j(this.options.labelAngle)&&isNaN(this.options.labelAngle)&&0!==this.options.labelAngle)if(this.sessionVariables.labelMaxHeight=0===this.labelAngle?p:Math.min((m-h*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))/Math.sin(Math.PI/180*Math.abs(this.labelAngle)),m),g=(x-(w+r.fontSize/2)*Math.cos(Math.PI/180*Math.abs(-25)))/Math.sin(Math.PI/180*Math.abs(-25)),j(this.options.labelWrap)){if(j(this.options.labelWrap))if(j(this.options.labelMaxWidth)){if(!j(u))if(m=C.width+u.width>>0,d=this.labelFontSize,b<h)m-2*h>y&&(y=m-2*h,m>=2*h&&m<2.2*h?(this.sessionVariables.labelMaxWidth=h,j(this.options.labelFontSize)&&12<d&&(d=Math.floor(12/13*d),r.measureText()),this.sessionVariables.labelFontSize=j(this.options.labelFontSize)?d:this.options.labelFontSize,this.sessionVariables.labelAngle=this.labelAngle):m>=2.2*h&&m<2.8*h?(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=g,this.sessionVariables.labelFontSize=d):m>=2.8*h&&m<3.2*h?(this.sessionVariables.labelMaxWidth=Math.max(h,b),this.sessionVariables.labelWrap=!0,j(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),r.measureText()),this.sessionVariables.labelFontSize=j(this.options.labelFontSize)?d:this.options.labelFontSize,this.sessionVariables.labelAngle=this.labelAngle):m>=3.2*h&&m<3.6*h?(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelMaxWidth=g,this.sessionVariables.labelFontSize=this.labelFontSize):m>3.6*h&&m<5*h?(j(this.options.labelFontSize)&&12<d&&(d=Math.floor(12/13*d),r.measureText()),this.sessionVariables.labelFontSize=j(this.options.labelFontSize)?d:this.options.labelFontSize,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=g):m>5*h&&(this.sessionVariables.labelWrap=!0,this.sessionVariables.labelMaxWidth=h,this.sessionVariables.labelFontSize=d,this.sessionVariables.labelMaxHeight=p,this.sessionVariables.labelAngle=this.labelAngle));else if(A===l&&(0===A&&b+this._labels[A+1].textBlock.measureText().width-2*h>y||A===this._labels.length-1&&b+this._labels[A-1].textBlock.measureText().width-2*h>y||0<A&&A<this._labels.length-1&&b+this._labels[A+1].textBlock.measureText().width-2*h>y&&b+this._labels[A-1].textBlock.measureText().width-2*h>y))y=0===A?b+this._labels[A+1].textBlock.measureText().width-2*h:b+this._labels[A-1].textBlock.measureText().width-2*h,this.sessionVariables.labelFontSize=j(this.options.labelFontSize)?d:this.options.labelFontSize,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=g;else if(0===y)for(this.sessionVariables.labelFontSize=j(this.options.labelFontSize)?d:this.options.labelFontSize,this.sessionVariables.labelWrap=!0,m=0;m<this._labels.length;m++)(r=this._labels[m].textBlock).maxWidth=this.sessionVariables.labelMaxWidth=Math.min(Math.max(h,b),g),C=r.measureText(),m<this._labels.length-1&&((u=this._labels[d=m+1].textBlock).maxWidth=this.sessionVariables.labelMaxWidth=Math.min(Math.max(h,b),g),u=u.measureText(),C.width+u.width>>0>2*h&&(this.sessionVariables.labelAngle=-25))}else this.options.labelMaxWidth<h?(this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelMaxHeight=m):(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelMaxHeight=p)}else this.labelWrap?j(this.options.labelMaxWidth)?(this.sessionVariables.labelMaxWidth=Math.min(Math.max(h,b),g),this.sessionVariables.labelWrap=this.labelWrap,u&&C.width+u.width>>0>2*h&&(this.sessionVariables.labelAngle=-25)):(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelAngle=this.sessionVariables.labelMaxWidth>h?-25:this.sessionVariables.labelAngle):j(this.options.labelMaxWidth)?(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxHeight=p,this.sessionVariables.labelMaxWidth=h,u&&C.width+u.width>>0>2*h&&(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=g)):(this.sessionVariables.labelAngle=this.sessionVariables.labelMaxWidth>h?-25:this.sessionVariables.labelAngle,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelMaxHeight=p,this.sessionVariables.labelWrap=this.labelWrap);else this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelMaxHeight=0===this.labelAngle?p:Math.min((m-h*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))/Math.sin(Math.PI/180*Math.abs(this.labelAngle)),m),g=0!=this.labelAngle?(x-(w+r.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))/Math.sin(Math.PI/180*Math.abs(this.labelAngle)):h,this.sessionVariables.labelMaxHeight=this.labelWrap?(x-g*Math.sin(Math.PI/180*Math.abs(this.labelAngle)))/Math.cos(Math.PI/180*Math.abs(this.labelAngle)):1.5*this.labelFontSize,j(this.options.labelWrap)?j(this.options.labelWrap)&&(this.labelWrap&&!j(this.options.labelMaxWidth)?(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:g,this.sessionVariables.labelMaxHeight=p):(this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelMaxWidth=g,this.sessionVariables.labelMaxHeight=m<.9*_?.9*_:m,this.sessionVariables.labelWrap=this.labelWrap)):(this.options.labelWrap?(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:g):(j(this.options.labelMaxWidth),this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:g,this.sessionVariables.labelWrap=this.labelWrap),this.sessionVariables.labelMaxHeight=p)}for(m=0;m<this._labels.length;m++)(r=this._labels[m].textBlock).maxWidth=this.labelMaxWidth=this.sessionVariables.labelMaxWidth,r.fontSize=this.sessionVariables.labelFontSize,r.angle=this.labelAngle=this.sessionVariables.labelAngle,r.wrap=this.labelWrap=this.sessionVariables.labelWrap,r.maxHeight=this.sessionVariables.labelMaxHeight,r.measureText()}else for(l=0;l<this._labels.length;l++)(r=this._labels[l].textBlock).maxWidth=this.labelMaxWidth=j(this.options.labelMaxWidth)?j(this.sessionVariables.labelMaxWidth)?this.sessionVariables.labelMaxWidth=h:this.sessionVariables.labelMaxWidth:this.options.labelMaxWidth,r.fontSize=this.labelFontSize=j(this.options.labelFontSize)?j(this.sessionVariables.labelFontSize)?this.sessionVariables.labelFontSize=this.labelFontSize:this.sessionVariables.labelFontSize:this.options.labelFontSize,r.angle=this.labelAngle=j(this.options.labelAngle)?j(this.sessionVariables.labelAngle)?this.sessionVariables.labelAngle=this.labelAngle:this.sessionVariables.labelAngle:this.labelAngle,r.wrap=this.labelWrap=j(this.options.labelWrap)?j(this.sessionVariables.labelWrap)?this.sessionVariables.labelWrap=this.labelWrap:this.sessionVariables.labelWrap:this.options.labelWrap,r.maxHeight=j(this.sessionVariables.labelMaxHeight)?this.sessionVariables.labelMaxHeight=p:this.sessionVariables.labelMaxHeight,r.measureText();else if("left"===this._position||"right"===this._position)if(h=j(this.options.labelMaxWidth)?.3*this.chart.width>>0:this.options.labelMaxWidth,p=void 0===this.options.labelWrap||this.labelWrap?.3*this.chart.height>>0:1.5*this.labelFontSize,!this.chart.panEnabled&&1<=this._labels.length){for(this.sessionVariables.labelFontSize=this.labelFontSize,this.sessionVariables.labelMaxWidth=h,this.sessionVariables.labelMaxHeight=p,this.sessionVariables.labelAngle=j(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle,this.sessionVariables.labelWrap=this.labelWrap,l=0;l<this._labels.length;l++)if(!this._labels[l].breaksLabelType){for(C=(r=this._labels[l].textBlock).measureText(),d=l+1;d<this._labels.length;d++)if(!this._labels[d].breaksLabelType){u=(u=this._labels[d].textBlock).measureText();break}o.push(r.height),this.sessionVariables.labelMaxHeight=Math.max.apply(Math,o),m=h*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(p-r.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)),Math.cos(Math.PI/180*Math.abs(this.labelAngle)),Math.sin(Math.PI/180*Math.abs(this.labelAngle)),j(this.options.labelAngle)&&isNaN(this.options.labelAngle)&&0!==this.options.labelAngle?j(this.options.labelWrap)?j(this.options.labelWrap)&&(j(this.options.labelMaxWidth)?j(u)||(_=C.height+u.height>>0)-2*p>b&&(b=_-2*p,_>=2*p&&_<2.4*p?(j(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),r.measureText()),this.sessionVariables.labelMaxHeight=p,this.sessionVariables.labelFontSize=j(this.options.labelFontSize)?this.labelFontSize:this.options.labelFontSize):_>=2.4*p&&_<2.8*p?(this.sessionVariables.labelMaxHeight=m,this.sessionVariables.labelFontSize=this.labelFontSize,this.sessionVariables.labelWrap=!0):_>=2.8*p&&_<3.2*p?(this.sessionVariables.labelMaxHeight=p,this.sessionVariables.labelWrap=!0,j(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),r.measureText()),this.sessionVariables.labelFontSize=j(this.options.labelFontSize)?this.labelFontSize:this.options.labelFontSize,this.sessionVariables.labelAngle=j(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle):_>=3.2*p&&_<3.6*p?(this.sessionVariables.labelMaxHeight=m,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelFontSize=this.labelFontSize):_>3.6*p&&_<10*p?(j(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),r.measureText()),this.sessionVariables.labelFontSize=j(this.options.labelFontSize)?this.labelFontSize:this.options.labelFontSize,this.sessionVariables.labelMaxWidth=h,this.sessionVariables.labelMaxHeight=p,this.sessionVariables.labelAngle=j(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle):_>10*p&&_<50*p&&(j(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),r.measureText()),this.sessionVariables.labelFontSize=j(this.options.labelFontSize)?this.labelFontSize:this.options.labelFontSize,this.sessionVariables.labelMaxHeight=p,this.sessionVariables.labelMaxWidth=h,this.sessionVariables.labelAngle=j(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle)):(this.sessionVariables.labelMaxHeight=p,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth)):(this.sessionVariables.labelMaxWidth=this.labelWrap||this.labelMaxWidth?this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth:h,this.sessionVariables.labelMaxHeight=p):(this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelMaxWidth=0===this.labelAngle?h:Math.min((m-p*Math.sin(Math.PI/180*Math.abs(this.labelAngle)))/Math.cos(Math.PI/180*Math.abs(this.labelAngle)),p),j(this.options.labelWrap)?j(this.options.labelWrap)&&(this.labelWrap&&!j(this.options.labelMaxWidth)?(this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth,this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxHeight=m):(this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:h,this.sessionVariables.labelMaxHeight=0===this.labelAngle?p:m,j(this.options.labelMaxWidth)&&(this.sessionVariables.labelAngle=this.labelAngle))):this.options.labelWrap?(this.sessionVariables.labelMaxHeight=0===this.labelAngle?p:m,this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=h):(this.sessionVariables.labelMaxHeight=p,j(this.options.labelMaxWidth),this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth,this.sessionVariables.labelWrap=this.labelWrap))}for(m=0;m<this._labels.length;m++)(r=this._labels[m].textBlock).maxWidth=this.labelMaxWidth=this.sessionVariables.labelMaxWidth,r.fontSize=this.labelFontSize=this.sessionVariables.labelFontSize,r.angle=this.labelAngle=this.sessionVariables.labelAngle,r.wrap=this.labelWrap=this.sessionVariables.labelWrap,r.maxHeight=this.sessionVariables.labelMaxHeight,r.measureText()}else for(l=0;l<this._labels.length;l++)(r=this._labels[l].textBlock).maxWidth=this.labelMaxWidth=j(this.options.labelMaxWidth)?j(this.sessionVariables.labelMaxWidth)?this.sessionVariables.labelMaxWidth=h:this.sessionVariables.labelMaxWidth:this.options.labelMaxWidth,r.fontSize=this.labelFontSize=j(this.options.labelFontSize)?j(this.sessionVariables.labelFontSize)?this.sessionVariables.labelFontSize=this.labelFontSize:this.sessionVariables.labelFontSize:this.options.labelFontSize,r.angle=this.labelAngle=j(this.options.labelAngle)?j(this.sessionVariables.labelAngle)?this.sessionVariables.labelAngle=this.labelAngle:this.sessionVariables.labelAngle:this.labelAngle,r.wrap=this.labelWrap=j(this.options.labelWrap)?j(this.sessionVariables.labelWrap)?this.sessionVariables.labelWrap=this.labelWrap:this.sessionVariables.labelWrap:this.options.labelWrap,r.maxHeight=j(this.sessionVariables.labelMaxHeight)?this.sessionVariables.labelMaxHeight=p:this.sessionVariables.labelMaxHeight,r.measureText();for(l=0;l<this.stripLines.length;l++){var P;"outside"===(h=this.stripLines[l]).labelPlacement?(p=this.sessionVariables.labelMaxWidth,("bottom"===this._position||"top"===this._position)&&(j(h.options.labelWrap)&&!j(this.sessionVariables.stripLineLabelMaxHeight)?P=this.sessionVariables.stripLineLabelMaxHeight:this.sessionVariables.stripLineLabelMaxHeight=P=h.labelWrap?.8*this.chart.height>>0:1.5*this.labelFontSize),("left"===this._position||"right"===this._position)&&(j(h.options.labelWrap)&&!j(this.sessionVariables.stripLineLabelMaxHeight)?P=this.sessionVariables.stripLineLabelMaxHeight:this.sessionVariables.stripLineLabelMaxHeight=P=h.labelWrap?.8*this.chart.width>>0:1.5*this.labelFontSize),j(h.labelBackgroundColor)&&(h.labelBackgroundColor="#EEEEEE")):(p="bottom"===this._position||"top"===this._position?.9*this.chart.width>>0:.9*this.chart.height>>0,P=j(h.options.labelWrap)||h.labelWrap?"bottom"===this._position||"top"===this._position?.8*this.chart.width>>0:.8*this.chart.height>>0:1.5*this.labelFontSize,j(h.labelBackgroundColor)&&(h.labelBackgroundColor=j(h.startValue)&&0!==h.startValue?Y?"transparent":null:"#EEEEEE")),r=new Ze(this.ctx,{x:0,y:0,backgroundColor:h.labelBackgroundColor,borderColor:h.labelBorderColor,borderThickness:h.labelBorderThickness,cornerRadius:h.labelCornerRadius,maxWidth:h.options.labelMaxWidth?h.options.labelMaxWidth:p,maxHeight:P,angle:this.labelAngle,text:h.labelFormatter?h.labelFormatter({chart:this.chart,axis:this,stripLine:h}):h.label,textAlign:this.labelTextAlign,fontSize:"outside"===h.labelPlacement?h.options.labelFontSize?h.labelFontSize:this.labelFontSize:h.labelFontSize,fontFamily:"outside"===h.labelPlacement?h.options.labelFontFamily?h.labelFontFamily:this.labelFontFamily:h.labelFontFamily,fontWeight:"outside"===h.labelPlacement?h.options.labelFontWeight?h.labelFontWeight:this.labelFontWeight:h.labelFontWeight,fontColor:h.labelFontColor||h.color,fontStyle:"outside"===h.labelPlacement?h.options.labelFontStyle?h.labelFontStyle:this.fontWeight:h.labelFontStyle,textBaseline:"middle"}),this._stripLineLabels.push({position:h.value,textBlock:r,effectiveHeight:null,stripLine:h})}},se.prototype.createLabelsAndCalculateWidth=function(){var r=0,u=0;this._labels=[],this._stripLineLabels=[];var l=this.chart.isNavigator?0:5;if("left"===this._position||"right"===this._position){if(this.createLabels(),"inside"!=this.labelPlacement||"inside"===this.labelPlacement&&0<this._index)for(u=0;u<this._labels.length;u++){var o=this._labels[u].textBlock,h=o.measureText(),p=0;r<(p=0===this.labelAngle?h.width:h.width*Math.cos(Math.PI/180*Math.abs(this.labelAngle))+(h.height-o.fontSize/2)*Math.sin(Math.PI/180*Math.abs(this.labelAngle)))&&(r=p),this._labels[u].effectiveWidth=p}for(u=0;u<this._stripLineLabels.length;u++)"outside"===this._stripLineLabels[u].stripLine.labelPlacement&&this._stripLineLabels[u].stripLine.value>=this.viewportMinimum&&this._stripLineLabels[u].stripLine.value<=this.viewportMaximum&&(h=(o=this._stripLineLabels[u].textBlock).measureText(),r<(p=0===this.labelAngle?h.width:h.width*Math.cos(Math.PI/180*Math.abs(this.labelAngle))+(h.height-o.fontSize/2)*Math.sin(Math.PI/180*Math.abs(this.labelAngle)))&&(r=p),this._stripLineLabels[u].effectiveWidth=p)}return(this.title?this._titleTextBlock.measureText().height+2:0)+r+("inside"===this.tickPlacement?0:this.tickLength)+l},se.prototype.createLabelsAndCalculateHeight=function(){var r=0;this._labels=[],this._stripLineLabels=[];var u,l=0,o=this.chart.isNavigator?0:5;if("bottom"===this._position||"top"===this._position){if(this.createLabels(),"inside"!=this.labelPlacement||"inside"===this.labelPlacement&&0<this._index)for(l=0;l<this._labels.length;l++){var h=(u=this._labels[l].textBlock).measureText(),p=0;r<(p=0===this.labelAngle?h.height:h.width*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(h.height-u.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))&&(r=p),this._labels[l].effectiveHeight=p}for(l=0;l<this._stripLineLabels.length;l++)"outside"===this._stripLineLabels[l].stripLine.labelPlacement&&this._stripLineLabels[l].stripLine.value>=this.viewportMinimum&&this._stripLineLabels[l].stripLine.value<=this.viewportMaximum&&(h=(u=this._stripLineLabels[l].textBlock).measureText(),r<(p=0===this.labelAngle?h.height:h.width*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(h.height-u.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))&&(r=p),this._stripLineLabels[l].effectiveHeight=p)}return(this.title?this._titleTextBlock.measureText().height+2:0)+r+("inside"===this.tickPlacement?0:this.tickLength)+o},se.setLayout=function(r,u,l,o,h,p){var m,_,w,x,g=r[0]?r[0].chart:u[0].chart,y=g.isNavigator?0:10,b=g._axes;if(r&&0<r.length)for(var d=0;d<r.length;d++)r[d]&&r[d].calculateAxisParameters();if(u&&0<u.length)for(d=0;d<u.length;d++)u[d].calculateAxisParameters();if(l&&0<l.length)for(d=0;d<l.length;d++)l[d].calculateAxisParameters();if(o&&0<o.length)for(d=0;d<o.length;d++)o[d].calculateAxisParameters();for(d=0;d<b.length;d++)if(b[d]&&b[d].scaleBreaks&&b[d].scaleBreaks._appliedBreaks.length)for(var C=b[d].scaleBreaks._appliedBreaks,A=0;A<C.length&&!(C[A].startValue>b[d].viewportMaximum);A++)C[A].endValue<b[d].viewportMinimum||(j(b[d].scaleBreaks.firstBreakIndex)&&(b[d].scaleBreaks.firstBreakIndex=A),C[A].startValue>=b[d].viewPortMinimum&&(b[d].scaleBreaks.lastBreakIndex=A));var V,ee,G,K,J,P=A=0,T=0,E=0,F=0,H=0,z=0,ae=_=0;for(C=G=K=J=!1,d=0;d<b.length;d++)b[d]&&b[d].title&&(b[d]._titleTextBlock=new Ze(b[d].ctx,{text:b[d].title,horizontalAlign:"center",fontSize:b[d].titleFontSize,fontFamily:b[d].titleFontFamily,fontWeight:b[d].titleFontWeight,fontColor:b[d].titleFontColor,fontStyle:b[d].titleFontStyle,borderColor:b[d].titleBorderColor,borderThickness:b[d].titleBorderThickness,backgroundColor:b[d].titleBackgroundColor,cornerRadius:b[d].titleCornerRadius,textBaseline:"top"}));for(d=0;d<b.length;d++)if(b[d].title)switch(b[d]._position){case"left":b[d]._titleTextBlock.maxWidth=b[d].titleMaxWidth||p.height,b[d]._titleTextBlock.maxHeight=b[d].titleWrap?.8*p.width:1.5*b[d].titleFontSize,b[d]._titleTextBlock.angle=-90;break;case"right":b[d]._titleTextBlock.maxWidth=b[d].titleMaxWidth||p.height,b[d]._titleTextBlock.maxHeight=b[d].titleWrap?.8*p.width:1.5*b[d].titleFontSize,b[d]._titleTextBlock.angle=90;break;default:b[d]._titleTextBlock.maxWidth=b[d].titleMaxWidth||p.width,b[d]._titleTextBlock.maxHeight=b[d].titleWrap?.8*p.height:1.5*b[d].titleFontSize,b[d]._titleTextBlock.angle=0}if("normal"===h){E=[],F=[],H=[],z=[];for(var U=[],O=[],ne=[],he=[];4>A;){var W=0,ze=0,we=0,$e=0,mt=h=0,De=0,zt=0,it=0,je=0,Ae=0,Bt=0;if(l&&0<l.length)for(H=[],d=Ae=0;d<l.length;d++)H.push(Math.ceil(l[d]?l[d].createLabelsAndCalculateWidth():0)),Ae+=H[d],De+=l[d]&&!g.isNavigator?l[d].margin:0;else H.push(Math.ceil(l[0]?l[0].createLabelsAndCalculateWidth():0));if(ne.push(H),o&&0<o.length)for(z=[],d=Bt=0;d<o.length;d++)z.push(Math.ceil(o[d]?o[d].createLabelsAndCalculateWidth():0)),Bt+=z[d],zt+=o[d]?o[d].margin:0;else z.push(Math.ceil(o[0]?o[0].createLabelsAndCalculateWidth():0));if(he.push(z),m=Math.round(p.x1+Ae+De),w=Math.round(p.x2-Bt-zt>g.width-y?g.width-y:p.x2-Bt-zt),r&&0<r.length)for(E=[],d=it=0;d<r.length;d++)r[d]&&(r[d].lineCoordinates={}),r[d].lineCoordinates.width=Math.abs(w-m),r[d].title&&(r[d]._titleTextBlock.maxWidth=0<r[d].titleMaxWidth&&r[d].titleMaxWidth<r[d].lineCoordinates.width?r[d].titleMaxWidth:r[d].lineCoordinates.width),E.push(Math.ceil(r[d]?r[d].createLabelsAndCalculateHeight():0)),it+=E[d],h+=r[d]&&!g.isNavigator?r[d].margin:0;else E.push(Math.ceil(r[0]?r[0].createLabelsAndCalculateHeight():0));if(U.push(E),u&&0<u.length)for(F=[],d=je=0;d<u.length;d++)u[d]&&(u[d].lineCoordinates={}),u[d].lineCoordinates.width=Math.abs(w-m),u[d].title&&(u[d]._titleTextBlock.maxWidth=0<u[d].titleMaxWidth&&u[d].titleMaxWidth<u[d].lineCoordinates.width?u[d].titleMaxWidth:u[d].lineCoordinates.width),F.push(Math.ceil(u[d]?u[d].createLabelsAndCalculateHeight():0)),je+=F[d],mt+=u[d]&&!g.isNavigator?u[d].margin:0;else F.push(Math.ceil(u[0]?u[0].createLabelsAndCalculateHeight():0));if(O.push(F),r&&0<r.length)for(d=0;d<r.length;d++)r[d]&&(r[d].lineCoordinates.x1=m,w=Math.round(p.x2-Bt-zt>g.width-y?g.width-y:p.x2-Bt-zt),r[d]._labels&&1<r[d]._labels.length&&(_=x=0,_="dateTime"===r[d].valueType?r[d]._labels[r[d]._labels.length-2]:r[d]._labels[r[d]._labels.length-1],P=(x=r[d]._labels[1]).textBlock.width*Math.cos(Math.PI/180*Math.abs(x.textBlock.angle))+(x.textBlock.height-_.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(x.textBlock.angle)),T=_.textBlock.width*Math.cos(Math.PI/180*Math.abs(_.textBlock.angle))+(_.textBlock.height-_.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(_.textBlock.angle))),!r[d]||!r[d].labelAutoFit||j(V)||j(ee)||g.isNavigator||g.stockChart||(_=0,0<r[d].labelAngle?ee+T>w&&(_+=0<r[d].labelAngle?ee+T-w-Bt:0):0>r[d].labelAngle?V-P<m&&V-P<r[d].viewportMinimum&&(ae=m-(De+r[d].tickLength+H+V-P+r[d].labelFontSize/2)):0===r[d].labelAngle&&(ee+T>w&&(_=ee+T/2-w-Bt),V-P<m&&V-P<r[d].viewportMinimum&&(ae=m-De-r[d].tickLength-H-V+P/2)),r[d].viewportMaximum===r[d].maximum&&r[d].viewportMinimum===r[d].minimum&&0<r[d].labelAngle&&0<_?w-=_:r[d].viewportMaximum===r[d].maximum&&r[d].viewportMinimum===r[d].minimum&&0>r[d].labelAngle&&0<ae?m+=ae:r[d].viewportMaximum===r[d].maximum&&r[d].viewportMinimum===r[d].minimum&&0===r[d].labelAngle&&(0<ae&&(m+=ae),0<_&&(w-=_))),g.panEnabled?it=j(g.sessionVariables.axisX.height)?g.sessionVariables.axisX.height=it:g.sessionVariables.axisX.height:g.sessionVariables.axisX.height=it,_=Math.round(p.y2-it-h+W),x=Math.round(p.y2),r[d].lineCoordinates.x2=w,r[d].lineCoordinates.width=w-m,r[d].lineCoordinates.y1=_,r[d].lineCoordinates.y2=_+r[d].lineThickness/2,"inside"===r[d].labelPlacement&&0<d&&(r[d].lineCoordinates.y1=r[d].lineCoordinates.y1+E[d]-(r[d]._titleTextBlock?r[d]._titleTextBlock.height:0)-("inside"===r[d].tickPlacement?r[d].tickLength:0),r[d].lineCoordinates.y2=r[d].lineCoordinates.y1+r[d].lineThickness/2),r[d].bounds={x1:m,y1:_,x2:w,y2:x-(it+h-E[d]-W),width:w-m,height:x-_}),W+=E[d]+r[d].margin;if(u&&0<u.length)for(d=0;d<u.length;d++)u[d].lineCoordinates.x1=Math.round(p.x1+Ae+De),u[d].lineCoordinates.x2=Math.round(p.x2-Bt-zt>g.width-y?g.width-y:p.x2-Bt-zt),u[d].lineCoordinates.width=Math.abs(w-m),u[d]._labels&&1<u[d]._labels.length&&(_="dateTime"===u[d].valueType?u[d]._labels[u[d]._labels.length-2]:u[d]._labels[u[d]._labels.length-1],P=(x=u[d]._labels[1]).textBlock.width*Math.cos(Math.PI/180*Math.abs(x.textBlock.angle))+(x.textBlock.height-_.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(x.textBlock.angle)),T=_.textBlock.width*Math.cos(Math.PI/180*Math.abs(_.textBlock.angle))+(_.textBlock.height-_.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(_.textBlock.angle))),g.panEnabled?je=j(g.sessionVariables.axisX2.height)?g.sessionVariables.axisX2.height=je:g.sessionVariables.axisX2.height:g.sessionVariables.axisX2.height=je,_=Math.round(p.y1),x=Math.round(p.y2+u[d].margin),u[d].lineCoordinates.y1=_+je+mt-ze,u[d].lineCoordinates.y2=_,"inside"===u[d].labelPlacement&&0<d&&(u[d].lineCoordinates.y1=u[d-1].bounds.y1-F[d]+(u[d]._titleTextBlock?u[d]._titleTextBlock.height:0)),u[d].bounds={x1:m,y1:_+(je+mt-F[d]-ze),x2:w,y2:x,width:w-m,height:x-_},ze+=F[d]+u[d].margin;if(l&&0<l.length)for(d=0;d<l.length;d++)De=g.isNavigator?0:10,l[d]&&(m=Math.round(r[0]?r[0].lineCoordinates.x1:u[0].lineCoordinates.x1),De=l[d]._labels&&0<l[d]._labels.length?l[d]._labels[l[d]._labels.length-1].textBlock.height/2:y,_=Math.round(p.y1+je+mt<Math.max(De,y)?Math.max(De,y):p.y1+je+mt),w=Math.round(r[0]?r[0].lineCoordinates.x1:u[0].lineCoordinates.x1),De=0<r.length?0:l[d]._labels&&0<l[d]._labels.length?l[d]._labels[0].textBlock.height/2:y,x=Math.round(p.y2-it-h-De),l[d].lineCoordinates={x1:m-we,y1:_,x2:w-we,y2:x,height:Math.abs(x-_)},"inside"===l[d].labelPlacement&&0<d&&(l[d].lineCoordinates.x1=l[d].lineCoordinates.x1-(H[d]-(l[d]._titleTextBlock?l[d]._titleTextBlock.height:0))+("outside"===l[d].tickPlacement?l[d].tickLength:0),l[d].lineCoordinates.x2=l[d].lineCoordinates.x1+l[d].lineThickness/2),l[d].bounds={x1:m-(H[d]+we),y1:_,x2:w,y2:x,width:w-m,height:x-_},l[d].title&&(l[d]._titleTextBlock.maxWidth=0<l[d].titleMaxWidth&&l[d].titleMaxWidth<l[d].lineCoordinates.height?l[d].titleMaxWidth:l[d].lineCoordinates.height),we+=H[d]+l[d].margin);if(o&&0<o.length)for(d=0;d<o.length;d++)o[d]&&(m=Math.round(r[0]?r[0].lineCoordinates.x2:u[0].lineCoordinates.x2),w=Math.round(m),De=o[d]._labels&&0<o[d]._labels.length?o[d]._labels[o[d]._labels.length-1].textBlock.height/2:0,_=Math.round(p.y1+je+mt<Math.max(De,y)?Math.max(De,y):p.y1+je+mt),De=0<r.length?0:o[d]._labels&&0<o[d]._labels.length?o[d]._labels[0].textBlock.height/2:0,x=Math.round(p.y2-(it+h+De)),o[d].lineCoordinates={x1:m+$e,y1:_,x2:m+$e,y2:x,height:Math.abs(x-_)},"inside"===o[d].labelPlacement&&0<d&&(o[d].lineCoordinates.x1=o[d].lineCoordinates.x1+(z[d]-(o[d]._titleTextBlock?o[d]._titleTextBlock.height:0))-("outside"===o[d].tickPlacement?o[d].tickLength:0)-2,o[d].lineCoordinates.x2=o[d].lineCoordinates.x1+o[d].lineThickness/2),o[d].bounds={x1:m,y1:_,x2:w+(z[d]+$e),y2:x,width:w-m,height:x-_},o[d].title&&(o[d]._titleTextBlock.maxWidth=0<o[d].titleMaxWidth&&o[d].titleMaxWidth<o[d].lineCoordinates.height?o[d].titleMaxWidth:o[d].lineCoordinates.height),$e+=z[d]+o[d].margin);if(r&&0<r.length)for(d=0;d<r.length;d++)r[d]&&(r[d].calculateValueToPixelConversionParameters(),r[d].calculateBreaksSizeInValues(),r[d]._labels&&1<r[d]._labels.length&&(V=(r[d].logarithmic?Math.log(r[d]._labels[1].position/r[d].viewportMinimum)/r[d].conversionParameters.lnLogarithmBase:r[d]._labels[1].position-r[d].viewportMinimum)*Math.abs(r[d].conversionParameters.pixelPerUnit)+r[d].lineCoordinates.x1,m=r[d].getApparentDifference(r[d].viewportMinimum,m=r[d]._labels[r[d]._labels.length-("dateTime"===r[d].valueType?2:1)].position),ee=r[d].logarithmic?(1<m?Math.log(m)/r[d].conversionParameters.lnLogarithmBase*Math.abs(r[d].conversionParameters.pixelPerUnit):0)+r[d].lineCoordinates.x1:(0<m?m*Math.abs(r[d].conversionParameters.pixelPerUnit):0)+r[d].lineCoordinates.x1));if(u&&0<u.length)for(d=0;d<u.length;d++)u[d].calculateValueToPixelConversionParameters(),u[d].calculateBreaksSizeInValues(),u[d]._labels&&1<u[d]._labels.length&&(V=(u[d].logarithmic?Math.log(u[d]._labels[1].position/u[d].viewportMinimum)/u[d].conversionParameters.lnLogarithmBase:u[d]._labels[1].position-u[d].viewportMinimum)*Math.abs(u[d].conversionParameters.pixelPerUnit)+u[d].lineCoordinates.x1,m=u[d].getApparentDifference(u[d].viewportMinimum,m=u[d]._labels[u[d]._labels.length-("dateTime"===u[d].valueType?2:1)].position),ee=u[d].logarithmic?(1<m?Math.log(m)/u[d].conversionParameters.lnLogarithmBase*Math.abs(u[d].conversionParameters.pixelPerUnit):0)+u[d].lineCoordinates.x1:(0<m?m*Math.abs(u[d].conversionParameters.pixelPerUnit):0)+u[d].lineCoordinates.x1);for(d=0;d<b.length;d++)"axisY"===b[d].type&&(b[d].calculateValueToPixelConversionParameters(),b[d].calculateBreaksSizeInValues());if(0<A){if(r&&0<r.length)for(d=0;d<r.length;d++)C=U[A-1][d]===U[A][d];else C=!0;if(u&&0<u.length)for(d=0;d<u.length;d++)G=O[A-1][d]===O[A][d];else G=!0;if(l&&0<l.length)for(d=0;d<l.length;d++)K=ne[A-1][d]===ne[A][d];else K=!0;if(o&&0<o.length)for(d=0;d<o.length;d++)J=he[A-1][d]===he[A][d];else J=!0}if(C&&G&&K&&J)break;A++}if(r&&0<r.length)for(d=0;d<r.length;d++)r[d].calculateStripLinesThicknessInValues(),r[d].calculateBreaksInPixels();if(u&&0<u.length)for(d=0;d<u.length;d++)u[d].calculateStripLinesThicknessInValues(),u[d].calculateBreaksInPixels();if(l&&0<l.length)for(d=0;d<l.length;d++)l[d].calculateStripLinesThicknessInValues(),l[d].calculateBreaksInPixels();if(o&&0<o.length)for(d=0;d<o.length;d++)o[d].calculateStripLinesThicknessInValues(),o[d].calculateBreaksInPixels()}else{for(y=[],V=[],ae=[],P=[],ee=[],T=[],U=[],O=[];4>A;){if(it=$e=ze=we=zt=De=mt=h=he=ne=W=je=0,r&&0<r.length)for(ae=[],d=$e=0;d<r.length;d++)ae.push(Math.ceil(r[d]?r[d].createLabelsAndCalculateWidth():0)),$e+=ae[d],h+=r[d]&&!g.isNavigator?r[d].margin:0;else ae.push(Math.ceil(r[0]?r[0].createLabelsAndCalculateWidth():0));if(U.push(ae),u&&0<u.length)for(P=[],d=it=0;d<u.length;d++)P.push(Math.ceil(u[d]?u[d].createLabelsAndCalculateWidth():0)),it+=P[d],mt+=u[d]?u[d].margin:0;else P.push(Math.ceil(u[0]?u[0].createLabelsAndCalculateWidth():0));if(O.push(P),l&&0<l.length)for(d=0;d<l.length;d++)l[d].lineCoordinates={},m=Math.round(p.x1+$e+h),w=Math.round(p.x2-it-mt>g.width-10?g.width-10:p.x2-it-mt),l[d].labelAutoFit&&!j(E)&&(0<!r.length&&(m=0>l[d].labelAngle?Math.max(m,E):0===l[d].labelAngle?Math.max(m,E/2):m),0<!u.length&&(w=0<l[d].labelAngle||0===l[d].labelAngle?w-F/2:w)),l[d].lineCoordinates.x1=m,l[d].lineCoordinates.x2=w,l[d].lineCoordinates.width=Math.abs(w-m),l[d].title&&(l[d]._titleTextBlock.maxWidth=0<l[d].titleMaxWidth&&l[d].titleMaxWidth<l[d].lineCoordinates.width?l[d].titleMaxWidth:l[d].lineCoordinates.width);if(o&&0<o.length)for(d=0;d<o.length;d++)o[d].lineCoordinates={},m=Math.round(p.x1+$e+h),w=Math.round(p.x2-it-mt>o[d].chart.width-10?o[d].chart.width-10:p.x2-it-mt),o[d]&&o[d].labelAutoFit&&!j(H)&&(0<!r.length&&(m=0<o[d].labelAngle?Math.max(m,H):0===o[d].labelAngle?Math.max(m,H/2):m),0<!u.length&&(w-=z/2)),o[d].lineCoordinates.x1=m,o[d].lineCoordinates.x2=w,o[d].lineCoordinates.width=Math.abs(w-m),o[d].title&&(o[d]._titleTextBlock.maxWidth=0<o[d].titleMaxWidth&&o[d].titleMaxWidth<o[d].lineCoordinates.width?o[d].titleMaxWidth:o[d].lineCoordinates.width);if(l&&0<l.length)for(y=[],d=we=0;d<l.length;d++)y.push(Math.ceil(l[d]?l[d].createLabelsAndCalculateHeight():0)),we+=y[d]+l[d].margin,De+=l[d].margin;else y.push(Math.ceil(l[0]?l[0].createLabelsAndCalculateHeight():0));if(ee.push(y),o&&0<o.length)for(V=[],d=ze=0;d<o.length;d++)V.push(Math.ceil(o[d]?o[d].createLabelsAndCalculateHeight():0)),ze+=V[d],zt+=o[d].margin;else V.push(Math.ceil(o[0]?o[0].createLabelsAndCalculateHeight():0));if(T.push(V),l&&0<l.length)for(d=0;d<l.length;d++)0<l[d]._labels.length&&(_=l[d]._labels[l[d]._labels.length-1],E=(x=l[d]._labels[0]).textBlock.width*Math.cos(Math.PI/180*Math.abs(x.textBlock.angle))+(x.textBlock.height-_.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(x.textBlock.angle)),F=_.textBlock.width*Math.cos(Math.PI/180*Math.abs(_.textBlock.angle))+(_.textBlock.height-_.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(_.textBlock.angle)));if(o&&0<o.length)for(d=0;d<o.length;d++)o[d]&&0<o[d]._labels.length&&(_=o[d]._labels[o[d]._labels.length-1],H=(x=o[d]._labels[0]).textBlock.width*Math.cos(Math.PI/180*Math.abs(x.textBlock.angle))+(x.textBlock.height-_.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(x.textBlock.angle)),z=_.textBlock.width*Math.cos(Math.PI/180*Math.abs(_.textBlock.angle))+(_.textBlock.height-_.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(_.textBlock.angle)));if(g.panEnabled)for(d=0;d<l.length;d++)y[d]=j(g.sessionVariables.axisY.height)?g.sessionVariables.axisY.height=y[d]:g.sessionVariables.axisY.height;else for(d=0;d<l.length;d++)g.sessionVariables.axisY.height=y[d];if(l&&0<l.length)for(d=l.length-1;0<=d;d--)_=Math.round(p.y2),x=Math.round(p.y2>l[d].chart.height?l[d].chart.height:p.y2),l[d].lineCoordinates.y1=_-(y[d]+l[d].margin+je),l[d].lineCoordinates.y2=_-(y[d]+l[d].margin+je),"inside"===l[d].labelPlacement&&0<d&&(l[d].lineCoordinates.y1=l[d].lineCoordinates.y1+y[d]-(l[d]._titleTextBlock?l[d]._titleTextBlock.height:0)-("inside"===l[d].tickPlacement?l[d].tickLength:0),l[d].lineCoordinates.y2=l[d].lineCoordinates.y1+l[d].lineThickness/2),l[d].bounds={x1:m,y1:_-(y[d]+je+l[d].margin),x2:w,y2:x-(je+l[d].margin),width:w-m,height:y[d]},l[d].title&&(l[d]._titleTextBlock.maxWidth=0<l[d].titleMaxWidth&&l[d].titleMaxWidth<l[d].lineCoordinates.width?l[d].titleMaxWidth:l[d].lineCoordinates.width),je+=y[d]+l[d].margin;if(o&&0<o.length)for(d=o.length-1;0<=d;d--)o[d]&&(_=Math.round(p.y1),x=Math.round(p.y1+(V[d]+o[d].margin+W)),o[d].lineCoordinates.y1=x,o[d].lineCoordinates.y2=x,"inside"===o[d].labelPlacement&&0<d&&(o[d].lineCoordinates.y1=x-V[d]+(o[d]._titleTextBlock?o[d]._titleTextBlock.height:0)),o[d].bounds={x1:m,y1:_+(o[d].margin+W),x2:w,y2:x,width:w-m,height:ze},o[d].title&&(o[d]._titleTextBlock.maxWidth=0<o[d].titleMaxWidth&&o[d].titleMaxWidth<o[d].lineCoordinates.width?o[d].titleMaxWidth:o[d].lineCoordinates.width),W+=V[d]+o[d].margin);if(r&&0<r.length)for(d=0;d<r.length;d++){if(De=r[d]._labels&&0<r[d]._labels.length?r[d]._labels[0].textBlock.fontSize/2:0,m=Math.round(p.x1+h),_=o&&0<o.length?Math.round(o[0]?o[0].lineCoordinates.y2:p.y1<Math.max(De,10)?Math.max(De,10):p.y1):p.y1<Math.max(De,10)?Math.max(De,10):p.y1,w=Math.round(p.x1+$e+h),x=l&&0<l.length?Math.round(l[0]?l[0].lineCoordinates.y1:p.y2-we>g.height-Math.max(De,10)?g.height-Math.max(De,10):p.y2-we):p.y2>g.height-Math.max(De,10)?g.height-Math.max(De,10):p.y2,l&&0<l.length)for(De=0;De<l.length;De++)l[De]&&l[De].labelAutoFit&&(w=0>l[De].labelAngle?Math.max(w,E):0===l[De].labelAngle?Math.max(w,E/2):w,m=0>l[De].labelAngle||0===l[De].labelAngle?w-$e:m);if(o&&0<o.length)for(De=0;De<o.length;De++)o[De]&&o[De].labelAutoFit&&(m=(w=o[De].lineCoordinates.x1)-$e);r[d].lineCoordinates={x1:w-ne,y1:_,x2:w-ne,y2:x,height:Math.abs(x-_)},"inside"===r[d].labelPlacement&&0<d&&(r[d].lineCoordinates.x1=r[d].lineCoordinates.x1-(ae[d]-(r[d]._titleTextBlock?r[d]._titleTextBlock.height:0))+("outside"===r[d].tickPlacement?r[d].tickLength:0),r[d].lineCoordinates.x2=r[d].lineCoordinates.x1+r[d].lineThickness/2),r[d].bounds={x1:w-(ae[d]+ne),y1:_,x2:w,y2:x,width:w-m,height:x-_},r[d].title&&(r[d]._titleTextBlock.maxWidth=0<r[d].titleMaxWidth&&r[d].titleMaxWidth<r[d].lineCoordinates.height?r[d].titleMaxWidth:r[d].lineCoordinates.height),r[d].calculateValueToPixelConversionParameters(),r[d].calculateBreaksSizeInValues(),ne+=ae[d]+r[d].margin}if(u&&0<u.length)for(d=0;d<u.length;d++){if(De=u[d]._labels&&0<u[d]._labels.length?u[d]._labels[0].textBlock.fontSize/2:0,m=Math.round(p.x1-h),_=o&&0<o.length?Math.round(o[0]?o[0].lineCoordinates.y2:p.y1<Math.max(De,10)?Math.max(De,10):p.y1):p.y1<Math.max(De,10)?Math.max(De,10):p.y1,w=Math.round(p.x2-it-mt),x=l&&0<l.length?Math.round(l[0]?l[0].lineCoordinates.y1:p.y2-we>g.height-Math.max(De,10)?g.height-Math.max(De,10):p.y2-we):p.y2>g.height-Math.max(De,10)?g.height-Math.max(De,10):p.y2,l&&0<l.length)for(De=0;De<l.length;De++)l[De]&&l[De].labelAutoFit&&(w=0>l[De].labelAngle?Math.max(w,E):0===l[De].labelAngle?Math.max(w,E/2):w,m=0>l[De].labelAngle||0===l[De].labelAngle?w-it:m);if(o&&0<o.length)for(De=0;De<o.length;De++)o[De]&&o[De].labelAutoFit&&(m=(w=o[De].lineCoordinates.x2)-it);u[d].lineCoordinates={x1:w+he,y1:_,x2:w+he,y2:x,height:Math.abs(x-_)},"inside"===u[d].labelPlacement&&0<d&&(u[d].lineCoordinates.x1=u[d].lineCoordinates.x1+(P[d]-(u[d]._titleTextBlock?u[d]._titleTextBlock.height:0)-2)-("outside"===u[d].tickPlacement?u[d].tickLength:0),u[d].lineCoordinates.x2=u[d].lineCoordinates.x1+u[d].lineThickness/2),u[d].bounds={x1:u[d].lineCoordinates.x1,y1:_,x2:w+P[d]+he,y2:x,width:w-m,height:x-_},u[d].title&&(u[d]._titleTextBlock.maxWidth=0<u[d].titleMaxWidth&&u[d].titleMaxWidth<u[d].lineCoordinates.height?u[d].titleMaxWidth:u[d].lineCoordinates.height),u[d].calculateValueToPixelConversionParameters(),u[d].calculateBreaksSizeInValues(),he+=P[d]+u[d].margin}for(d=0;d<b.length;d++)"axisY"===b[d].type&&(b[d].calculateValueToPixelConversionParameters(),b[d].calculateBreaksSizeInValues());if(0<A){if(r&&0<r.length)for(d=0;d<r.length;d++)C=U[A-1][d]===U[A][d];else C=!0;if(u&&0<u.length)for(d=0;d<u.length;d++)G=O[A-1][d]===O[A][d];else G=!0;if(l&&0<l.length)for(d=0;d<l.length;d++)K=ee[A-1][d]===ee[A][d];else K=!0;if(o&&0<o.length)for(d=0;d<o.length;d++)J=T[A-1][d]===T[A][d];else J=!0}if(C&&G&&K&&J)break;A++}if(l&&0<l.length)for(d=0;d<l.length;d++)l[d].calculateStripLinesThicknessInValues(),l[d].calculateBreaksInPixels();if(o&&0<o.length)for(d=0;d<o.length;d++)o[d].calculateStripLinesThicknessInValues(),o[d].calculateBreaksInPixels();if(r&&0<r.length)for(d=0;d<r.length;d++)r[d].calculateStripLinesThicknessInValues(),r[d].calculateBreaksInPixels();if(u&&0<u.length)for(d=0;d<u.length;d++)u[d].calculateStripLinesThicknessInValues(),u[d].calculateBreaksInPixels()}},se.render=function(r,u,l,o,h){var p=r[0]?r[0].chart:u[0].chart;if(h=p.ctx,p.alignVerticalAxes&&p.alignVerticalAxes(),h.save(),h.beginPath(),r[0]&&h.rect(5,r[0].bounds.y1,r[0].chart.width-10,r[0].bounds.height),u[0]&&h.rect(5,u[u.length-1].bounds.y1,u[0].chart.width-10,u[0].bounds.height),h.clip(),r&&0<r.length)for(var m=0;m<r.length;m++)r[m].renderLabelsTicksAndTitle();if(u&&0<u.length)for(m=0;m<u.length;m++)u[m].renderLabelsTicksAndTitle();if(h.restore(),l&&0<l.length)for(m=0;m<l.length;m++)l[m].renderLabelsTicksAndTitle();if(o&&0<o.length)for(m=0;m<o.length;m++)o[m].renderLabelsTicksAndTitle();if(p.preparePlotArea(),p=p.plotArea,h.save(),h.beginPath(),h.rect(p.x1,p.y1,Math.abs(p.x2-p.x1),Math.abs(p.y2-p.y1)),h.clip(),r&&0<r.length)for(m=0;m<r.length;m++)r[m].renderStripLinesOfThicknessType("value");if(u&&0<u.length)for(m=0;m<u.length;m++)u[m].renderStripLinesOfThicknessType("value");if(l&&0<l.length)for(m=0;m<l.length;m++)l[m].renderStripLinesOfThicknessType("value");if(o&&0<o.length)for(m=0;m<o.length;m++)o[m].renderStripLinesOfThicknessType("value");if(r&&0<r.length)for(m=0;m<r.length;m++)r[m].renderInterlacedColors();if(u&&0<u.length)for(m=0;m<u.length;m++)u[m].renderInterlacedColors();if(l&&0<l.length)for(m=0;m<l.length;m++)l[m].renderInterlacedColors();if(o&&0<o.length)for(m=0;m<o.length;m++)o[m].renderInterlacedColors();if(h.restore(),r&&0<r.length)for(m=0;m<r.length;m++)r[m].renderGrid(),Y&&(r[m].createMask(),r[m].renderBreaksBackground());if(u&&0<u.length)for(m=0;m<u.length;m++)u[m].renderGrid(),Y&&(u[m].createMask(),u[m].renderBreaksBackground());if(l&&0<l.length)for(m=0;m<l.length;m++)l[m].renderGrid(),Y&&(l[m].createMask(),l[m].renderBreaksBackground());if(o&&0<o.length)for(m=0;m<o.length;m++)o[m].renderGrid(),Y&&(o[m].createMask(),o[m].renderBreaksBackground());if(r&&0<r.length)for(m=0;m<r.length;m++)r[m].renderAxisLine();if(u&&0<u.length)for(m=0;m<u.length;m++)u[m].renderAxisLine();if(l&&0<l.length)for(m=0;m<l.length;m++)l[m].renderAxisLine();if(o&&0<o.length)for(m=0;m<o.length;m++)o[m].renderAxisLine();if(r&&0<r.length)for(m=0;m<r.length;m++)r[m].renderStripLinesOfThicknessType("pixel");if(u&&0<u.length)for(m=0;m<u.length;m++)u[m].renderStripLinesOfThicknessType("pixel");if(l&&0<l.length)for(m=0;m<l.length;m++)l[m].renderStripLinesOfThicknessType("pixel");if(o&&0<o.length)for(m=0;m<o.length;m++)o[m].renderStripLinesOfThicknessType("pixel")},se.prototype.calculateStripLinesThicknessInValues=function(){for(var r=0;r<this.stripLines.length;r++)if(null!==this.stripLines[r].startValue&&null!==this.stripLines[r].endValue){var l=Math.min(this.stripLines[r].startValue,this.stripLines[r].endValue),u=Math.max(this.stripLines[r].startValue,this.stripLines[r].endValue);l=this.getApparentDifference(l,u),this.stripLines[r].value=this.logarithmic?this.stripLines[r].value*Math.sqrt(Math.log(Math.max(this.stripLines[r].startValue,this.stripLines[r].endValue)/Math.min(this.stripLines[r].startValue,this.stripLines[r].endValue))/Math.log(l)):this.stripLines[r].value+(Math.abs(this.stripLines[r].endValue-this.stripLines[r].startValue)-l)/2,this.stripLines[r].thickness=l,this.stripLines[r]._thicknessType="value"}},se.prototype.calculateBreaksSizeInValues=function(){for(var h,r="left"===this._position||"right"===this._position?this.lineCoordinates.height||this.chart.height:this.lineCoordinates.width||this.chart.width,u=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[],l=this.conversionParameters.pixelPerUnit||r/(this.logarithmic?this.conversionParameters.maximum/this.conversionParameters.minimum:this.conversionParameters.maximum-this.conversionParameters.minimum),o=this.scaleBreaks&&!j(this.scaleBreaks.options.spacing),p=0;p<u.length;p++)h=o||!j(u[p].options.spacing),u[p].spacing=Rn(u[p].spacing,r,8,h?.1*r:8,h?0:3)<<0,u[p].size=0>u[p].spacing?0:Math.abs(u[p].spacing/l),this.logarithmic&&(u[p].size=Math.pow(this.logarithmBase,u[p].size))},se.prototype.calculateBreaksInPixels=function(){if(!(this.scaleBreaks&&0>=this.scaleBreaks._appliedBreaks.length)){var r=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[];r.length&&(this.scaleBreaks.firstBreakIndex=this.scaleBreaks.lastBreakIndex=null);for(var u=0;u<r.length&&!(r[u].startValue>this.conversionParameters.maximum);u++)r[u].endValue<this.conversionParameters.minimum||(j(this.scaleBreaks.firstBreakIndex)&&(this.scaleBreaks.firstBreakIndex=u),r[u].startValue>=this.conversionParameters.minimum&&(r[u].startPixel=this.convertValueToPixel(r[u].startValue),this.scaleBreaks.lastBreakIndex=u),r[u].endValue<=this.conversionParameters.maximum&&(r[u].endPixel=this.convertValueToPixel(r[u].endValue)))}},se.prototype.renderLabelsTicksAndTitle=function(){var y,b,r=this,u=!1,l=0,o=0,h=1,p=0;if(0!==this.labelAngle&&360!==this.labelAngle&&(h=1.2),void 0===this.options.interval){if("bottom"===this._position||"top"===this._position)if(this.logarithmic&&!this.equidistantInterval&&this.labelAutoFit){l=[],h=0!==this.labelAngle&&360!==this.labelAngle?1:1.2;for(var m,_=this.viewportMaximum,w=this.lineCoordinates.width/Math.log(this.range),g=this._labels.length-1;0<=g&&!((y=this._labels[g]).position<this.viewportMinimum);g--)y.position>this.viewportMaximum||!(g===this._labels.length-1||m<Math.log(_/y.position)*w/h)||(l.push(y),_=y.position,m=y.textBlock.width*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+y.textBlock.height*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));this._labels=l}else{for(g=0;g<this._labels.length;g++)(y=this._labels[g]).position<this.viewportMinimum||(l+=m=y.textBlock.width*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+y.textBlock.height*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));l>this.lineCoordinates.width*h&&this.labelAutoFit&&(u=!0)}if("left"===this._position||"right"===this._position)if(this.logarithmic&&!this.equidistantInterval&&this.labelAutoFit){var x;for(l=[],_=this.viewportMaximum,w=this.lineCoordinates.height/Math.log(this.range),g=this._labels.length-1;0<=g&&!((y=this._labels[g]).position<this.viewportMinimum);g--)y.position>this.viewportMaximum||!(g===this._labels.length-1||x<Math.log(_/y.position)*w)||(l.push(y),_=y.position,x=y.textBlock.height*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+y.textBlock.width*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));this._labels=l}else{for(g=0;g<this._labels.length;g++)(y=this._labels[g]).position<this.viewportMinimum||(o+=x=y.textBlock.height*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+y.textBlock.width*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));o>this.lineCoordinates.height*h&&this.labelAutoFit&&(u=!0)}}if(this.logarithmic&&!this.equidistantInterval&&this.labelAutoFit&&this._labels.sort(function(d,C){return d.position-C.position}),g=0,"bottom"===this._position){for(g=0;g<this._labels.length;g++)(y=this._labels[g]).position<this.viewportMinimum||y.position>this.viewportMaximum||(b=this.getPixelCoordinatesOnAxis(y.position),this.tickThickness&&"inside"!=this.tickPlacement&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,o=this.ctx.lineWidth%2==1?.5+(b.x<<0):b.x<<0,this.ctx.beginPath(),this.ctx.moveTo(o,b.y<<0),this.ctx.lineTo(o,b.y+this.tickLength<<0),this.ctx.stroke()),u&&p++%2!=0&&this.labelAutoFit||(0===y.textBlock.angle?(b.x-=y.textBlock.width/2,b.y="inside"===this.labelPlacement?b.y-(("inside"===this.tickPlacement?this.tickLength:0)+y.textBlock.height-y.textBlock.fontSize/2):b.y+("inside"===this.tickPlacement?0:this.tickLength)+y.textBlock.fontSize/2+5):(b.x="inside"===this.labelPlacement?0>this.labelAngle?b.x:b.x-y.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):b.x-(0>this.labelAngle?y.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0),b.y="inside"===this.labelPlacement?0>this.labelAngle?b.y-("inside"===this.tickPlacement?this.tickLength:0)-5:b.y-("inside"===this.tickPlacement?this.tickLength:0)-Math.abs(y.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)+5):b.y+("inside"===this.tickPlacement?0:this.tickLength)+Math.abs(0>this.labelAngle?y.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)-5:5)),y.textBlock.x=b.x,y.textBlock.y=b.y));"inside"===this.tickPlacement&&this.chart.addEventListener("dataAnimationEnd",function(){for(g=0;g<r._labels.length;g++)if(!((y=r._labels[g]).position<r.viewportMinimum||y.position>r.viewportMaximum)&&(b=r.getPixelCoordinatesOnAxis(y.position),r.tickThickness)){r.ctx.lineWidth=r.tickThickness,r.ctx.strokeStyle=r.tickColor;var d=r.ctx.lineWidth%2==1?.5+(b.x<<0):b.x<<0;r.ctx.save(),r.ctx.beginPath(),r.ctx.moveTo(d,b.y<<0),r.ctx.lineTo(d,b.y-r.tickLength<<0),r.ctx.stroke(),r.ctx.restore()}},this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.lineCoordinates.x1+this.lineCoordinates.width/2-this._titleTextBlock.width/2,this._titleTextBlock.y=this.bounds.y2-this._titleTextBlock.height-3,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}else if("top"===this._position){for(g=0;g<this._labels.length;g++)(y=this._labels[g]).position<this.viewportMinimum||y.position>this.viewportMaximum||(b=this.getPixelCoordinatesOnAxis(y.position),this.tickThickness&&"inside"!=this.tickPlacement&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,o=this.ctx.lineWidth%2==1?.5+(b.x<<0):b.x<<0,this.ctx.beginPath(),this.ctx.moveTo(o,b.y<<0),this.ctx.lineTo(o,b.y-this.tickLength<<0),this.ctx.stroke()),u&&p++%2!=0&&this.labelAutoFit||(0===y.textBlock.angle?(b.x-=y.textBlock.width/2,b.y="inside"===this.labelPlacement?b.y+this.labelFontSize/2+("inside"===this.tickPlacement?this.tickLength:0)+5:b.y-(("inside"===this.tickPlacement?0:this.tickLength)+y.textBlock.height-y.textBlock.fontSize/2)):(b.x="inside"===this.labelPlacement?0<this.labelAngle?b.x:b.x-y.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):b.x+(y.textBlock.height-this.labelFontSize)*Math.sin(Math.PI/180*this.labelAngle)-(0<this.labelAngle?y.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0),b.y="inside"===this.labelPlacement?0<this.labelAngle?b.y+("inside"===this.tickPlacement?this.tickLength:0)+5:b.y-y.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)+("inside"===this.tickPlacement?this.tickLength:0)+5:b.y-(("inside"===this.tickPlacement?0:this.tickLength)+((y.textBlock.height-y.textBlock.fontSize/2)*Math.cos(Math.PI/180*this.labelAngle)+(0<this.labelAngle?y.textBlock.width*Math.sin(Math.PI/180*this.labelAngle):0)))),y.textBlock.x=b.x,y.textBlock.y=b.y));"inside"===this.tickPlacement&&this.chart.addEventListener("dataAnimationEnd",function(){for(g=0;g<r._labels.length;g++)if(!((y=r._labels[g]).position<r.viewportMinimum||y.position>r.viewportMaximum)&&(b=r.getPixelCoordinatesOnAxis(y.position),r.tickThickness)){r.ctx.lineWidth=r.tickThickness,r.ctx.strokeStyle=r.tickColor;var d=r.ctx.lineWidth%2==1?.5+(b.x<<0):b.x<<0;r.ctx.save(),r.ctx.beginPath(),r.ctx.moveTo(d,b.y<<0),r.ctx.lineTo(d,b.y+r.tickLength<<0),r.ctx.stroke(),r.ctx.restore()}},this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.lineCoordinates.x1+this.lineCoordinates.width/2-this._titleTextBlock.width/2,this._titleTextBlock.y=this.bounds.y1+1,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}else if("left"===this._position){for(g=0;g<this._labels.length;g++)(y=this._labels[g]).position<this.viewportMinimum||y.position>this.viewportMaximum||(b=this.getPixelCoordinatesOnAxis(y.position),this.tickThickness&&"inside"!=this.tickPlacement&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,o=this.ctx.lineWidth%2==1?.5+(b.y<<0):b.y<<0,this.ctx.beginPath(),this.ctx.moveTo(b.x<<0,o),this.ctx.lineTo(b.x-this.tickLength<<0,o),this.ctx.stroke()),u&&p++%2!=0&&this.labelAutoFit||(0===this.labelAngle?(y.textBlock.y=b.y,y.textBlock.x="inside"===this.labelPlacement?b.x+("inside"===this.tickPlacement?this.tickLength:0)+5:b.x-y.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-("inside"===this.tickPlacement?0:this.tickLength)-5):(y.textBlock.y="inside"===this.labelPlacement?b.y:b.y-y.textBlock.width*Math.sin(Math.PI/180*this.labelAngle),y.textBlock.x="inside"===this.labelPlacement?b.x+("inside"===this.tickPlacement?this.tickLength:0)+5:0<this.labelAngle?b.x-y.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-("inside"===this.tickPlacement?0:this.tickLength)-5:b.x-y.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)+(y.textBlock.height-y.textBlock.fontSize/2-5)*Math.sin(Math.PI/180*this.labelAngle)-("inside"===this.tickPlacement?0:this.tickLength))));"inside"===this.tickPlacement&&this.chart.addEventListener("dataAnimationEnd",function(){for(g=0;g<r._labels.length;g++)if(!((y=r._labels[g]).position<r.viewportMinimum||y.position>r.viewportMaximum)&&(b=r.getPixelCoordinatesOnAxis(y.position),r.tickThickness)){r.ctx.lineWidth=r.tickThickness,r.ctx.strokeStyle=r.tickColor;var d=r.ctx.lineWidth%2==1?.5+(b.y<<0):b.y<<0;r.ctx.save(),r.ctx.beginPath(),r.ctx.moveTo(b.x<<0,d),r.ctx.lineTo(b.x+r.tickLength<<0,d),r.ctx.stroke(),r.ctx.restore()}},this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.bounds.x1+1,this._titleTextBlock.y=this.lineCoordinates.height/2+this._titleTextBlock.width/2+this.lineCoordinates.y1,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}else if("right"===this._position){for(g=0;g<this._labels.length;g++)(y=this._labels[g]).position<this.viewportMinimum||y.position>this.viewportMaximum||(b=this.getPixelCoordinatesOnAxis(y.position),this.tickThickness&&"inside"!=this.tickPlacement&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,o=this.ctx.lineWidth%2==1?.5+(b.y<<0):b.y<<0,this.ctx.beginPath(),this.ctx.moveTo(b.x<<0,o),this.ctx.lineTo(b.x+this.tickLength<<0,o),this.ctx.stroke()),u&&p++%2!=0&&this.labelAutoFit||(0===this.labelAngle?(y.textBlock.y=b.y,y.textBlock.x="inside"===this.labelPlacement?b.x-y.textBlock.width-("inside"===this.tickPlacement?this.tickLength:0)-5:b.x+("inside"===this.tickPlacement?0:this.tickLength)+5):(y.textBlock.y="inside"===this.labelPlacement?b.y-y.textBlock.width*Math.sin(Math.PI/180*this.labelAngle):0>this.labelAngle?b.y:b.y-(y.textBlock.height-y.textBlock.fontSize/2-5)*Math.cos(Math.PI/180*this.labelAngle),y.textBlock.x="inside"===this.labelPlacement?b.x-y.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-("inside"===this.tickPlacement?this.tickLength:0)-5:0<this.labelAngle?b.x+(y.textBlock.height-y.textBlock.fontSize/2-5)*Math.sin(Math.PI/180*this.labelAngle)+("inside"===this.tickPlacement?0:this.tickLength):b.x+("inside"===this.tickPlacement?0:this.tickLength)+5)));"inside"===this.tickPlacement&&this.chart.addEventListener("dataAnimationEnd",function(){for(g=0;g<r._labels.length;g++)if(!((y=r._labels[g]).position<r.viewportMinimum||y.position>r.viewportMaximum)&&(b=r.getPixelCoordinatesOnAxis(y.position),r.tickThickness)){r.ctx.lineWidth=r.tickThickness,r.ctx.strokeStyle=r.tickColor;var d=r.ctx.lineWidth%2==1?.5+(b.y<<0):b.y<<0;r.ctx.save(),r.ctx.beginPath(),r.ctx.moveTo(b.x<<0,d),r.ctx.lineTo(b.x-r.tickLength<<0,d),r.ctx.stroke(),r.ctx.restore()}},this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.bounds.x2-1,this._titleTextBlock.y=this.lineCoordinates.height/2-this._titleTextBlock.width/2+this.lineCoordinates.y1,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}if(p=0,"inside"===this.labelPlacement)this.chart.addEventListener("dataAnimationEnd",function(){for(g=0;g<r._labels.length;g++)(y=r._labels[g]).position<r.viewportMinimum||y.position>r.viewportMaximum||u&&p++%2!=0&&r.labelAutoFit||(r.ctx.save(),r.ctx.beginPath(),y.textBlock.render(!0),r.ctx.restore())},this);else for(g=0;g<this._labels.length;g++)(y=this._labels[g]).position<this.viewportMinimum||y.position>this.viewportMaximum||u&&p++%2!=0&&this.labelAutoFit||y.textBlock.render(!0)},se.prototype.renderInterlacedColors=function(){var u,l,r=this.chart.plotArea.ctx,o=this.chart.plotArea,h=0;if(u=!0,"bottom"!==this._position&&"top"!==this._position||!this.interlacedColor){if(("left"===this._position||"right"===this._position)&&this.interlacedColor)for(r.fillStyle=this.interlacedColor,h=0;h<this._labels.length;h++)u?(l=this.getPixelCoordinatesOnAxis(this._labels[h].position),u=this.getPixelCoordinatesOnAxis(h+1>this._labels.length-1?this.viewportMaximum:this._labels[h+1].position),r.fillRect(o.x1,Math.min(l.y,u.y),Math.abs(o.x1-o.x2),Math.abs(u.y-l.y)),u=!1):u=!0}else for(r.fillStyle=this.interlacedColor,h=0;h<this._labels.length;h++)u?(u=this.getPixelCoordinatesOnAxis(this._labels[h].position),l=this.getPixelCoordinatesOnAxis(h+1>this._labels.length-1?this.viewportMaximum:this._labels[h+1].position),r.fillRect(Math.min(l.x,u.x),o.y1,Math.abs(l.x-u.x),Math.abs(o.y1-o.y2)),u=!1):u=!0;r.beginPath()},se.prototype.renderStripLinesOfThicknessType=function(r){if(this.stripLines&&0<this.stripLines.length&&r){var l,u=this,w=0,o=0,h=!1,_=!1,p=[],m=[];for(_=!1,w=0;w<this.stripLines.length;w++){var x=this.stripLines[w];x._thicknessType===r&&("pixel"===r&&(x.value<this.viewportMinimum||x.value>this.viewportMaximum||j(x.value)||isNaN(this.range))||"value"===r&&(x.startValue<=this.viewportMinimum&&x.endValue<=this.viewportMinimum||x.startValue>=this.viewportMaximum&&x.endValue>=this.viewportMaximum||j(x.startValue)||j(x.endValue)||isNaN(this.range))||p.push(x))}for(w=0;w<this._stripLineLabels.length;w++)if(x=this.stripLines[w],!((l=this._stripLineLabels[w]).position<this.viewportMinimum||l.position>this.viewportMaximum||isNaN(this.range))){if(r=this.getPixelCoordinatesOnAxis(l.position),"outside"===l.stripLine.labelPlacement)if(x&&(this.ctx.strokeStyle=x.color,"pixel"===x._thicknessType&&(this.ctx.lineWidth=x.thickness)),"bottom"===this._position){var g=this.ctx.lineWidth%2==1?.5+(r.x<<0):r.x<<0;this.ctx.beginPath(),this.ctx.moveTo(g,r.y<<0),this.ctx.lineTo(g,r.y+this.tickLength<<0),this.ctx.stroke(),0===this.labelAngle?(r.x-=l.textBlock.width/2,r.y+=this.tickLength+l.textBlock.fontSize/2+5):(r.x-=0>this.labelAngle?l.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0,r.y+=this.tickLength+Math.abs(0>this.labelAngle?l.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)-5:5))}else"top"===this._position?(g=this.ctx.lineWidth%2==1?.5+(r.x<<0):r.x<<0,this.ctx.beginPath(),this.ctx.moveTo(g,r.y<<0),this.ctx.lineTo(g,r.y-this.tickLength<<0),this.ctx.stroke(),0===this.labelAngle?(r.x-=l.textBlock.width/2,r.y-=this.tickLength+l.textBlock.height-l.textBlock.fontSize/2):(r.x+=(l.textBlock.height-this.tickLength-this.labelFontSize/2)*Math.sin(Math.PI/180*this.labelAngle)-(0<this.labelAngle?l.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0),r.y-=this.tickLength+(l.textBlock.height*Math.cos(Math.PI/180*this.labelAngle)+(0<this.labelAngle?l.textBlock.width*Math.sin(Math.PI/180*this.labelAngle):0)))):"left"===this._position?(g=this.ctx.lineWidth%2==1?.5+(r.y<<0):r.y<<0,this.ctx.beginPath(),this.ctx.moveTo(r.x<<0,g),this.ctx.lineTo(r.x-this.tickLength<<0,g),this.ctx.stroke(),0===this.labelAngle?r.x=r.x-l.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-this.tickLength-5:(r.y-=l.textBlock.width*Math.sin(Math.PI/180*this.labelAngle),r.x=0<this.labelAngle?r.x-l.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-this.tickLength-5:r.x-l.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)+(l.textBlock.height-l.textBlock.fontSize/2-5)*Math.sin(Math.PI/180*this.labelAngle)-this.tickLength)):"right"===this._position&&(g=this.ctx.lineWidth%2==1?.5+(r.y<<0):r.y<<0,this.ctx.beginPath(),this.ctx.moveTo(r.x<<0,g),this.ctx.lineTo(r.x+this.tickLength<<0,g),this.ctx.stroke(),0===this.labelAngle?r.x=r.x+this.tickLength+5:(r.y=0>this.labelAngle?r.y:r.y-(l.textBlock.height-l.textBlock.fontSize/2-5)*Math.cos(Math.PI/180*this.labelAngle),r.x=0<this.labelAngle?r.x+(l.textBlock.height-l.textBlock.fontSize/2-5)*Math.sin(Math.PI/180*this.labelAngle)+this.tickLength:r.x+this.tickLength+5));else l.textBlock.angle=-90,"bottom"===this._position?(l.textBlock.maxWidth=this.options.stripLines[w].labelMaxWidth?this.options.stripLines[w].labelMaxWidth:this.chart.plotArea.height-3,l.textBlock.measureText(),r.x-l.textBlock.height>this.chart.plotArea.x1?j(x.startValue)?r.x-=l.textBlock.height-l.textBlock.fontSize/2:r.x-=l.textBlock.height/2-l.textBlock.fontSize/2+3:(l.textBlock.angle=90,j(x.startValue)?r.x+=l.textBlock.height-l.textBlock.fontSize/2:r.x+=l.textBlock.height/2-l.textBlock.fontSize/2+3),r.y=-90===l.textBlock.angle?"near"===l.stripLine.labelAlign?this.chart.plotArea.y2-3:"center"===l.stripLine.labelAlign?(this.chart.plotArea.y2+this.chart.plotArea.y1+l.textBlock.width)/2:this.chart.plotArea.y1+l.textBlock.width+3:"near"===l.stripLine.labelAlign?this.chart.plotArea.y2-l.textBlock.width-3:"center"===l.stripLine.labelAlign?(this.chart.plotArea.y2+this.chart.plotArea.y1-l.textBlock.width)/2:this.chart.plotArea.y1+3):"top"===this._position?(l.textBlock.maxWidth=this.options.stripLines[w].labelMaxWidth?this.options.stripLines[w].labelMaxWidth:this.chart.plotArea.height-3,l.textBlock.measureText(),r.x-l.textBlock.height>this.chart.plotArea.x1?j(x.startValue)?r.x-=l.textBlock.height-l.textBlock.fontSize/2:r.x-=l.textBlock.height/2-l.textBlock.fontSize/2+3:(l.textBlock.angle=90,j(x.startValue)?r.x+=l.textBlock.height-l.textBlock.fontSize/2:r.x+=l.textBlock.height/2-l.textBlock.fontSize/2+3),r.y=-90===l.textBlock.angle?"near"===l.stripLine.labelAlign?this.chart.plotArea.y1+l.textBlock.width+3:"center"===l.stripLine.labelAlign?(this.chart.plotArea.y2+this.chart.plotArea.y1+l.textBlock.width)/2:this.chart.plotArea.y2-3:"near"===l.stripLine.labelAlign?this.chart.plotArea.y1+3:"center"===l.stripLine.labelAlign?(this.chart.plotArea.y2+this.chart.plotArea.y1-l.textBlock.width)/2:this.chart.plotArea.y2-l.textBlock.width-3):"left"===this._position?(l.textBlock.maxWidth=this.options.stripLines[w].labelMaxWidth?this.options.stripLines[w].labelMaxWidth:this.chart.plotArea.width-3,l.textBlock.angle=0,l.textBlock.measureText(),r.y-l.textBlock.height>this.chart.plotArea.y1?j(x.startValue)?r.y-=l.textBlock.height-l.textBlock.fontSize/2:r.y-=l.textBlock.height/2-l.textBlock.fontSize+3:r.y-l.textBlock.height<this.chart.plotArea.y2?r.y+=l.textBlock.fontSize/2+3:j(x.startValue)?r.y-=l.textBlock.height-l.textBlock.fontSize/2:r.y-=l.textBlock.height/2-l.textBlock.fontSize+3,r.x="near"===l.stripLine.labelAlign?this.chart.plotArea.x1+3:"center"===l.stripLine.labelAlign?(this.chart.plotArea.x2+this.chart.plotArea.x1)/2-l.textBlock.width/2:this.chart.plotArea.x2-l.textBlock.width-3):"right"===this._position&&(l.textBlock.maxWidth=this.options.stripLines[w].labelMaxWidth?this.options.stripLines[w].labelMaxWidth:this.chart.plotArea.width-3,l.textBlock.angle=0,l.textBlock.measureText(),r.y-+l.textBlock.height>this.chart.plotArea.y1?j(x.startValue)?r.y-=l.textBlock.height-l.textBlock.fontSize/2:r.y-=l.textBlock.height/2-l.textBlock.fontSize/2-3:r.y-l.textBlock.height<this.chart.plotArea.y2?r.y+=l.textBlock.fontSize/2+3:j(x.startValue)?r.y-=l.textBlock.height-l.textBlock.fontSize/2:r.y-=l.textBlock.height/2-l.textBlock.fontSize/2+3,r.x="near"===l.stripLine.labelAlign?this.chart.plotArea.x2-l.textBlock.width-3:"center"===l.stripLine.labelAlign?(this.chart.plotArea.x2+this.chart.plotArea.x1)/2-l.textBlock.width/2:this.chart.plotArea.x1+3);l.textBlock.x=r.x,l.textBlock.y=r.y,m.push(l)}if(!_){for(_=!1,this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.ctx.clip(),w=0;w<p.length;w++)(x=p[w]).showOnTop?h||(h=!0,this.chart.addEventListener("dataAnimationIterationEnd",function(){for(this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.ctx.clip(),o=0;o<p.length;o++)(x=p[o]).showOnTop&&x.render();this.ctx.restore()},x)):x.render();for(w=0;w<m.length;w++)(l=m[w]).stripLine.showOnTop?_||(_=!0,this.chart.addEventListener("dataAnimationIterationEnd",function(){for(o=0;o<m.length;o++)"inside"===(l=m[o]).stripLine.labelPlacement&&l.stripLine.showOnTop&&(u.ctx.save(),u.ctx.beginPath(),u.ctx.rect(u.chart.plotArea.x1,u.chart.plotArea.y1,u.chart.plotArea.width,u.chart.plotArea.height),u.ctx.clip(),l.textBlock.render(!0),u.ctx.restore())},l.textBlock)):"inside"===l.stripLine.labelPlacement&&l.textBlock.render(!0);this.ctx.restore(),_=!0}if(_)for(_=!1,w=0;w<m.length;w++)"outside"===(l=m[w]).stripLine.labelPlacement&&l.textBlock.render(!0)}},se.prototype.renderBreaksBackground=function(){this.chart._breaksCanvas&&this.scaleBreaks&&0<this.scaleBreaks._appliedBreaks.length&&this.maskCanvas&&(this.chart._breaksCanvasCtx.save(),this.chart._breaksCanvasCtx.beginPath(),this.chart._breaksCanvasCtx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.chart._breaksCanvasCtx.clip(),this.chart._breaksCanvasCtx.drawImage(this.maskCanvas,0,0,this.chart.width,this.chart.height),this.chart._breaksCanvasCtx.restore())},se.prototype.createMask=function(){if(this.scaleBreaks&&0<this.scaleBreaks._appliedBreaks.length){var r=this.scaleBreaks._appliedBreaks;Y?(this.maskCanvas=gi(this.chart.width,this.chart.height),this.maskCtx=this.maskCanvas.getContext("2d")):(this.maskCanvas=this.chart.plotArea.canvas,this.maskCtx=this.chart.plotArea.ctx),this.maskCtx.save(),this.maskCtx.beginPath(),this.maskCtx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.maskCtx.clip();for(var u=0;u<r.length;u++)r[u].endValue<this.viewportMinimum||r[u].startValue>this.viewportMaximum||isNaN(this.range)||r[u].render(this.maskCtx);this.maskCtx.restore()}},se.prototype.renderCrosshair=function(r,u){isFinite(this.minimum)&&isFinite(this.maximum)&&(this.crosshair.render(r,u),this.crosshair.dispatchEvent("updated",{chart:this.chart,crosshair:this.options,axis:this,value:this.crosshair.value},this))},se.prototype.showCrosshair=function(r){j(r)||r<this.viewportMinimum||r>this.viewportMaximum||("top"===this._position||"bottom"===this._position?this.crosshair.render(this.convertValueToPixel(r),null,r):this.crosshair.render(null,this.convertValueToPixel(r),r))},se.prototype.renderGrid=function(){if(this.gridThickness&&0<this.gridThickness){var r=this.chart.ctx;r.save();var u,l=this.chart.plotArea;if(r.lineWidth=this.gridThickness,r.strokeStyle=this.gridColor,r.setLineDash&&r.setLineDash(Ke(this.gridDashType,this.gridThickness)),"bottom"===this._position||"top"===this._position)for(o=0;o<this._labels.length;o++)this._labels[o].position<this.viewportMinimum||this._labels[o].position>this.viewportMaximum||this._labels[o].breaksLabelType||(r.beginPath(),u=this.getPixelCoordinatesOnAxis(this._labels[o].position),r.moveTo(u=r.lineWidth%2==1?.5+(u.x<<0):u.x<<0,l.y1<<0),r.lineTo(u,l.y2<<0),r.stroke());else if("left"===this._position||"right"===this._position)for(var o=0;o<this._labels.length;o++)this._labels[o].position<this.viewportMinimum||this._labels[o].position>this.viewportMaximum||this._labels[o].breaksLabelType||(r.beginPath(),u=this.getPixelCoordinatesOnAxis(this._labels[o].position),r.moveTo(l.x1<<0,u=r.lineWidth%2==1?.5+(u.y<<0):u.y<<0),r.lineTo(l.x2<<0,u),r.stroke());r.restore()}},se.prototype.renderAxisLine=function(){var h,p,r=this.chart.ctx,u=Y?this.chart._preRenderCtx:r,l=Math.ceil(this.tickThickness/(this.reversed?-2:2)),o=Math.ceil(this.tickThickness/(this.reversed?2:-2));if(u.save(),"bottom"===this._position||"top"===this._position){if(this.lineThickness){this.reversed?(h=this.lineCoordinates.x2,p=this.lineCoordinates.x1):(h=this.lineCoordinates.x1,p=this.lineCoordinates.x2),u.lineWidth=this.lineThickness,u.strokeStyle=this.lineColor?this.lineColor:"black",u.setLineDash&&u.setLineDash(Ke(this.lineDashType,this.lineThickness));var m=this.lineThickness%2==1?.5+(this.lineCoordinates.y1<<0):this.lineCoordinates.y1<<0;if(u.beginPath(),this.scaleBreaks&&!j(this.scaleBreaks.firstBreakIndex))if(j(this.scaleBreaks.lastBreakIndex))h=this.scaleBreaks._appliedBreaks[this.scaleBreaks.firstBreakIndex].endPixel+o;else for(var _=this.scaleBreaks.firstBreakIndex;_<=this.scaleBreaks.lastBreakIndex;_++)u.moveTo(h,m),u.lineTo(this.scaleBreaks._appliedBreaks[_].startPixel+l,m),h=this.scaleBreaks._appliedBreaks[_].endPixel+o;h&&(u.moveTo(h,m),u.lineTo(p,m)),u.stroke()}}else if(("left"===this._position||"right"===this._position)&&this.lineThickness){if(this.reversed?(h=this.lineCoordinates.y1,p=this.lineCoordinates.y2):(h=this.lineCoordinates.y2,p=this.lineCoordinates.y1),u.lineWidth=this.lineThickness,u.strokeStyle=this.lineColor,u.setLineDash&&u.setLineDash(Ke(this.lineDashType,this.lineThickness)),m=this.lineThickness%2==1?.5+(this.lineCoordinates.x1<<0):this.lineCoordinates.x1<<0,u.beginPath(),this.scaleBreaks&&!j(this.scaleBreaks.firstBreakIndex))if(j(this.scaleBreaks.lastBreakIndex))h=this.scaleBreaks._appliedBreaks[this.scaleBreaks.firstBreakIndex].endPixel+l;else for(_=this.scaleBreaks.firstBreakIndex;_<=this.scaleBreaks.lastBreakIndex;_++)u.moveTo(m,h),u.lineTo(m,this.scaleBreaks._appliedBreaks[_].startPixel+o),h=this.scaleBreaks._appliedBreaks[_].endPixel+l;h&&(u.moveTo(m,h),u.lineTo(m,p)),u.stroke()}Y&&(r.drawImage(this.chart._preRenderCanvas,0,0,this.chart.width,this.chart.height),this.chart._breaksCanvasCtx&&this.chart._breaksCanvasCtx.drawImage(this.chart._preRenderCanvas,0,0,this.chart.width,this.chart.height),u.clearRect(0,0,this.chart.width,this.chart.height)),u.restore()},se.prototype.getPixelCoordinatesOnAxis=function(r){var u={};return("bottom"===this._position||"top"===this._position)&&(u.x=this.convertValueToPixel(r),u.y=this.lineCoordinates.y1),("left"===this._position||"right"===this._position)&&(u.y=this.convertValueToPixel(r),u.x=this.lineCoordinates.x2),u},se.prototype.convertPixelToValue=function(r){if(void 0===r)return null;var u,l=0,h=0,o=(l=!0,this.scaleBreaks?this.scaleBreaks._appliedBreaks:[]);if(h="number"==typeof r?r:"left"===this._position||"right"===this._position?r.y:r.x,this.logarithmic){if(r=u=Math.pow(this.logarithmBase,(h-this.conversionParameters.reference)/this.conversionParameters.pixelPerUnit),h<=this.conversionParameters.reference==("left"===this._position||"right"===this._position)!==this.reversed){for(h=0;h<o.length;h++)if(!(o[h].endValue<this.conversionParameters.minimum))if(l)if(o[h].startValue<this.conversionParameters.minimum){if(1<o[h].size&&this.conversionParameters.minimum*Math.pow(o[h].endValue/o[h].startValue,Math.log(u)/Math.log(o[h].size))<o[h].endValue){r=Math.pow(o[h].endValue/o[h].startValue,Math.log(u)/Math.log(o[h].size));break}r*=o[h].endValue/this.conversionParameters.minimum/Math.pow(o[h].size,Math.log(o[h].endValue/this.conversionParameters.minimum)/Math.log(o[h].endValue/o[h].startValue)),u/=Math.pow(o[h].size,Math.log(o[h].endValue/this.conversionParameters.minimum)/Math.log(o[h].endValue/o[h].startValue)),l=!1}else{if(!(u>o[h].startValue/this.conversionParameters.minimum))break;if((u/=o[h].startValue/this.conversionParameters.minimum)<o[h].size){r*=Math.pow(o[h].endValue/o[h].startValue,1===o[h].size?1:Math.log(u)/Math.log(o[h].size))/u;break}r*=o[h].endValue/o[h].startValue/o[h].size,u/=o[h].size,l=!1}else{if(!(u>o[h].startValue/o[h-1].endValue))break;if((u/=o[h].startValue/o[h-1].endValue)<o[h].size){r*=Math.pow(o[h].endValue/o[h].startValue,1===o[h].size?1:Math.log(u)/Math.log(o[h].size))/u;break}r*=o[h].endValue/o[h].startValue/o[h].size,u/=o[h].size}}else for(h=o.length-1;0<=h;h--)if(!(o[h].startValue>this.conversionParameters.minimum))if(l)if(o[h].endValue>this.conversionParameters.minimum){if(1<o[h].size&&this.conversionParameters.minimum*Math.pow(o[h].endValue/o[h].startValue,Math.log(u)/Math.log(o[h].size))>o[h].startValue){r=Math.pow(o[h].endValue/o[h].startValue,Math.log(u)/Math.log(o[h].size));break}r*=o[h].startValue/this.conversionParameters.minimum*Math.pow(o[h].size,Math.log(o[h].startValue/this.conversionParameters.minimum)/Math.log(o[h].endValue/o[h].startValue))*u,u*=Math.pow(o[h].size,Math.log(this.conversionParameters.minimum/o[h].startValue)/Math.log(o[h].endValue/o[h].startValue)),l=!1}else{if(!(u<o[h].endValue/this.conversionParameters.minimum))break;if((u/=o[h].endValue/this.conversionParameters.minimum)>1/o[h].size){r*=Math.pow(o[h].endValue/o[h].startValue,1>=o[h].size?1:Math.log(u)/Math.log(o[h].size))*u;break}r/=o[h].endValue/o[h].startValue/o[h].size,u*=o[h].size,l=!1}else{if(!(u<o[h].endValue/o[h+1].startValue))break;if((u/=o[h].endValue/o[h+1].startValue)>1/o[h].size){r*=Math.pow(o[h].endValue/o[h].startValue,1>=o[h].size?1:Math.log(u)/Math.log(o[h].size))*u;break}r/=o[h].endValue/o[h].startValue/o[h].size,u*=o[h].size}l=r*this.viewportMinimum}else{if(r=u=(h-this.conversionParameters.reference)/this.conversionParameters.pixelPerUnit,h<=this.conversionParameters.reference==("left"===this._position||"right"===this._position)!==this.reversed){for(h=0;h<o.length;h++)if(!(o[h].endValue<this.conversionParameters.minimum))if(l)if(o[h].startValue<this.conversionParameters.minimum){if(o[h].size&&this.conversionParameters.minimum+u*(o[h].endValue-o[h].startValue)/o[h].size<o[h].endValue){r=0>=o[h].size?0:u*(o[h].endValue-o[h].startValue)/o[h].size;break}r+=o[h].endValue-this.conversionParameters.minimum-o[h].size*(o[h].endValue-this.conversionParameters.minimum)/(o[h].endValue-o[h].startValue),u-=o[h].size*(o[h].endValue-this.conversionParameters.minimum)/(o[h].endValue-o[h].startValue),l=!1}else{if(!(u>o[h].startValue-this.conversionParameters.minimum))break;if((u-=o[h].startValue-this.conversionParameters.minimum)<o[h].size){r+=(o[h].endValue-o[h].startValue)*(0===o[h].size?1:u/o[h].size)-u;break}r+=o[h].endValue-o[h].startValue-o[h].size,u-=o[h].size,l=!1}else{if(!(u>o[h].startValue-o[h-1].endValue))break;if((u-=o[h].startValue-o[h-1].endValue)<o[h].size){r+=(o[h].endValue-o[h].startValue)*(0===o[h].size?1:u/o[h].size)-u;break}r+=o[h].endValue-o[h].startValue-o[h].size,u-=o[h].size}}else for(h=o.length-1;0<=h;h--)if(!(o[h].startValue>this.conversionParameters.minimum))if(l)if(o[h].endValue>this.conversionParameters.minimum){if(o[h].size&&this.conversionParameters.minimum+u*(o[h].endValue-o[h].startValue)/o[h].size>o[h].startValue){r=0>=o[h].size?0:u*(o[h].endValue-o[h].startValue)/o[h].size;break}r+=o[h].startValue-this.conversionParameters.minimum+o[h].size*(this.conversionParameters.minimum-o[h].startValue)/(o[h].endValue-o[h].startValue),u+=o[h].size*(this.conversionParameters.minimum-o[h].startValue)/(o[h].endValue-o[h].startValue),l=!1}else{if(!(u<o[h].endValue-this.conversionParameters.minimum))break;if((u-=o[h].endValue-this.conversionParameters.minimum)>-1*o[h].size){r+=(o[h].endValue-o[h].startValue)*(0===o[h].size?1:u/o[h].size)+u;break}r-=o[h].endValue-o[h].startValue-o[h].size,u+=o[h].size,l=!1}else{if(!(u<o[h].endValue-o[h+1].startValue))break;if((u-=o[h].endValue-o[h+1].startValue)>-1*o[h].size){r+=(o[h].endValue-o[h].startValue)*(0===o[h].size?1:u/o[h].size)+u;break}r-=o[h].endValue-o[h].startValue-o[h].size,u+=o[h].size}l=this.conversionParameters.minimum+r}return l},se.prototype.convertValueToPixel=function(r){return r=this.getApparentDifference(this.conversionParameters.minimum,r,r),this.logarithmic?this.conversionParameters.reference+this.conversionParameters.pixelPerUnit*Math.log(r/this.conversionParameters.minimum)/this.conversionParameters.lnLogarithmBase+.5<<0:"axisX"===this.type?this.conversionParameters.reference+this.conversionParameters.pixelPerUnit*(r-this.conversionParameters.minimum)+.5<<0:this.conversionParameters.reference+this.conversionParameters.pixelPerUnit*(r-this.conversionParameters.minimum)+.5},se.prototype.getApparentDifference=function(r,u,l,o){var h=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[];if(this.logarithmic){l=j(l)?u/r:l;for(var p=0;p<h.length&&!(u<h[p].startValue);p++)r>h[p].endValue||(r<=h[p].startValue&&u>=h[p].endValue?l=l/h[p].endValue*h[p].startValue*h[p].size:r>=h[p].startValue&&u>=h[p].endValue?l=l/h[p].endValue*r*Math.pow(h[p].size,Math.log(h[p].endValue/r)/Math.log(h[p].endValue/h[p].startValue)):r<=h[p].startValue&&u<=h[p].endValue?l=l/u*h[p].startValue*Math.pow(h[p].size,Math.log(u/h[p].startValue)/Math.log(h[p].endValue/h[p].startValue)):!o&&r>h[p].startValue&&u<h[p].endValue&&(l=r*Math.pow(h[p].size,Math.log(u/r)/Math.log(h[p].endValue/h[p].startValue))))}else for(l=j(l)?Math.abs(u-r):l,p=0;p<h.length&&!(u<h[p].startValue);p++)r>h[p].endValue||(r<=h[p].startValue&&u>=h[p].endValue?l=l-h[p].endValue+h[p].startValue+h[p].size:r>h[p].startValue&&u>=h[p].endValue?l=l-h[p].endValue+r+h[p].size*(h[p].endValue-r)/(h[p].endValue-h[p].startValue):r<=h[p].startValue&&u<h[p].endValue?l=l-u+h[p].startValue+h[p].size*(u-h[p].startValue)/(h[p].endValue-h[p].startValue):!o&&r>h[p].startValue&&u<h[p].endValue&&(l=r+h[p].size*(u-r)/(h[p].endValue-h[p].startValue)));return l},se.prototype.setViewPortRange=function(r,u){this.sessionVariables.newViewportMinimum=this.viewportMinimum=Math.min(r,u),this.sessionVariables.newViewportMaximum=this.viewportMaximum=Math.max(r,u)},se.prototype.getXValueAt=function(r){if(!r)return null;var u=null;return"left"===this._position?u=this.convertPixelToValue(r.y):"bottom"===this._position&&(u=this.convertPixelToValue(r.x)),u},se.prototype.calculateValueToPixelConversionParameters=function(r){r=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[];var u={pixelPerUnit:null,minimum:null,reference:null},l=this.lineCoordinates.width,o=this.lineCoordinates.height;if(l="bottom"===this._position||"top"===this._position?l:o,o=Math.abs(this.range),this.logarithmic)for(var h=0;h<r.length&&!(this.viewportMaximum<r[h].startValue);h++)this.viewportMinimum>r[h].endValue||(this.viewportMinimum>=r[h].startValue&&this.viewportMaximum<=r[h].endValue?l=0:this.viewportMinimum<=r[h].startValue&&this.viewportMaximum>=r[h].endValue?(o=o/r[h].endValue*r[h].startValue,l=0<r[h].spacing.toString().indexOf("%")?l*(1-parseFloat(r[h].spacing)/100):l-Math.min(r[h].spacing,.1*l)):this.viewportMinimum>r[h].startValue&&this.viewportMaximum>=r[h].endValue?(o=o/r[h].endValue*this.viewportMinimum,l=0<r[h].spacing.toString().indexOf("%")?l*(1-parseFloat(r[h].spacing)/100*Math.log(r[h].endValue/this.viewportMinimum)/Math.log(r[h].endValue/r[h].startValue)):l-Math.min(r[h].spacing,.1*l)*Math.log(r[h].endValue/this.viewportMinimum)/Math.log(r[h].endValue/r[h].startValue)):this.viewportMinimum<=r[h].startValue&&this.viewportMaximum<r[h].endValue&&(o=o/this.viewportMaximum*r[h].startValue,l=0<r[h].spacing.toString().indexOf("%")?l*(1-parseFloat(r[h].spacing)/100*Math.log(this.viewportMaximum/r[h].startValue)/Math.log(r[h].endValue/r[h].startValue)):l-Math.min(r[h].spacing,.1*l)*Math.log(this.viewportMaximum/r[h].startValue)/Math.log(r[h].endValue/r[h].startValue)));else for(h=0;h<r.length&&!(this.viewportMaximum<r[h].startValue);h++)this.viewportMinimum>r[h].endValue||(this.viewportMinimum>=r[h].startValue&&this.viewportMaximum<=r[h].endValue?l=0:this.viewportMinimum<=r[h].startValue&&this.viewportMaximum>=r[h].endValue?(o=o-r[h].endValue+r[h].startValue,l=0<r[h].spacing.toString().indexOf("%")?l*(1-parseFloat(r[h].spacing)/100):l-Math.min(r[h].spacing,.1*l)):this.viewportMinimum>r[h].startValue&&this.viewportMaximum>=r[h].endValue?(o=o-r[h].endValue+this.viewportMinimum,l=0<r[h].spacing.toString().indexOf("%")?l*(1-parseFloat(r[h].spacing)/100*(r[h].endValue-this.viewportMinimum)/(r[h].endValue-r[h].startValue)):l-Math.min(r[h].spacing,.1*l)*(r[h].endValue-this.viewportMinimum)/(r[h].endValue-r[h].startValue)):this.viewportMinimum<=r[h].startValue&&this.viewportMaximum<r[h].endValue&&(o=o-this.viewportMaximum+r[h].startValue,l=0<r[h].spacing.toString().indexOf("%")?l*(1-parseFloat(r[h].spacing)/100*(this.viewportMaximum-r[h].startValue)/(r[h].endValue-r[h].startValue)):l-Math.min(r[h].spacing,.1*l)*(this.viewportMaximum-r[h].startValue)/(r[h].endValue-r[h].startValue)));u.minimum=this.viewportMinimum,u.maximum=this.viewportMaximum,u.range=o,("bottom"===this._position||"top"===this._position)&&(this.logarithmic?(u.lnLogarithmBase=Math.log(this.logarithmBase),u.pixelPerUnit=(this.reversed?-1:1)*l*u.lnLogarithmBase/Math.log(Math.abs(o))):u.pixelPerUnit=(this.reversed?-1:1)*l/Math.abs(o),u.reference=this.reversed?this.lineCoordinates.x2:this.lineCoordinates.x1),("left"===this._position||"right"===this._position)&&(this.logarithmic?(u.lnLogarithmBase=Math.log(this.logarithmBase),u.pixelPerUnit=(this.reversed?1:-1)*l*u.lnLogarithmBase/Math.log(Math.abs(o))):u.pixelPerUnit=(this.reversed?1:-1)*l/Math.abs(o),u.reference=this.reversed?this.lineCoordinates.y1:this.lineCoordinates.y2),this.conversionParameters=u},se.prototype.calculateAxisParameters=function(){if(this.logarithmic)this.calculateLogarithmicAxisParameters();else{var l=this.chart.layoutManager.getFreeSpace(),r=!1,u=!1;"bottom"===this._position||"top"===this._position?(this.maxWidth=l.width,this.maxHeight=l.height):(this.maxWidth=l.height,this.maxHeight=l.width),l="axisX"===this.type?"xySwapped"===this.chart.plotInfo.axisPlacement?62:70:"xySwapped"===this.chart.plotInfo.axisPlacement?50:40;var o,h,p,m=4;if("axisX"===this.type&&(m=600>this.maxWidth?8:6),l=Math.max(m,Math.floor(this.maxWidth/l)),m=0,!j(this.options.viewportMinimum)&&!j(this.options.viewportMaximum)&&this.options.viewportMinimum>=this.options.viewportMaximum&&(this.viewportMinimum=this.viewportMaximum=null),!j(this.options.viewportMinimum)||j(this.sessionVariables.newViewportMinimum)||isNaN(this.sessionVariables.newViewportMinimum)?(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum=this.minimum):this.viewportMinimum=this.sessionVariables.newViewportMinimum,!j(this.options.viewportMaximum)||j(this.sessionVariables.newViewportMaximum)||isNaN(this.sessionVariables.newViewportMaximum)?(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum=this.maximum):this.viewportMaximum=this.sessionVariables.newViewportMaximum,this.scaleBreaks)for(m=0;m<this.scaleBreaks._appliedBreaks.length;m++)if((!j(this.sessionVariables.newViewportMinimum)&&this.sessionVariables.newViewportMinimum>=this.scaleBreaks._appliedBreaks[m].startValue||!j(this.options.minimum)&&this.options.minimum>=this.scaleBreaks._appliedBreaks[m].startValue||!j(this.options.viewportMinimum)&&this.viewportMinimum>=this.scaleBreaks._appliedBreaks[m].startValue)&&(!j(this.sessionVariables.newViewportMaximum)&&this.sessionVariables.newViewportMaximum<=this.scaleBreaks._appliedBreaks[m].endValue||!j(this.options.maximum)&&this.options.maximum<=this.scaleBreaks._appliedBreaks[m].endValue||!j(this.options.viewportMaximum)&&this.viewportMaximum<=this.scaleBreaks._appliedBreaks[m].endValue)){this.scaleBreaks._appliedBreaks.splice(m,1);break}if("axisX"===this.type){if(this.dataSeries&&0<this.dataSeries.length)for(o=0;o<this.dataSeries.length;o++)"dateTime"===this.dataSeries[o].xValueType&&(u=!0);(h=null!==this.viewportMaximum?this.viewportMaximum:this.dataInfo.viewPortMax)-(o=null!==this.viewportMinimum?this.viewportMinimum:this.dataInfo.viewPortMin)==0&&(h+=m=void 0===this.options.interval?.4:this.options.interval,o-=m),this.dataInfo.minDiff!==1/0?p=this.dataInfo.minDiff:1<h-o?p=.5*Math.abs(h-o):(p=1,u&&(r=!0))}else"axisY"===this.type&&(o=null!==this.viewportMinimum?this.viewportMinimum:this.dataInfo.viewPortMin,h=null!==this.viewportMaximum?this.viewportMaximum:this.dataInfo.viewPortMax,isFinite(o)||isFinite(h)?isFinite(o)?isFinite(h)||(h=o):o=h:(h=void 0===this.options.interval?-1/0:this.options.interval,o=void 0!==this.options.interval||isFinite(this.dataInfo.minDiff)?0:1/0),0===o&&0===h?(h+=9,o=0):h-o==0?(h+=m=Math.min(Math.abs(.01*Math.abs(h)),5),o-=m):o>h?(m=Math.min(.01*Math.abs(this.getApparentDifference(h,o,null,!0)),5),0<=h?o=h-m:h=isFinite(o)?o+m:0):(m=Math.min(.01*Math.abs(this.getApparentDifference(o,h,null,!0)),.05),0!==h&&(h+=m),0!==o&&(o-=m)),p=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:1<h-o?.5*Math.abs(h-o):1,this.includeZero&&(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&0<o&&(o=0),this.includeZero&&(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&0>h&&(h=0));m=this.getApparentDifference(isNaN(this.viewportMinimum)||null===this.viewportMinimum?o:this.viewportMinimum,isNaN(this.viewportMaximum)||null===this.viewportMaximum?h:this.viewportMaximum,null,!0),"axisX"===this.type&&u?(this.valueType="dateTime",this.intervalType||(m/1<=l?(this.interval=1,this.intervalType="millisecond"):m/2<=l?(this.interval=2,this.intervalType="millisecond"):m/5<=l?(this.interval=5,this.intervalType="millisecond"):m/10<=l?(this.interval=10,this.intervalType="millisecond"):m/20<=l?(this.interval=20,this.intervalType="millisecond"):m/50<=l?(this.interval=50,this.intervalType="millisecond"):m/100<=l?(this.interval=100,this.intervalType="millisecond"):m/200<=l?(this.interval=200,this.intervalType="millisecond"):m/250<=l?(this.interval=250,this.intervalType="millisecond"):m/300<=l?(this.interval=300,this.intervalType="millisecond"):m/400<=l?(this.interval=400,this.intervalType="millisecond"):m/500<=l?(this.interval=500,this.intervalType="millisecond"):m/(1*Je.secondDuration)<=l?(this.interval=1,this.intervalType="second"):m/(2*Je.secondDuration)<=l?(this.interval=2,this.intervalType="second"):m/(5*Je.secondDuration)<=l?(this.interval=5,this.intervalType="second"):m/(10*Je.secondDuration)<=l?(this.interval=10,this.intervalType="second"):m/(15*Je.secondDuration)<=l?(this.interval=15,this.intervalType="second"):m/(20*Je.secondDuration)<=l?(this.interval=20,this.intervalType="second"):m/(30*Je.secondDuration)<=l?(this.interval=30,this.intervalType="second"):m/(1*Je.minuteDuration)<=l?(this.interval=1,this.intervalType="minute"):m/(2*Je.minuteDuration)<=l?(this.interval=2,this.intervalType="minute"):m/(5*Je.minuteDuration)<=l?(this.interval=5,this.intervalType="minute"):m/(10*Je.minuteDuration)<=l?(this.interval=10,this.intervalType="minute"):m/(15*Je.minuteDuration)<=l?(this.interval=15,this.intervalType="minute"):m/(20*Je.minuteDuration)<=l?(this.interval=20,this.intervalType="minute"):m/(30*Je.minuteDuration)<=l?(this.interval=30,this.intervalType="minute"):m/(1*Je.hourDuration)<=l?(this.interval=1,this.intervalType="hour"):m/(2*Je.hourDuration)<=l?(this.interval=2,this.intervalType="hour"):m/(3*Je.hourDuration)<=l?(this.interval=3,this.intervalType="hour"):m/(6*Je.hourDuration)<=l?(this.interval=6,this.intervalType="hour"):m/(1*Je.dayDuration)<=l?(this.interval=1,this.intervalType="day"):m/(2*Je.dayDuration)<=l?(this.interval=2,this.intervalType="day"):m/(4*Je.dayDuration)<=l?(this.interval=4,this.intervalType="day"):m/(1*Je.weekDuration)<=l?(this.interval=1,this.intervalType="week"):m/(2*Je.weekDuration)<=l?(this.interval=2,this.intervalType="week"):m/(3*Je.weekDuration)<=l?(this.interval=3,this.intervalType="week"):m/(1*Je.monthDuration)<=l?(this.interval=1,this.intervalType="month"):m/(2*Je.monthDuration)<=l?(this.interval=2,this.intervalType="month"):m/(3*Je.monthDuration)<=l?(this.interval=3,this.intervalType="month"):m/(6*Je.monthDuration)<=l?(this.interval=6,this.intervalType="month"):(this.interval=m/(1*Je.yearDuration)<=l?1:m/(2*Je.yearDuration)<=l?2:m/(4*Je.yearDuration)<=l?4:Math.floor(se.getNiceNumber(m/(l-1),!0)/Je.yearDuration),this.intervalType="year")),(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum=o-p/2),(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum=h+p/2),r?this.autoValueFormatString="MMM DD YYYY HH:mm":"year"===this.intervalType?this.autoValueFormatString="YYYY":"month"===this.intervalType?this.autoValueFormatString="MMM YYYY":"week"===this.intervalType||"day"===this.intervalType?this.autoValueFormatString="MMM DD YYYY":"hour"===this.intervalType||"minute"===this.intervalType?this.autoValueFormatString="hh:mm TT":"second"===this.intervalType?this.autoValueFormatString="hh:mm:ss TT":"millisecond"===this.intervalType&&(this.autoValueFormatString="fff'ms'"),this.valueFormatString||(this.valueFormatString=this.autoValueFormatString)):(this.intervalType="number",m=se.getNiceNumber(m,!1),this.interval=this.options&&0<this.options.interval?this.options.interval:se.getNiceNumber(m/(l-1),!0),(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum="axisX"===this.type?o-p/2:Math.floor(o/this.interval)*this.interval),(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum="axisX"===this.type?h+p/2:Math.ceil(h/this.interval)*this.interval),0===this.viewportMaximum&&0===this.viewportMinimum&&(0===this.options.viewportMinimum?this.viewportMaximum+=10:0===this.options.viewportMaximum&&(this.viewportMinimum-=10),this.options&&void 0===this.options.interval&&(this.interval=se.getNiceNumber((this.viewportMaximum-this.viewportMinimum)/(l-1),!0)))),(null===this.minimum||null===this.maximum)&&("axisX"===this.type?((h=null!==this.maximum?this.maximum:this.dataInfo.max)-(o=null!==this.minimum?this.minimum:this.dataInfo.min)==0&&(h+=m=void 0===this.options.interval?.4:this.options.interval,o-=m),p=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:1<h-o?.5*Math.abs(h-o):1):"axisY"===this.type&&(o=null!==this.minimum?this.minimum:this.dataInfo.min,h=null!==this.maximum?this.maximum:this.dataInfo.max,isFinite(o)||isFinite(h)?0===o&&0===h?(h+=9,o=0):h-o==0?(h+=m=Math.min(Math.abs(.01*Math.abs(h)),5),o-=m):o>h?(m=Math.min(.01*Math.abs(this.getApparentDifference(h,o,null,!0)),5),0<=h?o=h-m:h=isFinite(o)?o+m:0):(m=Math.min(.01*Math.abs(this.getApparentDifference(o,h,null,!0)),.05),0!==h&&(h+=m),0!==o&&(o-=m)):(h=void 0===this.options.interval?-1/0:this.options.interval,o=void 0!==this.options.interval||isFinite(this.dataInfo.minDiff)?0:1/0),p=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:1<h-o?.5*Math.abs(h-o):1,this.includeZero&&(null===this.minimum||isNaN(this.minimum))&&0<o&&(o=0),this.includeZero&&(null===this.maximum||isNaN(this.maximum))&&0>h&&(h=0)),Math.abs(this.getApparentDifference(o,h,null,!0)),"axisX"===this.type&&u?(this.valueType="dateTime",(null===this.minimum||isNaN(this.minimum))&&(this.minimum=o-p/2,this.minimum=Math.min(this.minimum,null===this.sessionVariables.viewportMinimum||isNaN(this.sessionVariables.viewportMinimum)?1/0:this.sessionVariables.viewportMinimum)),(null===this.maximum||isNaN(this.maximum))&&(this.maximum=h+p/2,this.maximum=Math.max(this.maximum,null===this.sessionVariables.viewportMaximum||isNaN(this.sessionVariables.viewportMaximum)?-1/0:this.sessionVariables.viewportMaximum))):(this.intervalType=this.valueType="number",null===this.minimum&&(this.minimum="axisX"===this.type?o-p/2:Math.floor(o/this.interval)*this.interval,this.minimum=Math.min(this.minimum,null===this.sessionVariables.viewportMinimum||isNaN(this.sessionVariables.viewportMinimum)?1/0:this.sessionVariables.viewportMinimum)),null===this.maximum&&(this.maximum="axisX"===this.type?h+p/2:Math.ceil(h/this.interval)*this.interval,this.maximum=Math.max(this.maximum,null===this.sessionVariables.viewportMaximum||isNaN(this.sessionVariables.viewportMaximum)?-1/0:this.sessionVariables.viewportMaximum)),0===this.maximum&&0===this.minimum&&(0===this.options.minimum?this.maximum+=10:0===this.options.maximum&&(this.minimum-=10)))),j(this.sessionVariables.newViewportMinimum)&&(this.viewportMinimum=Math.max(this.viewportMinimum,this.minimum)),j(this.sessionVariables.newViewportMaximum)&&(this.viewportMaximum=Math.min(this.viewportMaximum,this.maximum)),this.range=this.viewportMaximum-this.viewportMinimum,this.intervalStartPosition="axisX"===this.type&&u?this.getLabelStartPoint(new Date(this.viewportMinimum),this.intervalType,this.interval):Math.floor((this.viewportMinimum+.2*this.interval)/this.interval)*this.interval,this.valueFormatString||(this.valueFormatString=se.generateValueFormatString(this.range,2))}},se.prototype.calculateLogarithmicAxisParameters=function(){var u,o,h,p,m,l=this.chart.layoutManager.getFreeSpace(),r=Math.log(this.logarithmBase);if("bottom"===this._position||"top"===this._position?(this.maxWidth=l.width,this.maxHeight=l.height):(this.maxWidth=l.height,this.maxHeight=l.width),l="axisX"===this.type?500>this.maxWidth?7:Math.max(7,Math.floor(this.maxWidth/100)):Math.max(Math.floor(this.maxWidth/50),3),m=1,(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum=this.minimum),(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum=this.maximum),this.scaleBreaks)for(m=0;m<this.scaleBreaks._appliedBreaks.length;m++)if((!j(this.sessionVariables.newViewportMinimum)&&this.sessionVariables.newViewportMinimum>=this.scaleBreaks._appliedBreaks[m].startValue||!j(this.options.minimum)&&this.options.minimum>=this.scaleBreaks._appliedBreaks[m].startValue||!j(this.options.viewportMinimum)&&this.viewportMinimum>=this.scaleBreaks._appliedBreaks[m].startValue)&&(!j(this.sessionVariables.newViewportMaximum)&&this.sessionVariables.newViewportMaximum<=this.scaleBreaks._appliedBreaks[m].endValue||!j(this.options.maximum)&&this.options.maximum<=this.scaleBreaks._appliedBreaks[m].endValue||!j(this.options.viewportMaximum)&&this.viewportMaximum<=this.scaleBreaks._appliedBreaks[m].endValue)){this.scaleBreaks._appliedBreaks.splice(m,1);break}"axisX"===this.type?((h=null!==this.viewportMaximum?this.viewportMaximum:this.dataInfo.viewPortMax)/(o=null!==this.viewportMinimum?this.viewportMinimum:this.dataInfo.viewPortMin)==1&&(h*=m=Math.pow(this.logarithmBase,void 0===this.options.interval?.4:this.options.interval),o/=m),p=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:h/o>this.logarithmBase?h/o*Math.pow(this.logarithmBase,.5):this.logarithmBase):"axisY"===this.type&&(h=null!==this.viewportMaximum?this.viewportMaximum:this.dataInfo.viewPortMax,0>=(o=null!==this.viewportMinimum?this.viewportMinimum:this.dataInfo.viewPortMin)&&!isFinite(h)?(h=void 0===this.options.interval?0:this.options.interval,o=1):0>=o?o=h:isFinite(h)||(h=o),1===o&&1===h?(h*=this.logarithmBase-1/this.logarithmBase,o=1):h/o==1?(h*=m=Math.min(h*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,5)),o/=m):o>h?(m=Math.min(o/h*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,5)),1<=h?o=h/m:h=o*m):(m=Math.min(h/o*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,.04)),1!==h&&(h*=m),1!==o&&(o/=m)),p=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:h/o>this.logarithmBase?h/o*Math.pow(this.logarithmBase,.5):this.logarithmBase,this.includeZero&&(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&1<o&&(o=1),this.includeZero&&(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&1>h&&(h=1)),m=(isNaN(this.viewportMaximum)||null===this.viewportMaximum?h:this.viewportMaximum)/(isNaN(this.viewportMinimum)||null===this.viewportMinimum?o:this.viewportMinimum);var _=(isNaN(this.viewportMaximum)||null===this.viewportMaximum?h:this.viewportMaximum)-(isNaN(this.viewportMinimum)||null===this.viewportMinimum?o:this.viewportMinimum);if(this.intervalType="number",m=Math.pow(this.logarithmBase,se.getNiceNumber(Math.abs(Math.log(m)/r),!1)),this.options&&0<this.options.interval?this.interval=this.options.interval:(this.interval=se.getNiceExponent(Math.log(m)/r/(l-1),!0),u=se.getNiceNumber(_/(l-1),!0)),(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum="axisX"===this.type?o/Math.sqrt(p):Math.pow(this.logarithmBase,this.interval*Math.floor(Math.log(o)/r/this.interval))),(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum="axisX"===this.type?h*Math.sqrt(p):Math.pow(this.logarithmBase,this.interval*Math.ceil(Math.log(h)/r/this.interval))),1===this.viewportMaximum&&1===this.viewportMinimum&&(1===this.options.viewportMinimum?this.viewportMaximum*=this.logarithmBase-1/this.logarithmBase:1===this.options.viewportMaximum&&(this.viewportMinimum/=this.logarithmBase-1/this.logarithmBase),this.options&&void 0===this.options.interval&&(this.interval=se.getNiceExponent(Math.ceil(Math.log(m)/r)/(l-1)),u=se.getNiceNumber((this.viewportMaximum-this.viewportMinimum)/(l-1),!0))),(null===this.minimum||null===this.maximum)&&("axisX"===this.type?((h=null!==this.maximum?this.maximum:this.dataInfo.max)/(o=null!==this.minimum?this.minimum:this.dataInfo.min)==1&&(h*=m=Math.pow(this.logarithmBase,void 0===this.options.interval?.4:this.options.interval),o/=m),p=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:h/o>this.logarithmBase?h/o*Math.pow(this.logarithmBase,.5):this.logarithmBase):"axisY"===this.type&&(o=null!==this.minimum?this.minimum:this.dataInfo.min,h=null!==this.maximum?this.maximum:this.dataInfo.max,isFinite(o)||isFinite(h)?1===o&&1===h?(h*=this.logarithmBase,o/=this.logarithmBase):h/o==1?(h*=m=Math.pow(this.logarithmBase,this.interval),o/=m):o>h?(m=Math.min(o/h*.01,5),1<=h?o=h/m:h=o*m):(m=Math.min(h/o*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,.04)),1!==h&&(h*=m),1!==o&&(o/=m)):(h=void 0===this.options.interval?0:this.options.interval,o=1),p=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:h/o>this.logarithmBase?h/o*Math.pow(this.logarithmBase,.5):this.logarithmBase,this.includeZero&&(null===this.minimum||isNaN(this.minimum))&&1<o&&(o=1),this.includeZero&&(null===this.maximum||isNaN(this.maximum))&&1>h&&(h=1)),this.intervalType="number",null===this.minimum&&(this.minimum="axisX"===this.type?o/Math.sqrt(p):Math.pow(this.logarithmBase,this.interval*Math.floor(Math.log(o)/r/this.interval)),j(null===this.sessionVariables.viewportMinimum||isNaN(this.sessionVariables.viewportMinimum)?void 0===this.sessionVariables.newViewportMinimum?1/0:this.sessionVariables.newViewportMinimum:this.sessionVariables.viewportMinimum)||(this.minimum=Math.min(this.minimum,null===this.sessionVariables.viewportMinimum||isNaN(this.sessionVariables.viewportMinimum)?void 0===this.sessionVariables.newViewportMinimum?1/0:this.sessionVariables.newViewportMinimum:this.sessionVariables.viewportMinimum))),null===this.maximum&&(this.maximum="axisX"===this.type?h*Math.sqrt(p):Math.pow(this.logarithmBase,this.interval*Math.ceil(Math.log(h)/r/this.interval)),j(null===this.sessionVariables.viewportMaximum||isNaN(this.sessionVariables.viewportMaximum)?void 0===this.sessionVariables.newViewportMaximum?0:this.sessionVariables.newViewportMaximum:this.sessionVariables.viewportMaximum)||(this.maximum=Math.max(this.maximum,null===this.sessionVariables.viewportMaximum||isNaN(this.sessionVariables.viewportMaximum)?void 0===this.sessionVariables.newViewportMaximum?0:this.sessionVariables.newViewportMaximum:this.sessionVariables.viewportMaximum))),1===this.maximum&&1===this.minimum&&(1===this.options.minimum?this.maximum*=this.logarithmBase-1/this.logarithmBase:1===this.options.maximum&&(this.minimum/=this.logarithmBase-1/this.logarithmBase))),this.viewportMinimum=Math.max(this.viewportMinimum,this.minimum),this.viewportMaximum=Math.min(this.viewportMaximum,this.maximum),this.viewportMinimum>this.viewportMaximum&&(!this.options.viewportMinimum&&!this.options.minimum||this.options.viewportMaximum||this.options.maximum?this.options.viewportMinimum||this.options.minimum||!this.options.viewportMaximum&&!this.options.maximum||(this.viewportMinimum=this.minimum=(this.options.viewportMaximum||this.options.maximum)/Math.pow(this.logarithmBase,2*Math.ceil(this.interval))):this.viewportMaximum=this.maximum=this.options.viewportMinimum||this.options.minimum),o=Math.pow(this.logarithmBase,Math.floor(Math.log(this.viewportMinimum)/(r*this.interval)+.2)*this.interval),this.range=this.viewportMaximum/this.viewportMinimum,this.noTicks=l,!this.options.interval&&this.range<Math.pow(this.logarithmBase,8>this.viewportMaximum||3>l?2:3)){for(r=Math.floor(this.viewportMinimum/u+.5)*u;r<this.viewportMinimum;)r+=u;this.equidistantInterval=!1,this.intervalStartPosition=r,this.interval=u}else this.options.interval||(u=Math.ceil(this.interval),this.range>this.interval&&(this.interval=u,o=Math.pow(this.logarithmBase,Math.floor(Math.log(this.viewportMinimum)/(r*this.interval)+.2)*this.interval))),this.equidistantInterval=!0,this.intervalStartPosition=o;if(!this.valueFormatString&&(this.valueFormatString="#,##0.##",1>this.viewportMinimum)&&(r=Math.floor(Math.abs(Math.log(this.viewportMinimum)/Math.LN10))+2,(isNaN(r)||!isFinite(r))&&(r=2),2<r))for(m=0;m<r-2;m++)this.valueFormatString+="#"},se.generateValueFormatString=function(r,u){var l="#,##0.",o=u;1>r&&(o+=Math.floor(Math.abs(Math.log(r)/Math.LN10)),isNaN(o)||!isFinite(o))&&(o=u);for(var h=0;h<o;h++)l+="#";return l},se.getNiceExponent=function(r,u){var l=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,l);return o=0>l?1>=o?1:5>=o?5:10:Math.max(Math.floor(o),1),Number(-20>l?o*Math.pow(10,l):(o*Math.pow(10,l)).toFixed(20))},se.getNiceNumber=function(r,u){var l=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,l);return o=u?1.5>o?1:3>o?2:7>o?5:10:1>=o?1:2>=o?2:5>=o?5:10,Number(-20>l?o*Math.pow(10,l):(o*Math.pow(10,l)).toFixed(20))},se.prototype.getLabelStartPoint=function(){var r=Je[this.intervalType+"Duration"]*this.interval;return r=new Date(Math.floor(this.viewportMinimum/r)*r),"millisecond"!==this.intervalType&&("second"===this.intervalType?0<r.getMilliseconds()&&(r.setSeconds(r.getSeconds()+1),r.setMilliseconds(0)):"minute"===this.intervalType?(0<r.getSeconds()||0<r.getMilliseconds())&&(r.setMinutes(r.getMinutes()+1),r.setSeconds(0),r.setMilliseconds(0)):"hour"===this.intervalType?(0<r.getMinutes()||0<r.getSeconds()||0<r.getMilliseconds())&&(r.setHours(r.getHours()+1),r.setMinutes(0),r.setSeconds(0),r.setMilliseconds(0)):"day"===this.intervalType?(0<r.getHours()||0<r.getMinutes()||0<r.getSeconds()||0<r.getMilliseconds())&&(r.setDate(r.getDate()+1),r.setHours(0),r.setMinutes(0),r.setSeconds(0),r.setMilliseconds(0)):"week"===this.intervalType?(0<r.getDay()||0<r.getHours()||0<r.getMinutes()||0<r.getSeconds()||0<r.getMilliseconds())&&(r.setDate(r.getDate()+(7-r.getDay())),r.setHours(0),r.setMinutes(0),r.setSeconds(0),r.setMilliseconds(0)):"month"===this.intervalType?(1<r.getDate()||0<r.getHours()||0<r.getMinutes()||0<r.getSeconds()||0<r.getMilliseconds())&&(r.setMonth(r.getMonth()+1),r.setDate(1),r.setHours(0),r.setMinutes(0),r.setSeconds(0),r.setMilliseconds(0)):"year"===this.intervalType&&(0<r.getMonth()||1<r.getDate()||0<r.getHours()||0<r.getMinutes()||0<r.getSeconds()||0<r.getMilliseconds())&&(r.setFullYear(r.getFullYear()+1),r.setMonth(0),r.setDate(1),r.setHours(0),r.setMinutes(0),r.setSeconds(0),r.setMilliseconds(0))),r},fi(tt,Ot),fi(st,Ot),st.prototype.createUserOptions=function(r){if(void 0!==r||this.options._isPlaceholder){var u=0;this.parent.options._isPlaceholder&&this.parent.createUserOptions(),this.options._isPlaceholder||(cn(this.parent[this.optionsName]),u=this.parent.options[this.optionsName].indexOf(this.options)),this.options=void 0===r?{}:r,this.parent.options[this.optionsName][u]=this.options}},st.prototype.render=function(r){if(0!==this.spacing||0!==this.options.lineThickness&&(void 0!==this.options.lineThickness||0!==this.parent.lineThickness)){var u=this.ctx,l=this.ctx.globalAlpha;this.ctx=r||this.ctx,this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.ctx.clip();var p,m,_,w,x,g,o=this.scaleBreaks.parent.getPixelCoordinatesOnAxis(this.startValue),h=this.scaleBreaks.parent.getPixelCoordinatesOnAxis(this.endValue);this.ctx.strokeStyle=this.lineColor,this.ctx.fillStyle=this.color,this.ctx.beginPath(),this.ctx.globalAlpha=1,Ge(this.id),r=Math.max(this.spacing,3);var y=Math.max(0,this.lineThickness);if(this.ctx.lineWidth=y,this.ctx.setLineDash&&this.ctx.setLineDash(Ke(this.lineDashType,y)),"bottom"===this.scaleBreaks.parent._position||"top"===this.scaleBreaks.parent._position){if(m=y%2==1?.5+(h.x<<0):h.x<<0,"top"===this.scaleBreaks.parent._position?(h=this.chart.plotArea.y1,_=this.chart.plotArea.y2+y/2+.5<<0):(h=this.chart.plotArea.y2,_=this.chart.plotArea.y1-y/2+.5<<0,r*=-1),this.bounds={x1:(o=y%2==1?.5+(o.x<<0):o.x<<0)-y/2,y1:h,x2:m+y/2,y2:_},this.ctx.moveTo(o,h),"straight"===this.type||"top"===this.scaleBreaks.parent._position&&0>=r||"bottom"===this.scaleBreaks.parent._position&&0<=r)this.ctx.lineTo(o,_),this.ctx.lineTo(m,_),this.ctx.lineTo(m,h);else if("wavy"===this.type){w=o,p=.5,g=(_-(x=h))/r/3;for(var b=0;b<g;b++)this.ctx.bezierCurveTo(w+p*r,x+r,w+p*r,x+2*r,w,x+3*r),x+=3*r,p*=-1;for(this.ctx.bezierCurveTo(w+p*r,x+r,w+p*r,x+2*r,w,x+3*r),p*=-1,this.ctx.lineTo(w=m,x),b=0;b<g;b++)this.ctx.bezierCurveTo(w+p*r,x-r,w+p*r,x-2*r,w,x-3*r),x-=3*r,p*=-1}else if("zigzag"===this.type){for(p=-1,w=o+r,g=(_-(x=h+r))/r/2,b=0;b<g;b++)this.ctx.lineTo(w,x),w+=2*p*r,x+=2*r,p*=-1;for(this.ctx.lineTo(w,x),w+=m-o,b=0;b<g+1;b++)this.ctx.lineTo(w,x),w+=2*p*r,x-=2*r,p*=-1;this.ctx.lineTo(w+p*r,x+r)}}else if("left"===this.scaleBreaks.parent._position||"right"===this.scaleBreaks.parent._position)if(_=y%2==1?.5+(o.y<<0):o.y<<0,"left"===this.scaleBreaks.parent._position?(o=this.chart.plotArea.x1,m=this.chart.plotArea.x2+y/2+.5<<0):(o=this.chart.plotArea.x2,m=this.chart.plotArea.x1-y/2+.5<<0,r*=-1),this.bounds={x1:o,y1:(h=y%2==1?.5+(h.y<<0):h.y<<0)-y/2,x2:m,y2:_+y/2},this.ctx.moveTo(o,h),"straight"===this.type||"left"===this.scaleBreaks.parent._position&&0>=r||"right"===this.scaleBreaks.parent._position&&0<=r)this.ctx.lineTo(m,h),this.ctx.lineTo(m,_),this.ctx.lineTo(o,_);else if("wavy"===this.type){for(x=h,p=.5,g=(m-(w=o))/r/3,b=0;b<g;b++)this.ctx.bezierCurveTo(w+r,x+p*r,w+2*r,x+p*r,w+3*r,x),w+=3*r,p*=-1;for(this.ctx.bezierCurveTo(w+r,x+p*r,w+2*r,x+p*r,w+3*r,x),p*=-1,this.ctx.lineTo(w,x=_),b=0;b<g;b++)this.ctx.bezierCurveTo(w-r,x+p*r,w-2*r,x+p*r,w-3*r,x),w-=3*r,p*=-1}else if("zigzag"===this.type){for(p=1,x=h-r,g=(m-(w=o+r))/r/2,b=0;b<g;b++)this.ctx.lineTo(w,x),x+=2*p*r,w+=2*r,p*=-1;for(this.ctx.lineTo(w,x),x+=_-h,b=0;b<g+1;b++)this.ctx.lineTo(w,x),x+=2*p*r,w-=2*r,p*=-1;this.ctx.lineTo(w+r,x+p*r)}0<y&&this.ctx.stroke(),this.ctx.closePath(),this.ctx.globalAlpha=this.fillOpacity,this.ctx.globalCompositeOperation="destination-over",this.ctx.fill(),this.ctx.restore(),this.ctx.globalAlpha=l,this.ctx=u}},fi(Ye,Ot),Ye.prototype.createUserOptions=function(r){if(void 0!==r||this.options._isPlaceholder){var u=0;this.parent.options._isPlaceholder&&this.parent.createUserOptions(),this.options._isPlaceholder||(cn(this.parent.stripLines),u=this.parent.options.stripLines.indexOf(this.options)),this.options=void 0===r?{}:r,this.parent.options.stripLines[u]=this.options}},Ye.prototype.render=function(){this.ctx.save();var r=this.parent.getPixelCoordinatesOnAxis(this.value),u=Math.abs("pixel"===this._thicknessType?this.thickness:Math.abs(this.parent.convertValueToPixel(this.endValue)-this.parent.convertValueToPixel(this.startValue)));if(0<u){var l=null===this.opacity?1:this.opacity;this.ctx.strokeStyle=this.color,this.ctx.beginPath();var h,p,m,_,o=this.ctx.globalAlpha;this.ctx.globalAlpha=l,Ge(this.id),this.ctx.lineWidth=u,this.ctx.setLineDash&&this.ctx.setLineDash(Ke(this.lineDashType,u)),"bottom"===this.parent._position||"top"===this.parent._position?(h=p=this.ctx.lineWidth%2==1?.5+(r.x<<0):r.x<<0,this.bounds={x1:h-u/2,y1:m=this.chart.plotArea.y1,x2:p+u/2,y2:_=this.chart.plotArea.y2}):("left"===this.parent._position||"right"===this.parent._position)&&(m=_=this.ctx.lineWidth%2==1?.5+(r.y<<0):r.y<<0,this.bounds={x1:h=this.chart.plotArea.x1,y1:m-u/2,x2:p=this.chart.plotArea.x2,y2:_+u/2}),this.ctx.moveTo(h,m),this.ctx.lineTo(p,_),this.ctx.stroke(),this.ctx.globalAlpha=o}this.ctx.restore()},fi(wi,Ot),wi.prototype.showAt=function(r){if(!this.enabled)return!1;var u=this.chart,l=!1;if(u.resetOverlayedCanvas(),u.clearedOverlayedCanvas=this.parent.type,this.chart.renderCrosshairs(this.parent),"xySwapped"===u.plotInfo.axisPlacement){if("bottom"===this.parent._position)for(var o=0;o<u.axisY.length;o++)this.parent===u.axisY[o]&&(u.axisY[o]._crosshairValue=r>=u.axisY[o].viewportMinimum&&r<=u.axisY[o].viewportMaximum?r:null);else if("top"===this.parent._position)for(o=0;o<u.axisY2.length;o++)this.parent===u.axisY2[o]&&(u.axisY2[o]._crosshairValue=r>=u.axisY2[o].viewportMinimum&&r<=u.axisY2[o].viewportMaximum?r:null);else if("left"===this.parent._position)for(o=0;o<u.axisX.length;o++)this.parent===u.axisX[o]&&(u.axisX[o]._crosshairValue=r>=u.axisX[o].viewportMinimum&&r<=u.axisX[o].viewportMaximum?r:null);else if("right"===this.parent._position)for(o=0;o<u.axisX2.length;o++)this.parent===u.axisX2[o]&&(u.axisX2[o]._crosshairValue=r>=u.axisX2[o].viewportMinimum&&r<=u.axisX2[o].viewportMaximum?r:null)}else if("bottom"===this.parent._position)for(o=0;o<u.axisX.length;o++)this.parent===u.axisX[o]&&(u.axisX[o]._crosshairValue=r>=u.axisX[o].viewportMinimum&&r<=u.axisX[o].viewportMaximum?r:null);else if("top"===this.parent._position)for(o=0;o<u.axisX2.length;o++)this.parent===u.axisX2[o]&&(u.axisX2[o]._crosshairValue=r>=u.axisX2[o].viewportMinimum&&r<=u.axisX2[o].viewportMaximum?r:null);else if("left"===this.parent._position)for(o=0;o<u.axisY.length;o++)this.parent===u.axisY[o]&&(u.axisY[o]._crosshairValue=r>=u.axisY[o].viewportMinimum&&r<=u.axisY[o].viewportMaximum?r:null);else if("right"===this.parent._position)for(o=0;o<u.axisY2.length;o++)this.parent===u.axisY2[o]&&(u.axisY2[o]._crosshairValue=r>=u.axisY2[o].viewportMinimum&&r<=u.axisY2[o].viewportMaximum?r:null);for(o=0;o<u.axisX.length;o++)r=u.axisX[o]._crosshairValue,u.axisX[o].crosshair&&u.axisX[o].crosshair.enabled&&!j(r)&&r>=u.axisX[o].viewportMinimum&&r<=u.axisX[o].viewportMaximum&&(u.axisX[o].showCrosshair(r),u.axisX[o].crosshair._updatedValue=r,this===u.axisX[o].crosshair&&(l=!0));for(o=0;o<u.axisX2.length;o++)r=u.axisX2[o]._crosshairValue,u.axisX2[o].crosshair&&u.axisX2[o].crosshair.enabled&&!j(r)&&r>=u.axisX2[o].viewportMinimum&&r<=u.axisX2[o].viewportMaximum&&(u.axisX2[o].showCrosshair(r),u.axisX2[o].crosshair._updatedValue=r,this===u.axisX2[o].crosshair&&(l=!0));for(o=0;o<u.axisY.length;o++)r=u.axisY[o]._crosshairValue,u.axisY[o].crosshair&&u.axisY[o].crosshair.enabled&&!j(r)&&r>=u.axisY[o].viewportMinimum&&r<=u.axisY[o].viewportMaximum&&(u.axisY[o].showCrosshair(r),u.axisY[o].crosshair._updatedValue=r,this===u.axisY[o].crosshair&&(l=!0));for(o=0;o<u.axisY2.length;o++)r=u.axisY2[o]._crosshairValue,u.axisY2[o].crosshair&&u.axisY2[o].crosshair.enabled&&!j(r)&&r>=u.axisY2[o].viewportMinimum&&r<=u.axisY2[o].viewportMaximum&&(u.axisY2[o].showCrosshair(r),u.axisY2[o].crosshair._updatedValue=r,this===u.axisY2[o].crosshair&&(l=!0));return this.chart.toolTip&&this.chart.toolTip._entries&&this.chart.toolTip.highlightObjects(this.chart.toolTip._entries),l},wi.prototype.hide=function(){this.chart.resetOverlayedCanvas(),this.chart.renderCrosshairs(this.parent),this._hidden=!0},wi.prototype.render=function(r,u,l){var o,h,p,m,_=null,w=null,g=null,x="";if(!this.valueFormatString)if("dateTime"===this.parent.valueType)this.valueFormatString=this.parent.valueFormatString;else{var y=0;y="xySwapped"===this.chart.plotInfo.axisPlacement?50<this.parent.range?0:500<this.chart.width&&25>this.parent.range?2:Math.floor(Math.abs(Math.log(this.parent.range)/Math.LN10))+(5>this.parent.range?2:10>this.parent.range?1:0):50<this.parent.range?0:Math.floor(Math.abs(Math.log(this.parent.range)/Math.LN10))+(5>this.parent.range?2:10>this.parent.range?1:0),this.valueFormatString=se.generateValueFormatString(this.parent.range,y)}g=null===this.opacity?1:this.opacity,y=Math.abs("pixel"===this._thicknessType?this.thickness:this.parent.conversionParameters.pixelPerUnit*this.thickness);var b=this.chart.overlaidCanvasCtx,d=b.globalAlpha;if(b.globalAlpha=g,b.beginPath(),b.strokeStyle=this.color,b.lineWidth=y,b.save(),this.labelFontSize=Math.abs(j(this.options.labelFontSize)?this.parent.labelFontSize:this.labelFontSize),this.labelMaxWidth=j(this.options.labelMaxWidth)?.3*this.chart.width:this.labelMaxWidth,this.labelMaxHeight=j(this.options.labelWrap)||this.labelWrap?.3*this.chart.height:2*this.labelFontSize,0<y&&b.setLineDash&&b.setLineDash(Ke(this.lineDashType,y)),g=new Ze(b,{x:0,y:0,padding:{top:2,right:3,bottom:2,left:4},backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,borderThickness:this.labelBorderThickness,cornerRadius:this.labelCornerRadius,maxWidth:this.labelMaxWidth,maxHeight:this.labelMaxHeight,angle:this.labelAngle,text:x,horizontalAlign:"left",fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle"}),this.snapToDataPoint){var C=0;if(x=[],"xySwapped"===this.chart.plotInfo.axisPlacement){var A=null;"bottom"===this.parent._position||"top"===this.parent._position?C=this.parent.dataSeries[0].axisX.convertPixelToValue({y:u}):("left"===this.parent._position||"right"===this.parent._position)&&(C=this.parent.convertPixelToValue({y:u}));for(var P=0;P<this.parent.dataSeries.length;P++)(A=this.parent.dataSeries[P].getDataPointAtX(C,!0))&&0<=A.index&&(A.dataSeries=this.parent.dataSeries[P],null!==A.dataPoint.y&&A.dataSeries.visible&&x.push(A));if(A=null,0===x.length)return;if(x.sort(function(V,ee){return V.distance-ee.distance}),A=Math.abs(r-this.parent.convertValueToPixel(x[0].dataPoint.y)),P=0,"rangeBar"===x[0].dataSeries.type||"error"===x[0].dataSeries.type){A=Math.abs(r-this.parent.convertValueToPixel(x[P].dataPoint.y[0]));var T=0;for(C=0;C<x.length;C++)if(x[C].dataPoint.y&&x[C].dataPoint.y.length)for(var E=0;E<x[C].dataPoint.y.length;E++)(T=Math.abs(r-this.parent.convertValueToPixel(x[C].dataPoint.y[E])))<A&&(A=T,P=C);else(T=Math.abs(r-this.parent.convertValueToPixel(x[C].dataPoint.y)))<A&&(A=T,P=C)}else if("stackedBar"===x[0].dataSeries.type){A=Math.abs(r-this.parent.convertValueToPixel(x[0].dataPoint.y));var F=T=0;for(C=P=0;C<x.length;C++)if(x[C].dataPoint.y&&x[C].dataPoint.y.length)for(E=0;E<x[C].dataPoint.y.length;E++)(T=Math.abs(r-this.parent.convertValueToPixel(x[C].dataPoint.y[E])))<A&&(A=T,P=C);else F+=x[C].dataPoint.y,(T=Math.abs(r-this.parent.convertValueToPixel(F)))<A&&(A=T,P=C)}else if("stackedBar100"===x[0].dataSeries.type){A=Math.abs(r-this.parent.convertValueToPixel(x[0].dataPoint.y));var H=F=T=0;for(C=0;C<x.length;C++)if(x[C].dataPoint.y&&x[C].dataPoint.y.length)for(E=0;E<x[C].dataPoint.y.length;E++)(T=Math.abs(r-this.parent.convertValueToPixel(x[C].dataPoint.y[E])))<A&&(A=T,P=C);else F+=x[C].dataPoint.y,H=x[C].dataPoint.x.getTime?x[C].dataPoint.x.getTime():x[C].dataPoint.x,H=F/x[C].dataSeries.plotUnit.dataPointYSums[H]*100,(T=Math.abs(r-this.parent.convertValueToPixel(H)))<A&&(A=T,P=C)}else for(A=Math.abs(r-this.parent.convertValueToPixel(x[0].dataPoint.y)),C=P=T=0;C<x.length;C++)if(x[C].dataPoint.y&&x[C].dataPoint.y.length)for(E=0;E<x[C].dataPoint.y.length;E++)(T=Math.abs(r-this.parent.convertValueToPixel(x[C].dataPoint.y[E])))<A&&(A=T,P=C);else(T=Math.abs(r-this.parent.convertValueToPixel(x[C].dataPoint.y)))<A&&(A=T,P=C);if(E=x[P],"bottom"===this.parent._position||"top"===this.parent._position){if(o=0,"rangeBar"===this.parent.dataSeries[P].type||"error"===this.parent.dataSeries[P].type){for(A=Math.abs(r-this.parent.convertValueToPixel(E.dataPoint.y[0])),C=T=0;C<E.dataPoint.y.length;C++)(T=Math.abs(r-this.parent.convertValueToPixel(E.dataPoint.y[C])))<A&&(A=T,o=C);_=b.lineWidth%2==1?.5+(this.parent.convertValueToPixel(E.dataPoint.y[o])<<0):this.parent.convertValueToPixel(E.dataPoint.y[o])<<0,this.value=E.dataPoint.y[o],g.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:E.dataPoint.y[o]}):j(this.options.label)?ei(l||E.dataPoint.y[o],this.valueFormatString,this.chart._cultureInfo):this.label}else if("stackedBar"===this.parent.dataSeries[P].type){for(A=Math.abs(r-this.parent.convertValueToPixel(x[0].dataPoint.y)),F=T=0,C=P;0<=C;C--)F+=x[C].dataPoint.y,(T=Math.abs(r-this.parent.convertValueToPixel(F)))<A&&(A=T,o=C);_=b.lineWidth%2==1?.5+(this.parent.convertValueToPixel(F)<<0):this.parent.convertValueToPixel(F)<<0,this.value=F,g.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:E.dataPoint.y}):j(this.options.label)?ei(l||E.dataPoint.y,this.valueFormatString,this.chart._cultureInfo):this.label}else if("stackedBar100"===this.parent.dataSeries[P].type){for(A=Math.abs(r-this.parent.convertValueToPixel(x[0].dataPoint.y)),H=F=T=0,C=P;0<=C;C--)F+=x[C].dataPoint.y,H=x[C].dataPoint.x.getTime?x[C].dataPoint.x.getTime():x[C].dataPoint.x,H=F/x[C].dataSeries.plotUnit.dataPointYSums[H]*100,(T=Math.abs(r-this.parent.convertValueToPixel(H)))<A&&(A=T,o=C);_=b.lineWidth%2==1?.5+(this.parent.convertValueToPixel(H)<<0):this.parent.convertValueToPixel(H)<<0,this.value=H,g.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:H}):j(this.options.label)?ei(l||H,this.valueFormatString,this.chart._cultureInfo):this.label}else _=b.lineWidth%2==1?.5+(this.parent.convertValueToPixel(E.dataPoint.y)<<0):this.parent.convertValueToPixel(E.dataPoint.y)<<0,this.value=E.dataPoint.y,g.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:E.dataPoint.y}):j(this.options.label)?ei(l||E.dataPoint.y,this.valueFormatString,this.chart._cultureInfo):this.label;o=h=_,this.bounds={x1:o-y/2,y1:p=this.chart.plotArea.y1,x2:h+y/2,y2:m=this.chart.plotArea.y2},g.x=o-g.measureText().width/2,g.x+g.width>this.chart.bounds.x2?g.x=this.chart.bounds.x2-g.width:g.x<this.chart.bounds.x1&&(g.x=this.chart.bounds.x1),g.y=this.parent.lineCoordinates.y2+("top"===this.parent._position?-g.height+this.parent.tickLength:g.fontSize/2)+2,g.y+g.height>this.chart.bounds.y2?g.y=this.chart.bounds.y2-g.height:g.y<this.chart.bounds.y1&&(g.y=this.chart.bounds.y1)}else if("left"===this.parent._position||"right"===this.parent._position){if(p=m=w=b.lineWidth%2==1?.5+(this.parent.convertValueToPixel(E.dataPoint.x)<<0):this.parent.convertValueToPixel(E.dataPoint.x)<<0,this.bounds={x1:o=this.chart.plotArea.x1,y1:p-y/2,x2:h=this.chart.plotArea.x2,y2:m+y/2},H=!1,this.parent.labels)for(x=Math.ceil(this.parent.interval),C=0;C<this.parent.viewportMaximum;C+=x){if(!this.parent.labels[C]){H=!1;break}H=!0}if(H){if("axisX"===this.parent.type)for(C=this.parent.convertPixelToValue({y:u}),A=null,P=0;P<this.parent.dataSeries.length;P++)(A=this.parent.dataSeries[P].getDataPointAtX(C,!0))&&0<=A.index&&(g.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:E.dataPoint.x}):j(this.options.label)?A.dataPoint.label:this.label)}else"dateTime"===this.parent.valueType?g.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:E.dataPoint.x}):j(this.options.label)?Ki(E.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label:"number"===this.parent.valueType&&(g.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:E.dataPoint.x}):j(this.options.label)?ei(E.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label);this.value=E.dataPoint.x,g.y=m+g.fontSize/2-g.measureText().height/2+2,g.y-g.fontSize/2<this.chart.bounds.y1?g.y=this.chart.bounds.y1+g.fontSize/2+2:g.y+g.measureText().height-g.fontSize/2>this.chart.bounds.y2&&(g.y=this.chart.bounds.y2-g.measureText().height+g.fontSize/2),"left"===this.parent._position?g.x=this.parent.lineCoordinates.x2-g.measureText().width:"right"===this.parent._position&&(g.x=this.parent.lineCoordinates.x2)}}else if("bottom"===this.parent._position||"top"===this.parent._position){for(C=this.parent.convertPixelToValue({x:r}),P=0;P<this.parent.dataSeries.length;P++)(A=this.parent.dataSeries[P].getDataPointAtX(C,!0))&&0<=A.index&&(A.dataSeries=this.parent.dataSeries[P],null!==A.dataPoint.y&&A.dataSeries.visible&&x.push(A));if(0===x.length)return;if(x.sort(function(V,ee){return V.distance-ee.distance}),E=x[0],o=h=_=b.lineWidth%2==1?.5+(this.parent.convertValueToPixel(E.dataPoint.x)<<0):this.parent.convertValueToPixel(E.dataPoint.x)<<0,this.bounds={x1:o-y/2,y1:p=this.chart.plotArea.y1,x2:h+y/2,y2:m=this.chart.plotArea.y2},H=!1,this.parent.labels)for(x=Math.ceil(this.parent.interval),C=0;C<this.parent.viewportMaximum;C+=x){if(!this.parent.labels[C]){H=!1;break}H=!0}if(H){if("axisX"===this.parent.type)for(C=this.parent.convertPixelToValue({x:r}),A=null,P=0;P<this.parent.dataSeries.length;P++)(A=this.parent.dataSeries[P].getDataPointAtX(C,!0))&&0<=A.index&&(g.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:E.dataPoint.x}):j(this.options.label)?A.dataPoint.label:this.label)}else"dateTime"===this.parent.valueType?g.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:E.dataPoint.x}):j(this.options.label)?Ki(E.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label:"number"===this.parent.valueType&&(g.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:E.dataPoint.x}):j(this.options.label)?ei(E.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label);this.value=E.dataPoint.x,g.x=o-g.measureText().width/2,g.x+g.width>this.chart.bounds.x2&&(g.x=this.chart.bounds.x2-g.width),g.x<this.chart.bounds.x1&&(g.x=this.chart.bounds.x1),"bottom"===this.parent._position?g.y=this.parent.lineCoordinates.y2+g.fontSize/2+2:"top"===this.parent._position&&(g.y=this.parent.lineCoordinates.y1-g.height+g.fontSize/2+2)}else if("left"===this.parent._position||"right"===this.parent._position){for(!j(this.parent.dataSeries)&&0<this.parent.dataSeries.length&&(C=this.parent.dataSeries[0].axisX.convertPixelToValue({x:r})),P=0;P<this.parent.dataSeries.length;P++)(A=this.parent.dataSeries[P].getDataPointAtX(C,!0))&&0<=A.index&&(A.dataSeries=this.parent.dataSeries[P],null!==A.dataPoint.y&&A.dataSeries.visible&&x.push(A));if(0===x.length)return;if(x.sort(function(V,ee){return V.distance-ee.distance}),P=0,"rangeColumn"===x[0].dataSeries.type||"rangeArea"===x[0].dataSeries.type||"error"===x[0].dataSeries.type||"rangeSplineArea"===x[0].dataSeries.type||"candlestick"===x[0].dataSeries.type||"ohlc"===x[0].dataSeries.type||"boxAndWhisker"===x[0].dataSeries.type)for(A=Math.abs(u-this.parent.convertValueToPixel(x[0].dataPoint.y[0])),C=T=0;C<x.length;C++)if(x[C].dataPoint.y&&x[C].dataPoint.y.length)for(E=0;E<x[C].dataPoint.y.length;E++)(T=Math.abs(u-this.parent.convertValueToPixel(x[C].dataPoint.y[E])))<A&&(A=T,P=C);else(T=Math.abs(u-this.parent.convertValueToPixel(x[C].dataPoint.y)))<A&&(A=T,P=C);else if("stackedColumn"===x[0].dataSeries.type||"stackedArea"===x[0].dataSeries.type)for(A=Math.abs(u-this.parent.convertValueToPixel(x[0].dataPoint.y)),C=F=T=0;C<x.length;C++)if(x[C].dataPoint.y&&x[C].dataPoint.y.length)for(E=0;E<x[C].dataPoint.y.length;E++)(T=Math.abs(u-this.parent.convertValueToPixel(x[C].dataPoint.y[E])))<A&&(A=T,P=C);else F+=x[C].dataPoint.y,(T=Math.abs(u-this.parent.convertValueToPixel(F)))<A&&(A=T,P=C);else if("stackedColumn100"===x[0].dataSeries.type||"stackedArea100"===x[0].dataSeries.type)for(A=Math.abs(u-this.parent.convertValueToPixel(x[0].dataPoint.y)),C=H=F=T=0;C<x.length;C++)if(x[C].dataPoint.y&&x[C].dataPoint.y.length)for(E=0;E<x[C].dataPoint.y.length;E++)(T=Math.abs(u-this.parent.convertValueToPixel(x[C].dataPoint.y[E])))<A&&(A=T,P=C);else F+=x[C].dataPoint.y,H=x[C].dataPoint.x.getTime?x[C].dataPoint.x.getTime():x[C].dataPoint.x,H=F/x[C].dataSeries.plotUnit.dataPointYSums[H]*100,(T=Math.abs(u-this.parent.convertValueToPixel(H)))<A&&(A=T,P=C);else for(A=Math.abs(u-this.parent.convertValueToPixel(x[0].dataPoint.y)),C=T=0;C<x.length;C++)if(x[C].dataPoint.y&&x[C].dataPoint.y.length)for(E=0;E<x[C].dataPoint.y.length;E++)(T=Math.abs(u-this.parent.convertValueToPixel(x[C].dataPoint.y[E])))<A&&(A=T,P=C);else(T=Math.abs(u-this.parent.convertValueToPixel(x[C].dataPoint.y)))<A&&(A=T,P=C);if(E=x[P],o=0,"rangeColumn"===this.parent.dataSeries[P].type||"rangeArea"===this.parent.dataSeries[P].type||"error"===this.parent.dataSeries[P].type||"rangeSplineArea"===this.parent.dataSeries[P].type||"candlestick"===this.parent.dataSeries[P].type||"ohlc"===this.parent.dataSeries[P].type||"boxAndWhisker"===this.parent.dataSeries[P].type){for(A=Math.abs(u-this.parent.convertValueToPixel(E.dataPoint.y[0])),C=T=0;C<E.dataPoint.y.length;C++)(T=Math.abs(u-this.parent.convertValueToPixel(E.dataPoint.y[C])))<A&&(A=T,o=C);w=b.lineWidth%2==1?.5+(this.parent.convertValueToPixel(E.dataPoint.y[o])<<0):this.parent.convertValueToPixel(E.dataPoint.y[o])<<0,g.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:E.dataPoint.y[o]}):j(this.options.label)?ei(l||E.dataPoint.y[o],this.valueFormatString,this.chart._cultureInfo):this.label,this.value=E.dataPoint.y[o]}else if("stackedColumn"===this.parent.dataSeries[P].type||"stackedArea"===this.parent.dataSeries[P].type){for(A=Math.abs(u-this.parent.convertValueToPixel(x[0].dataPoint.y)),F=T=0,C=P;0<=C;C--)F+=x[C].dataPoint.y,(T=Math.abs(u-this.parent.convertValueToPixel(F)))<A&&(A=T,o=C);w=b.lineWidth%2==1?.5+(this.parent.convertValueToPixel(F)<<0):this.parent.convertValueToPixel(F)<<0,g.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:E.dataPoint.y}):j(this.options.label)?ei(l||E.dataPoint.y,this.valueFormatString,this.chart._cultureInfo):this.label,this.value=F}else if("stackedColumn100"===this.parent.dataSeries[P].type||"stackedArea100"===this.parent.dataSeries[P].type){for(A=Math.abs(u-this.parent.convertValueToPixel(x[0].dataPoint.y)),F=T=0,C=P;0<=C;C--)F+=x[C].dataPoint.y,H=x[C].dataPoint.x.getTime?x[C].dataPoint.x.getTime():x[C].dataPoint.x,H=F/x[C].dataSeries.plotUnit.dataPointYSums[H]*100,(T=Math.abs(u-this.parent.convertValueToPixel(H)))<A&&(A=T,o=C);w=b.lineWidth%2==1?.5+(this.parent.convertValueToPixel(H)<<0):this.parent.convertValueToPixel(H)<<0,g.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:H}):j(this.options.label)?ei(l||H,this.valueFormatString,this.chart._cultureInfo):this.label,this.value=H}else"waterfall"===this.parent.dataSeries[P].type?(w=b.lineWidth%2==1?.5+(this.parent.convertValueToPixel(E.dataSeries.dataPointEOs[E.index].cumulativeSum)<<0):this.parent.convertValueToPixel(E.dataSeries.dataPointEOs[E.index].cumulativeSum)<<0,g.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:E.dataSeries.dataPointEOs[E.index].cumulativeSum}):j(this.options.label)?ei(l||E.dataSeries.dataPointEOs[E.index].cumulativeSum,this.valueFormatString,this.chart._cultureInfo):this.label,this.value=E.dataSeries.dataPointEOs[E.index].cumulativeSum):(w=b.lineWidth%2==1?(j(r)?u:this.parent.convertValueToPixel(E.dataPoint.y)<<0)+.5:j(r)?u:this.parent.convertValueToPixel(E.dataPoint.y)<<0,g.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:l||E.dataPoint.y}):j(this.options.label)?ei(l||E.dataPoint.y,this.valueFormatString,this.chart._cultureInfo):this.label,this.value=E.dataPoint.y);p=m=w,this.bounds={x1:o=this.chart.plotArea.x1,y1:p-y/2,x2:h=this.chart.plotArea.x2,y2:m+y/2},g.y=m+g.fontSize/2-g.measureText().height/2+2,g.y-g.fontSize/2<this.chart.bounds.y1?g.y=this.chart.bounds.y1+g.fontSize/2+2:g.y+g.measureText().height-g.fontSize/2>this.chart.bounds.y2&&(g.y=this.chart.bounds.y2-g.measureText().height+g.fontSize/2),"left"===this.parent._position?g.x=this.parent.lineCoordinates.x2-g.measureText().width:"right"===this.parent._position&&(g.x=this.parent.lineCoordinates.x2)}x=null,("bottom"===this.parent._position||"top"===this.parent._position)&&("top"===this.parent._position&&g.y-g.fontSize/2<this.chart.bounds.y1&&(g.y=this.chart.bounds.y1+g.fontSize/2),"bottom"===this.parent._position&&this.parent.lineCoordinates.y2-g.fontSize/2+g.measureText().height>this.chart.bounds.y2&&(g.y=this.chart.bounds.y2-g.height+g.fontSize/2+2),o>=this.parent.convertValueToPixel(this.parent.reversed?this.parent.viewportMaximum:this.parent.viewportMinimum)&&h<=this.parent.convertValueToPixel(this.parent.reversed?this.parent.viewportMinimum:this.parent.viewportMaximum)&&(0<y&&(b.moveTo(o,p),b.lineTo(h,m),b.stroke(),this._hidden=!1),b.restore())),("left"===this.parent._position||"right"===this.parent._position)&&("left"===this.parent._position&&g.x<this.chart.bounds.x1&&(g.x=this.chart.bounds.x1),"right"===this.parent._position&&g.x+g.measureText().width>this.chart.bounds.x2&&(g.x=this.chart.bounds.x2-g.measureText().width),m>=this.parent.convertValueToPixel(this.parent.reversed?this.parent.viewportMinimum:this.parent.viewportMaximum)&&p<=this.parent.convertValueToPixel(this.parent.reversed?this.parent.viewportMaximum:this.parent.viewportMinimum)&&(0<y&&(b.moveTo(o,p),b.lineTo(h,m),b.stroke(),this._hidden=!1),b.restore()))}else{if("bottom"===this.parent._position||"top"===this.parent._position?(o=h=_=b.lineWidth%2==1?.5+(r<<0):r<<0,this.bounds={x1:o-y/2,y1:p=this.chart.plotArea.y1,x2:h+y/2,y2:m=this.chart.plotArea.y2}):("left"===this.parent._position||"right"===this.parent._position)&&(p=m=w=b.lineWidth%2==1?.5+(u<<0):u<<0,this.bounds={x1:o=this.chart.plotArea.x1,y1:p-y/2,x2:h=this.chart.plotArea.x2,y2:m+y/2}),"xySwapped"===this.chart.plotInfo.axisPlacement)if("left"===this.parent._position||"right"===this.parent._position){if(H=!1,this.parent.labels)for(x=Math.ceil(this.parent.interval),C=0;C<this.parent.viewportMaximum;C+=x){if(!this.parent.labels[C]){H=!1;break}H=!0}if(H){if("axisX"===this.parent.type)for(C=this.parent.convertPixelToValue({y:u}),A=null,P=0;P<this.parent.dataSeries.length;P++)(A=this.parent.dataSeries[P].getDataPointAtX(C,!0))&&0<=A.index&&(g.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:l||this.parent.convertPixelToValue(r)}):j(this.options.label)?A.dataPoint.label:this.label)}else"dateTime"===this.parent.valueType?g.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:l||this.parent.convertPixelToValue(u)}):j(this.options.label)?Ki(l||this.parent.convertPixelToValue(u),this.valueFormatString,this.chart._cultureInfo):this.label:"number"===this.parent.valueType&&(g.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:l||this.parent.convertPixelToValue(u)}):j(this.options.label)?ei(l||this.parent.convertPixelToValue(u),this.valueFormatString,this.chart._cultureInfo):this.label);g.y=u+g.fontSize/2-g.measureText().height/2+2,g.y-g.fontSize/2<this.chart.bounds.y1?g.y=this.chart.bounds.y1+g.fontSize/2+2:g.y+g.measureText().height-g.fontSize/2>this.chart.bounds.y2&&(g.y=this.chart.bounds.y2-g.measureText().height+g.fontSize/2),"left"===this.parent._position?g.x=this.parent.lineCoordinates.x1-g.measureText().width:"right"===this.parent._position&&(g.x=this.parent.lineCoordinates.x2)}else("bottom"===this.parent._position||"top"===this.parent._position)&&(g.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:l||this.parent.convertPixelToValue(r)}):j(this.options.label)?ei(l||this.parent.convertPixelToValue(r),this.valueFormatString,this.chart._cultureInfo):this.label,g.x=o-g.measureText().width/2,g.x+g.width>this.chart.bounds.x2&&(g.x=this.chart.bounds.x2-g.width),g.x<this.chart.bounds.x1&&(g.x=this.chart.bounds.x1),"bottom"===this.parent._position?g.y=this.parent.lineCoordinates.y2+g.fontSize/2+2:"top"===this.parent._position&&(g.y=this.parent.lineCoordinates.y1-g.height+g.fontSize/2+2));else if("bottom"===this.parent._position||"top"===this.parent._position){if(H=!1,x="",this.parent.labels)for(x=Math.ceil(this.parent.interval),C=0;C<this.parent.viewportMaximum;C+=x){if(!this.parent.labels[C]){H=!1;break}H=!0}if(H){if("axisX"===this.parent.type)for(C=this.parent.convertPixelToValue({x:r}),A=null,P=0;P<this.parent.dataSeries.length;P++)(A=this.parent.dataSeries[P].getDataPointAtX(C,!0))&&0<=A.index&&(g.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:l||this.parent.convertPixelToValue(r)}):j(this.options.label)?l||A.dataPoint.label:this.label)}else"dateTime"===this.parent.valueType?g.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:l||this.parent.convertPixelToValue(r)}):j(this.options.label)?Ki(l||this.parent.convertPixelToValue(r),this.valueFormatString,this.chart._cultureInfo):this.label:"number"===this.parent.valueType&&(g.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:l||(0<this.parent.dataSeries.length?this.parent.convertPixelToValue(r):"")}):j(this.options.label)?ei(l||this.parent.convertPixelToValue(r),this.valueFormatString,this.chart._cultureInfo):this.label);g.x=o-g.measureText().width/2,g.x+g.width>this.chart.bounds.x2&&(g.x=this.chart.bounds.x2-g.width),g.x<this.chart.bounds.x1&&(g.x=this.chart.bounds.x1),"bottom"===this.parent._position?g.y=this.parent.lineCoordinates.y2+g.fontSize/2+2:"top"===this.parent._position&&(g.y=this.parent.lineCoordinates.y1-g.height+g.fontSize/2+2)}else("left"===this.parent._position||"right"===this.parent._position)&&(g.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:l||this.parent.convertPixelToValue(u)}):j(this.options.label)?ei(l||this.parent.convertPixelToValue(u),this.valueFormatString,this.chart._cultureInfo):this.label,g.y=u+g.fontSize/2-g.measureText().height/2+2,g.y-g.fontSize/2<this.chart.bounds.y1?g.y=this.chart.bounds.y1+g.fontSize/2+2:g.y+g.measureText().height-g.fontSize/2>this.chart.bounds.y2&&(g.y=this.chart.bounds.y2-g.measureText().height+g.fontSize/2),"left"===this.parent._position?g.x=this.parent.lineCoordinates.x2-g.measureText().width:"right"===this.parent._position&&(g.x=this.parent.lineCoordinates.x2));"left"===this.parent._position&&g.x<this.chart.bounds.x1?g.x=this.chart.bounds.x1:"right"===this.parent._position&&g.x+g.measureText().width>this.chart.bounds.x2?g.x=this.chart.bounds.x2-g.measureText().width:"top"===this.parent._position&&g.y-g.fontSize/2<this.chart.bounds.y1?g.y=this.chart.bounds.y1+g.fontSize/2:"bottom"===this.parent._position&&this.parent.lineCoordinates.y2-g.fontSize/2+g.measureText().height>this.chart.bounds.y2&&(g.y=this.chart.bounds.y2-g.height+g.fontSize/2+2),0<y&&(b.moveTo(o,p),b.lineTo(h,m),b.stroke(),this._hidden=!1),b.restore(),this.value=this.parent.convertPixelToValue("bottom"===this.parent._position||"top"===this.parent._position?r:u)}("bottom"===this.parent._position||"top"===this.parent._position)&&(this._updatedValue=this.parent.convertPixelToValue(_)),("left"===this.parent._position||"right"===this.parent._position)&&(this._updatedValue=this.parent.convertPixelToValue(w)),this._textBlock=g,j(l)||this.renderLabel(),b.globalAlpha=d},wi.prototype.renderLabel=function(){j(this._textBlock)||j(this._textBlock.text)||!("number"==typeof this._textBlock.text.valueOf()||0<this._textBlock.text.length)||this._hidden||this._textBlock.render(!0)},fi(Ut,Ot),Ut.prototype._initialize=function(){if(this.updateOption("updated"),this.updateOption("hidden"),this.enabled){this.container=document.createElement("div"),this.container.setAttribute("class","canvasjs-chart-tooltip"),this.container.style.position="absolute",this.container.style.height="auto",this.container.style.boxShadow="1px 1px 2px 2px rgba(0,0,0,0.1)",this.container.style.zIndex="1000",this.container.style.pointerEvents="none",this.container.style.display="none";var r=document.createElement("div");r.style.width="auto",r.style.height="auto",r.style.minWidth="50px",r.style.lineHeight="normal",r.style.margin="0px 0px 0px 0px",r.style.padding="5px",r.style.fontFamily="Calibri, Arial, Georgia, serif",r.style.fontWeight="normal",r.style.fontStyle=Y?"italic":"normal",r.style.fontSize="14px",r.style.color="#000000",r.style.textShadow="1px 1px 1px rgba(0, 0, 0, 0.1)",r.style.textAlign="left",r.style.border="2px solid gray",r.style.background=Y?"rgba(255,255,255,.9)":"rgb(255,255,255)",r.style.textIndent="0px",r.style.whiteSpace="nowrap",r.style.borderRadius="5px",r.style.MozUserSelect="none",r.style.WebkitUserSelect="none",r.style.msUserSelect="none",r.style.userSelect="none",Y||(r.style.filter="alpha(opacity = 90)",r.style.filter="progid:DXImageTransform.Microsoft.Shadow(Strength=3, Direction=135, Color='#666666')"),r.innerText="Sample Tooltip",this.container.appendChild(r),this.contentDiv=this.container.firstChild,this.container.style.borderRadius=this.contentDiv.style.borderRadius,this.chart._canvasJSContainer.appendChild(this.container)}},Ut.prototype.mouseMoveHandler=function(r,u){this._lastUpdated&&4>(new Date).getTime()-this._lastUpdated||(this._lastUpdated=(new Date).getTime(),this.chart.resetOverlayedCanvas(),this._updateToolTip(r,u))},Ut.prototype._updateToolTip=function(r,u,l){if(l=void 0===l||l,this.container||this._initialize(),this.enabled||this.hide(),!this.chart.disableToolTip){if(void 0===r||void 0===u){if(isNaN(this._prevX)||isNaN(this._prevY))return;r=this._prevX,u=this._prevY}else this._prevX=r,this._prevY=u;var o=null,h=null,p=[],m=0;if(this.shared&&this.enabled&&"none"!==this.chart.plotInfo.axisPlacement){if("xySwapped"===this.chart.plotInfo.axisPlacement){var _=[];if(this.chart.axisX)for(var w=0;w<this.chart.axisX.length;w++){m=this.chart.axisX[w].convertPixelToValue({y:u});var x=null;for(o=0;o<this.chart.axisX[w].dataSeries.length;o++)(x=this.chart.axisX[w].dataSeries[o].getDataPointAtX(m,l))&&0<=x.index&&(x.dataSeries=this.chart.axisX[w].dataSeries[o],null!==x.dataPoint.y&&_.push(x));x=null}if(this.chart.axisX2)for(w=0;w<this.chart.axisX2.length;w++){for(m=this.chart.axisX2[w].convertPixelToValue({y:u}),x=null,o=0;o<this.chart.axisX2[w].dataSeries.length;o++)(x=this.chart.axisX2[w].dataSeries[o].getDataPointAtX(m,l))&&0<=x.index&&(x.dataSeries=this.chart.axisX2[w].dataSeries[o],null!==x.dataPoint.y&&_.push(x));x=null}}else{if(_=[],this.chart.axisX)for(w=0;w<this.chart.axisX.length;w++)for(m=this.chart.axisX[w].convertPixelToValue({x:r}),x=null,o=0;o<this.chart.axisX[w].dataSeries.length;o++)(x=this.chart.axisX[w].dataSeries[o].getDataPointAtX(m,l))&&0<=x.index&&(x.dataSeries=this.chart.axisX[w].dataSeries[o],null!==x.dataPoint.y&&_.push(x));if(this.chart.axisX2)for(w=0;w<this.chart.axisX2.length;w++)for(m=this.chart.axisX2[w].convertPixelToValue({x:r}),x=null,o=0;o<this.chart.axisX2[w].dataSeries.length;o++)(x=this.chart.axisX2[w].dataSeries[o].getDataPointAtX(m,l))&&0<=x.index&&(x.dataSeries=this.chart.axisX2[w].dataSeries[o],null!==x.dataPoint.y&&_.push(x))}if(0===_.length)return;for(_.sort(function(g,y){return g.distance-y.distance}),l=_[0],o=0;o<_.length;o++)_[o].dataPoint.x.valueOf()===l.dataPoint.x.valueOf()&&p.push(_[o]);_=null}else{if(o=this.chart.getDataPointAtXY(r,u,l))this.currentDataPointIndex=o.dataPointIndex,this.currentSeriesIndex=o.dataSeries.index;else if(Y)if(0<(o=ns(r,u,this.chart._eventManager.ghostCtx))&&void 0!==this.chart._eventManager.objectMap[o]){if("legendItem"===(o=this.chart._eventManager.objectMap[o]).objectType)return;this.currentSeriesIndex=o.dataSeriesIndex,this.currentDataPointIndex=0<=o.dataPointIndex?o.dataPointIndex:-1}else this.currentDataPointIndex=-1;else this.currentDataPointIndex=-1;if(0<=this.currentSeriesIndex){if(h=this.chart.data[this.currentSeriesIndex],x={},0<=this.currentDataPointIndex)o=h.dataPoints[this.currentDataPointIndex],x.dataSeries=h,x.dataPoint=o,x.index=this.currentDataPointIndex,x.distance=Math.abs(o.x-m),"waterfall"===h.type&&(x.cumulativeSumYStartValue=h.dataPointEOs[this.currentDataPointIndex].cumulativeSumYStartValue,x.cumulativeSum=h.dataPointEOs[this.currentDataPointIndex].cumulativeSum);else{if(!this.enabled||"line"!==h.type&&"stepLine"!==h.type&&"spline"!==h.type&&"area"!==h.type&&"stepArea"!==h.type&&"splineArea"!==h.type&&"stackedArea"!==h.type&&"stackedArea100"!==h.type&&"rangeArea"!==h.type&&"rangeSplineArea"!==h.type&&"candlestick"!==h.type&&"ohlc"!==h.type&&"boxAndWhisker"!==h.type)return;m=h.axisX.convertPixelToValue({x:r}),j(x=h.getDataPointAtX(m,l))||(x.dataSeries=h,this.currentDataPointIndex=x.index,o=x.dataPoint)}if(!j(x)&&!j(x.dataPoint)&&!j(x.dataPoint.y))if(x.dataSeries.axisY)if(0<x.dataPoint.y.length){for(o=l=0;o<x.dataPoint.y.length;o++)x.dataPoint.y[o]<x.dataSeries.axisY.viewportMinimum?l--:x.dataPoint.y[o]>x.dataSeries.axisY.viewportMaximum&&l++;l<x.dataPoint.y.length&&l>-x.dataPoint.y.length&&p.push(x)}else"column"===h.type||"bar"===h.type?0>x.dataPoint.y?0>x.dataSeries.axisY.viewportMinimum&&x.dataSeries.axisY.viewportMaximum>=x.dataPoint.y&&p.push(x):x.dataSeries.axisY.viewportMinimum<=x.dataPoint.y&&0<=x.dataSeries.axisY.viewportMaximum&&p.push(x):"bubble"===h.type?x.dataPoint.y>=x.dataSeries.axisY.viewportMinimum-(l=this.chart._eventManager.objectMap[h.dataPointIds[x.index]].size/2)&&x.dataPoint.y<=x.dataSeries.axisY.viewportMaximum+l&&p.push(x):"waterfall"===h.type?(l=0,x.cumulativeSumYStartValue<x.dataSeries.axisY.viewportMinimum?l--:x.cumulativeSumYStartValue>x.dataSeries.axisY.viewportMaximum&&l++,x.cumulativeSum<x.dataSeries.axisY.viewportMinimum?l--:x.cumulativeSum>x.dataSeries.axisY.viewportMaximum&&l++,2>l&&-2<l&&p.push(x)):(0<=x.dataSeries.type.indexOf("100")||"stackedColumn"===h.type||"stackedBar"===h.type||x.dataPoint.y>=x.dataSeries.axisY.viewportMinimum&&x.dataPoint.y<=x.dataSeries.axisY.viewportMaximum)&&p.push(x);else p.push(x)}}if(0<p.length){if(this.highlightObjects(p),this.enabled){if(l="",null!==(l=this.getToolTipInnerHTML({entries:p}))){if(this.contentDiv.innerHTML=l,this.isToolTipDefinedInData&&j(this.options.content)&&j(this.options.contentFormatter))for(m=this.contentDiv.getElementsByTagName("span"),o=0;o<m.length;o++)m[o]&&(m[o].style.color=m[o].getAttribute("data-color"));m=!1,"none"===this.container.style.display&&(m=!0,this.container.style.display="block");try{this.contentDiv.style.background=this.backgroundColor?this.backgroundColor:Y?"rgba(255,255,255,.9)":"rgb(255,255,255)",this.borderColor=this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor="waterfall"===p[0].dataSeries.type?this.options.borderColor?this.options.borderColor:p[0].dataPoint.color?p[0].dataPoint.color:0<p[0].dataPoint.y?p[0].dataSeries.risingColor:p[0].dataSeries.fallingColor:"error"===p[0].dataSeries.type?this.options.borderColor?this.options.borderColor:p[0].dataSeries.color?p[0].dataSeries.color:p[0].dataSeries._colorSet[h.index%p[0].dataSeries._colorSet.length]:this.options.borderColor?this.options.borderColor:p[0].dataPoint.color?p[0].dataPoint.color:p[0].dataSeries.color?p[0].dataSeries.color:p[0].dataSeries._colorSet[p[0].index%p[0].dataSeries._colorSet.length],this.contentDiv.style.borderWidth=this.borderThickness||0===this.borderThickness?this.borderThickness+"px":"2px",this.contentDiv.style.borderRadius=this.cornerRadius||0===this.cornerRadius?this.cornerRadius+"px":"5px",this.container.style.borderRadius=this.contentDiv.style.borderRadius,this.contentDiv.style.fontSize=this.fontSize||0===this.fontSize?this.fontSize+"px":"14px",this.contentDiv.style.color=this.fontColor?this.fontColor:"#000000",this.contentDiv.style.fontFamily=this.fontFamily?this.fontFamily:"Calibri, Arial, Georgia, serif;",this.contentDiv.style.fontWeight=this.fontWeight?this.fontWeight:"normal",this.contentDiv.style.fontStyle=this.fontStyle?this.fontStyle:Y?"italic":"normal"}catch(g){}"pie"===p[0].dataSeries.type||"doughnut"===p[0].dataSeries.type||"funnel"===p[0].dataSeries.type||"pyramid"===p[0].dataSeries.type||"bar"===p[0].dataSeries.type||"rangeBar"===p[0].dataSeries.type||"stackedBar"===p[0].dataSeries.type||"stackedBar100"===p[0].dataSeries.type?r=r-10-this.container.clientWidth:(r=p[0].dataSeries.axisX.convertValueToPixel(p[0].dataPoint.x)-this.container.clientWidth<<0,r-=10),0>r&&(r+=this.container.clientWidth+20),r+this.container.clientWidth>Math.max(this.chart.container.clientWidth,this.chart.width)&&(r=Math.max(0,Math.max(this.chart.container.clientWidth,this.chart.width)-this.container.clientWidth)),0<(u=10-(u=1!==p.length||this.shared||"line"!==p[0].dataSeries.type&&"stepLine"!==p[0].dataSeries.type&&"spline"!==p[0].dataSeries.type&&"area"!==p[0].dataSeries.type&&"stepArea"!==p[0].dataSeries.type&&"splineArea"!==p[0].dataSeries.type?"bar"===p[0].dataSeries.type||"rangeBar"===p[0].dataSeries.type||"stackedBar"===p[0].dataSeries.type||"stackedBar100"===p[0].dataSeries.type?p[0].dataSeries.axisX.convertValueToPixel(p[0].dataPoint.x):u:p[0].dataSeries.axisY.convertValueToPixel(p[0].dataPoint.y)))+this.container.clientHeight+5&&(u-=u+this.container.clientHeight+5-0),this.fixMozTransitionDelay(r,u),!this.animationEnabled||m?this.disableAnimation():(this.enableAnimation(),this.container.style.MozTransition=this.mozContainerTransition),this.positionLeft=r,this.positionBottom=u,this.container.style.left=r+"px",this.container.style.bottom=u+"px"}else this.hide(!1),this.enabled&&this.dispatchEvent("hidden",{chart:this.chart,toolTip:this},this);for(u=[],o=0;o<p.length;o++)u.push({xValue:p[o].dataPoint.x,dataPoint:p[o].dataPoint,dataSeries:p[o].dataSeries,dataPointIndex:p[o].index,dataSeriesIndex:p[o].dataSeries._index});u={chart:this.chart,toolTip:this.options,content:l,entries:u},this._entries=p,this.dispatchEvent("updated",u,this)}}else this.hide(),this.enabled&&this.dispatchEvent("hidden",{chart:this.chart,toolTip:this},this)}},Ut.prototype.highlightObjects=function(r){var u=this.chart.overlaidCanvasCtx;(j(this.chart.clearedOverlayedCanvas)||"toolTip"===this.chart.clearedOverlayedCanvas)&&(this.chart.resetOverlayedCanvas(),u.clearRect(0,0,this.chart.width,this.chart.height),this.chart.clearedOverlayedCanvas="toolTip"),u.save();var l=this.chart.plotArea,o=0;for(u.beginPath(),u.rect(l.x1,l.y1,l.x2-l.x1,l.y2-l.y1),u.clip(),l=0;l<r.length;l++){var h=r[l];if((h=this.chart._eventManager.objectMap[h.dataSeries.dataPointIds[h.index]])&&h.objectType&&"dataPoint"===h.objectType){var p=(o=this.chart.data[h.dataSeriesIndex]).dataPoints[h.dataPointIndex],m=h.dataPointIndex;!1===p.highlightEnabled||!0!==o.highlightEnabled&&!0!==p.highlightEnabled||("line"===o.type||"stepLine"===o.type||"spline"===o.type||"scatter"===o.type||"area"===o.type||"stepArea"===o.type||"splineArea"===o.type||"stackedArea"===o.type||"stackedArea100"===o.type||"rangeArea"===o.type||"rangeSplineArea"===o.type?((p=o.getMarkerProperties(m,h.x1,h.y1,this.chart.overlaidCanvasCtx)).size=Math.max(1.5*p.size<<0,10),p.borderColor=p.borderColor||"#FFFFFF",p.borderThickness=p.borderThickness||Math.ceil(.1*p.size),Lt.drawMarkers([p]),void 0!==h.y2&&((p=o.getMarkerProperties(m,h.x1,h.y2,this.chart.overlaidCanvasCtx)).size=Math.max(1.5*p.size<<0,10),p.borderColor=p.borderColor||"#FFFFFF",p.borderThickness=p.borderThickness||Math.ceil(.1*p.size),Lt.drawMarkers([p]))):"bubble"===o.type?((p=o.getMarkerProperties(m,h.x1,h.y1,this.chart.overlaidCanvasCtx)).size=h.size,p.color="white",p.borderColor="white",u.globalAlpha=.3,Lt.drawMarkers([p]),u.globalAlpha=1):"column"===o.type||"stackedColumn"===o.type||"stackedColumn100"===o.type||"bar"===o.type||"rangeBar"===o.type||"stackedBar"===o.type||"stackedBar100"===o.type||"rangeColumn"===o.type||"waterfall"===o.type?$t(u,h.x1,h.y1,h.x2,h.y2,"white",0,null,!1,!1,!1,!1,.3):"pie"===o.type||"doughnut"===o.type?Vi(u,h.center,h.radius,"white",o.type,h.startAngle,h.endAngle,.3,h.percentInnerRadius):"funnel"===o.type||"pyramid"===o.type?Mi(u,h.funnelSection,.3,"white"):"candlestick"===o.type?(u.globalAlpha=1,u.strokeStyle=h.color,u.lineWidth=2*h.borderThickness,o=u.lineWidth%2==0?0:.5,u.beginPath(),u.moveTo(h.x3-o,Math.min(h.y2,h.y3)),u.lineTo(h.x3-o,Math.min(h.y1,h.y4)),u.stroke(),u.beginPath(),u.moveTo(h.x3-o,Math.max(h.y1,h.y4)),u.lineTo(h.x3-o,Math.max(h.y2,h.y3)),u.stroke(),$t(u,h.x1,Math.min(h.y1,h.y4),h.x2,Math.max(h.y1,h.y4),"transparent",2*h.borderThickness,h.color,!1,!1,!1,!1),u.globalAlpha=1):"ohlc"===o.type?(u.globalAlpha=1,u.strokeStyle=h.color,u.lineWidth=2*h.borderThickness,o=u.lineWidth%2==0?0:.5,u.beginPath(),u.moveTo(h.x3-o,h.y2),u.lineTo(h.x3-o,h.y3),u.stroke(),u.beginPath(),u.moveTo(h.x3,h.y1),u.lineTo(h.x1,h.y1),u.stroke(),u.beginPath(),u.moveTo(h.x3,h.y4),u.lineTo(h.x2,h.y4),u.stroke(),u.globalAlpha=1):"boxAndWhisker"===o.type?(u.save(),u.globalAlpha=1,u.strokeStyle=h.stemColor,u.lineWidth=2*h.stemThickness,0<h.stemThickness&&(u.beginPath(),u.moveTo(h.x3,h.y2+h.borderThickness/2),u.lineTo(h.x3,h.y1+h.whiskerThickness/2),u.stroke(),u.beginPath(),u.moveTo(h.x3,h.y4-h.whiskerThickness/2),u.lineTo(h.x3,h.y3-h.borderThickness/2),u.stroke()),u.beginPath(),$t(u,h.x1-h.borderThickness/2,Math.max(h.y2+h.borderThickness/2,h.y3+h.borderThickness/2),h.x2+h.borderThickness/2,Math.min(h.y2-h.borderThickness/2,h.y3-h.borderThickness/2),"transparent",h.borderThickness,h.color,!1,!1,!1,!1),u.globalAlpha=1,u.strokeStyle=h.whiskerColor,u.lineWidth=2*h.whiskerThickness,0<h.whiskerThickness&&(u.beginPath(),u.moveTo(Math.floor(h.x3-h.whiskerLength/2),h.y4),u.lineTo(Math.ceil(h.x3+h.whiskerLength/2),h.y4),u.stroke(),u.beginPath(),u.moveTo(Math.floor(h.x3-h.whiskerLength/2),h.y1),u.lineTo(Math.ceil(h.x3+h.whiskerLength/2),h.y1),u.stroke()),u.globalAlpha=1,u.strokeStyle=h.lineColor,u.lineWidth=2*h.lineThickness,0<h.lineThickness&&(u.beginPath(),u.moveTo(h.x1,h.y5),u.lineTo(h.x2,h.y5),u.stroke()),u.restore(),u.globalAlpha=1):"error"===o.type&&ie(u,h.x1,h.y1,h.x2,h.y2,"white",h.whiskerProperties,h.stemProperties,h.isXYSwapped,.3))}}u.restore(),u.globalAlpha=1,u.beginPath()},Ut.prototype.getToolTipInnerHTML=function(r){r=r.entries;var u=null,l=null,o=null,h=0,p="";this.isToolTipDefinedInData=!0;for(var m=0;m<r.length;m++)if(r[m].dataSeries.toolTipContent||r[m].dataPoint.toolTipContent){this.isToolTipDefinedInData=!1;break}if(this.isToolTipDefinedInData&&(this.content&&"function"==typeof this.content||this.contentFormatter))r={chart:this.chart,toolTip:this.options,entries:r},u=this.contentFormatter?this.contentFormatter(r):this.content(r);else if(this.shared&&"none"!==this.chart.plotInfo.axisPlacement){var _=null,w="";for(m=0;m<r.length;m++)l=r[m].dataSeries,o=r[m].dataPoint,h=r[m].index,p="",0===m&&this.isToolTipDefinedInData&&!this.content&&(this.chart.axisX&&0<this.chart.axisX.length?w+=void 0!==this.chart.axisX[0].labels[o.x]?this.chart.axisX[0].labels[o.x]:"{x}":this.chart.axisX2&&0<this.chart.axisX2.length&&(w+=void 0!==this.chart.axisX2[0].labels[o.x]?this.chart.axisX2[0].labels[o.x]:"{x}"),w=this.chart.replaceKeywordsWithValue(w+="</br>",o,l,h)),null===o.toolTipContent||void 0===o.toolTipContent&&null===l.options.toolTipContent||("line"===l.type||"stepLine"===l.type||"spline"===l.type||"area"===l.type||"stepArea"===l.type||"splineArea"===l.type||"column"===l.type||"bar"===l.type||"scatter"===l.type||"stackedColumn"===l.type||"stackedColumn100"===l.type||"stackedBar"===l.type||"stackedBar100"===l.type||"stackedArea"===l.type||"stackedArea100"===l.type||"waterfall"===l.type?(this.chart.axisX&&1<this.chart.axisX.length&&(p+=_!=l.axisXIndex?l.axisX.title?l.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),p+=o.toolTipContent?o.toolTipContent:l.toolTipContent?l.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span data-color='\""+(this.options.fontColor?"":"'{color}'")+"\"'>{name}:</span>&nbsp;&nbsp;{y}",_=l.axisXIndex):"bubble"===l.type?(this.chart.axisX&&1<this.chart.axisX.length&&(p+=_!=l.axisXIndex?l.axisX.title?l.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),p+=o.toolTipContent?o.toolTipContent:l.toolTipContent?l.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span data-color='\""+(this.options.fontColor?"":"'{color}'")+"\"'>{name}:</span>&nbsp;&nbsp;{y}, &nbsp;&nbsp;{z}"):"rangeColumn"===l.type||"rangeBar"===l.type||"rangeArea"===l.type||"rangeSplineArea"===l.type||"error"===l.type?(this.chart.axisX&&1<this.chart.axisX.length&&(p+=_!=l.axisXIndex?l.axisX.title?l.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),p+=o.toolTipContent?o.toolTipContent:l.toolTipContent?l.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span data-color='\""+(this.options.fontColor?"":"'{color}'")+"\"'>{name}:</span>&nbsp;&nbsp;{y[0]},&nbsp;{y[1]}"):"candlestick"===l.type||"ohlc"===l.type?(this.chart.axisX&&1<this.chart.axisX.length&&(p+=_!=l.axisXIndex?l.axisX.title?l.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),p+=o.toolTipContent?o.toolTipContent:l.toolTipContent?l.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span data-color='\""+(this.options.fontColor?"":"'{color}'")+"\"'>{name}:</span><br/>Open: &nbsp;&nbsp;{y[0]}<br/>High: &nbsp;&nbsp;&nbsp;{y[1]}<br/>Low:&nbsp;&nbsp;&nbsp;{y[2]}<br/>Close: &nbsp;&nbsp;{y[3]}"):"boxAndWhisker"===l.type&&(this.chart.axisX&&1<this.chart.axisX.length&&(p+=_!=l.axisXIndex?l.axisX.title?l.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),p+=o.toolTipContent?o.toolTipContent:l.toolTipContent?l.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span data-color='\""+(this.options.fontColor?"":"'{color}'")+"\"'>{name}:</span><br/>Minimum: &nbsp;&nbsp;{y[0]}<br/>Q1: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[1]}<br/>Q2: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[4]}<br/>Q3: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[2]}<br/>Maximum: &nbsp;{y[3]}"),null===u&&(u=""),!0===this.reversed?(u=this.chart.replaceKeywordsWithValue(p,o,l,h)+u,m<r.length-1&&(u="</br>"+u)):(u+=this.chart.replaceKeywordsWithValue(p,o,l,h),m<r.length-1&&(u+="</br>")));null!==u&&(u=w+u)}else{if(l=r[0].dataSeries,null===(o=r[0].dataPoint).toolTipContent||void 0===o.toolTipContent&&null===l.options.toolTipContent)return null;"line"===l.type||"stepLine"===l.type||"spline"===l.type||"area"===l.type||"stepArea"===l.type||"splineArea"===l.type||"column"===l.type||"bar"===l.type||"scatter"===l.type||"stackedColumn"===l.type||"stackedColumn100"===l.type||"stackedBar"===l.type||"stackedBar100"===l.type||"stackedArea"===l.type||"stackedArea100"===l.type||"waterfall"===l.type?p=o.toolTipContent?o.toolTipContent:l.toolTipContent?l.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span data-color='\""+(this.options.fontColor?"":"'{color}'")+"\"'>"+(o.label?"{label}":"{x}")+":</span>&nbsp;&nbsp;{y}":"bubble"===l.type?p=o.toolTipContent?o.toolTipContent:l.toolTipContent?l.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span data-color='\""+(this.options.fontColor?"":"'{color}'")+"\"'>"+(o.label?"{label}":"{x}")+":</span>&nbsp;&nbsp;{y}, &nbsp;&nbsp;{z}":"pie"===l.type||"doughnut"===l.type||"funnel"===l.type||"pyramid"===l.type?p=o.toolTipContent?o.toolTipContent:l.toolTipContent?l.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span data-color='\""+(this.options.fontColor?"":"'{color}'")+"\"'>"+(o.name?"{name}:</span>&nbsp;&nbsp;":o.label?"{label}:</span>&nbsp;&nbsp;":"</span>")+"{y}":"rangeColumn"===l.type||"rangeBar"===l.type||"rangeArea"===l.type||"rangeSplineArea"===l.type||"error"===l.type?p=o.toolTipContent?o.toolTipContent:l.toolTipContent?l.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span data-color='\""+(this.options.fontColor?"":"'{color}'")+"\"'>"+(o.label?"{label}":"{x}")+" :</span>&nbsp;&nbsp;{y[0]}, &nbsp;{y[1]}":"candlestick"===l.type||"ohlc"===l.type?p=o.toolTipContent?o.toolTipContent:l.toolTipContent?l.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span data-color='\""+(this.options.fontColor?"":"'{color}'")+"\"'>"+(o.label?"{label}":"{x}")+"</span><br/>Open: &nbsp;&nbsp;{y[0]}<br/>High: &nbsp;&nbsp;&nbsp;{y[1]}<br/>Low: &nbsp;&nbsp;&nbsp;&nbsp;{y[2]}<br/>Close: &nbsp;&nbsp;{y[3]}":"boxAndWhisker"===l.type&&(p=o.toolTipContent?o.toolTipContent:l.toolTipContent?l.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span data-color='\""+(this.options.fontColor?"":"'{color}'")+"\"'>"+(o.label?"{label}":"{x}")+"</span><br/>Minimum: &nbsp;&nbsp;{y[0]}<br/>Q1: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[1]}<br/>Q2: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[4]}<br/>Q3: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[2]}<br/>Maximum: &nbsp;{y[3]}"),null===u&&(u=""),u+=this.chart.replaceKeywordsWithValue(p,o,l,h=r[0].index)}return u},Ut.prototype.enableAnimation=function(){if(!this.container.style.WebkitTransition){var r=this.getContainerTransition(this.containerTransitionDuration);this.container.style.WebkitTransition=r,this.container.style.MsTransition=r,this.container.style.transition=r,this.container.style.MozTransition=this.mozContainerTransition}},Ut.prototype.disableAnimation=function(){this.container.style.WebkitTransition&&(this.container.style.WebkitTransition="",this.container.style.MozTransition="",this.container.style.MsTransition="",this.container.style.transition="")},Ut.prototype.hide=function(r){this.container&&(this.container.style.display="none",this.currentSeriesIndex=-1,this._prevY=this._prevX=NaN,(void 0===r||r)&&this.chart.resetOverlayedCanvas())},Ut.prototype.show=function(r,u,l){this._updateToolTip(r,u,void 0!==l&&l)},Ut.prototype.showAtIndex=function(r,u){},Ut.prototype.showAtX=function(r,u){if(!this.enabled)return!1;this.chart.clearedOverlayedCanvas=null;var l,o,h,p=[];if(h=!1,u=!j(u)&&0<=u&&u<this.chart.data.length?u:0,this.shared)for(var m=0;m<this.chart.data.length;m++)(o=(l=this.chart.data[m]).getDataPointAtX(r,!1))&&o.dataPoint&&!j(o.dataPoint.y)&&l.visible&&(o.dataSeries=l,p.push(o));else(o=(l=this.chart.data[u]).getDataPointAtX(r,!1))&&o.dataPoint&&!j(o.dataPoint.y)&&l.visible&&(o.dataSeries=l,p.push(o));if(!(0<p.length))return this.hide(),!1;for(m=0;m<p.length;m++){if(!((o=p[m]).dataPoint.x<o.dataSeries.axisX.viewportMinimum||o.dataPoint.x>o.dataSeries.axisX.viewportMaximum||o.dataPoint.y<o.dataSeries.axisY.viewportMinimum||o.dataPoint.y>o.dataSeries.axisY.viewportMaximum)){h=!1;break}h=!0}if(h)return this.hide(),!1;if(this.highlightObjects(p),this._entries=p,m="",null===(m=this.getToolTipInnerHTML({entries:p})))return this.hide(!1),!1;if(this.contentDiv.innerHTML=m,this.isToolTipDefinedInData&&j(this.options.content)&&j(this.options.contentFormatter))for(o=this.contentDiv.getElementsByTagName("span"),m=0;m<o.length;m++)o[m]&&(o[m].style.color=o[m].getAttribute("data-color"));m=!1,"none"===this.container.style.display&&(m=!0,this.container.style.display="block");try{this.contentDiv.style.background=this.backgroundColor?this.backgroundColor:Y?"rgba(255,255,255,.9)":"rgb(255,255,255)",this.borderColor=this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor="waterfall"===p[0].dataSeries.type?this.options.borderColor?this.options.borderColor:p[0].dataPoint.color?p[0].dataPoint.color:0<p[0].dataPoint.y?p[0].dataSeries.risingColor:p[0].dataSeries.fallingColor:"error"===p[0].dataSeries.type?this.options.borderColor?this.options.borderColor:p[0].dataSeries.color?p[0].dataSeries.color:p[0].dataSeries._colorSet[l.index%p[0].dataSeries._colorSet.length]:this.options.borderColor?this.options.borderColor:p[0].dataPoint.color?p[0].dataPoint.color:p[0].dataSeries.color?p[0].dataSeries.color:p[0].dataSeries._colorSet[p[0].index%p[0].dataSeries._colorSet.length],this.contentDiv.style.borderWidth=this.borderThickness||0===this.borderThickness?this.borderThickness+"px":"2px",this.contentDiv.style.borderRadius=this.cornerRadius||0===this.cornerRadius?this.cornerRadius+"px":"5px",this.container.style.borderRadius=this.contentDiv.style.borderRadius,this.contentDiv.style.fontSize=this.fontSize||0===this.fontSize?this.fontSize+"px":"14px",this.contentDiv.style.color=this.fontColor?this.fontColor:"#000000",this.contentDiv.style.fontFamily=this.fontFamily?this.fontFamily:"Calibri, Arial, Georgia, serif;",this.contentDiv.style.fontWeight=this.fontWeight?this.fontWeight:"normal",this.contentDiv.style.fontStyle=this.fontStyle?this.fontStyle:Y?"italic":"normal"}catch(_){}return"pie"===p[0].dataSeries.type||"doughnut"===p[0].dataSeries.type||"funnel"===p[0].dataSeries.type||"pyramid"===p[0].dataSeries.type?l=mouseX-10-this.container.clientWidth:(l="bar"===p[0].dataSeries.type||"rangeBar"===p[0].dataSeries.type||"stackedBar"===p[0].dataSeries.type||"stackedBar100"===p[0].dataSeries.type?p[0].dataSeries.axisY.convertValueToPixel(p[0].dataPoint.y)-this.container.clientWidth<<0:p[0].dataSeries.axisX.convertValueToPixel(p[0].dataPoint.x)-this.container.clientWidth<<0,l-=10),0>l&&(l+=this.container.clientWidth+20),l+this.container.clientWidth>Math.max(this.chart.container.clientWidth,this.chart.width)&&(l=Math.max(0,Math.max(this.chart.container.clientWidth,this.chart.width)-this.container.clientWidth)),0<(p=10-(p=!(1!==p.length||this.shared||"line"!==p[0].dataSeries.type&&"stepLine"!==p[0].dataSeries.type&&"spline"!==p[0].dataSeries.type&&"area"!==p[0].dataSeries.type&&"stepArea"!==p[0].dataSeries.type&&"splineArea"!==p[0].dataSeries.type)||"bar"!==p[0].dataSeries.type&&"rangeBar"!==p[0].dataSeries.type&&"stackedBar"!==p[0].dataSeries.type&&"stackedBar100"!==p[0].dataSeries.type?p[0].dataSeries.axisY.convertValueToPixel(p[0].dataPoint.y):p[0].dataSeries.axisX.convertValueToPixel(p[0].dataPoint.x)))+this.container.clientHeight+5&&(p-=p+this.container.clientHeight+5-0),this.fixMozTransitionDelay(l,p),!this.animationEnabled||m?this.disableAnimation():(this.enableAnimation(),this.container.style.MozTransition=this.mozContainerTransition),this.container.style.left=l+"px",this.container.style.bottom=p+"px",!0},Ut.prototype.fixMozTransitionDelay=function(r,u){if(20<this.chart._eventManager.lastObjectId)this.mozContainerTransition=this.getContainerTransition(0);else{var l=parseFloat(this.container.style.left),o=(l=isNaN(l)?0:l,parseFloat(this.container.style.bottom));o=isNaN(o)?0:o,this.mozContainerTransition=10<Math.sqrt(Math.pow(l-r,2)+Math.pow(o-u,2))?this.getContainerTransition(.1):this.getContainerTransition(0)}},Ut.prototype.getContainerTransition=function(r){return"left "+r+"s ease-out 0s, bottom "+r+"s ease-out 0s"},oi.prototype.reset=function(){this.lastObjectId=0,this.objectMap=[],this.rectangularRegionEventSubscriptions=[],this.previousDataPointEventObject=null,this.eventObjects=[],Y&&(this.ghostCtx.clearRect(0,0,this.chart.width,this.chart.height),this.ghostCtx.beginPath())},oi.prototype.getNewObjectTrackingId=function(){return++this.lastObjectId},oi.prototype.mouseEventHandler=function(r){if("mousemove"===r.type||"click"===r.type){var u=[],l=jo(r),o=null;if((o=this.chart.getObjectAtXY(l.x,l.y,!1))&&void 0!==this.objectMap[o])if("dataPoint"===(o=this.objectMap[o]).objectType){var h=this.chart.data[o.dataSeriesIndex],p=h.dataPoints[o.dataPointIndex],m=o.dataPointIndex;o.eventParameter={x:l.x,y:l.y,dataPoint:p,dataSeries:h.options,dataPointIndex:m,dataSeriesIndex:h.index,chart:this.chart},o.eventContext={context:p,userContext:p,mouseover:"mouseover",mousemove:"mousemove",mouseout:"mouseout",click:"click"},u.push(o),(o=this.objectMap[h.id]).eventParameter={x:l.x,y:l.y,dataPoint:p,dataSeries:h.options,dataPointIndex:m,dataSeriesIndex:h.index,chart:this.chart},o.eventContext={context:h,userContext:h.options,mouseover:"mouseover",mousemove:"mousemove",mouseout:"mouseout",click:"click"},u.push(this.objectMap[h.id])}else"legendItem"===o.objectType&&(o.eventParameter={x:l.x,y:l.y,dataSeries:(h=this.chart.data[o.dataSeriesIndex]).options,dataPoint:p=null!==o.dataPointIndex?h.dataPoints[o.dataPointIndex]:null,dataPointIndex:o.dataPointIndex,dataSeriesIndex:o.dataSeriesIndex,chart:this.chart},o.eventContext={context:this.chart.legend,userContext:this.chart.legend.options,mouseover:"itemmouseover",mousemove:"itemmousemove",mouseout:"itemmouseout",click:"itemclick"},u.push(o));for(h=[],l=0;l<this.mouseoveredObjectMaps.length;l++){for(p=!0,o=0;o<u.length;o++)if(u[o].id===this.mouseoveredObjectMaps[l].id){p=!1;break}p?this.fireEvent(this.mouseoveredObjectMaps[l],"mouseout",r):h.push(this.mouseoveredObjectMaps[l])}for(this.mouseoveredObjectMaps=h,l=0;l<u.length;l++){for(h=!1,o=0;o<this.mouseoveredObjectMaps.length;o++)if(u[l].id===this.mouseoveredObjectMaps[o].id){h=!0;break}h||(this.fireEvent(u[l],"mouseover",r),this.mouseoveredObjectMaps.push(u[l])),"click"===r.type?this.fireEvent(u[l],"click",r):"mousemove"===r.type&&this.fireEvent(u[l],"mousemove",r)}}},oi.prototype.fireEvent=function(r,u,l){if(r&&u){var o=r.eventParameter,h=r.eventContext,p=r.eventContext.userContext;p&&h&&p[h[u]]&&p[h[u]].call(p,o),"mouseout"!==u?p.cursor&&p.cursor!==l.target.style.cursor&&(l.target.style.cursor=p.cursor):(l.target.style.cursor=this.chart._defaultCursor,delete r.eventParameter,delete r.eventContext),"click"===u&&"dataPoint"===r.objectType&&this.chart.pieDoughnutClickHandler&&this.chart.pieDoughnutClickHandler.call(this.chart.data[r.dataSeriesIndex],o),"click"===u&&"dataPoint"===r.objectType&&this.chart.funnelPyramidClickHandler&&this.chart.funnelPyramidClickHandler.call(this.chart.data[r.dataSeriesIndex],o)}},_t.prototype.animate=function(r,u,l,o,h){var p=this;for(this.chart.isAnimating=!0,h=h||Se.easing.linear,l&&this.animations.push({startTime:(new Date).getTime()+(r||0),duration:u,animationCallback:l,onComplete:o}),r=[];0<this.animations.length;)u=this.animations.shift(),l=(new Date).getTime(),o=0,u.startTime<=l&&(o=h(Math.min(l-u.startTime,u.duration),0,1,u.duration),o=Math.min(o,1),isNaN(o)||!isFinite(o))&&(o=1),1>o&&r.push(u),u.animationCallback(o),1<=o&&u.onComplete&&u.onComplete();this.animations=r,0<this.animations.length?this.animationRequestId=this.chart.requestAnimFrame.call(window,function(){p.animate.call(p)}):this.chart.isAnimating=!1},_t.prototype.cancelAllAnimations=function(){this.animations=[],this.animationRequestId&&this.chart.cancelRequestAnimFrame.call(window,this.animationRequestId),this.animationRequestId=null,this.chart.isAnimating=!1};var Se={yScaleAnimation:function(r,u){if(0!==r){var l=u.dest,o=u.source.canvas,h=u.animationBase;l.drawImage(o,0,0,o.width,o.height,0,h-h*r,l.canvas.width/mi,r*l.canvas.height/mi)}},xScaleAnimation:function(r,u){if(0!==r){var l=u.dest,o=u.source.canvas,h=u.animationBase;l.drawImage(o,0,0,o.width,o.height,h-h*r,0,r*l.canvas.width/mi,l.canvas.height/mi)}},xClipAnimation:function(r,u){if(0!==r){var l=u.dest,o=u.source.canvas;l.save(),0<r&&l.drawImage(o,0,0,o.width*r,o.height,0,0,o.width*r/mi,o.height/mi),l.restore()}},fadeInAnimation:function(r,u){if(0!==r){var l=u.dest,o=u.source.canvas;l.save(),l.globalAlpha=r,l.drawImage(o,0,0,o.width,o.height,0,0,l.canvas.width/mi,l.canvas.height/mi),l.restore()}},easing:{linear:function(r,u,l,o){return l*r/o+u},easeOutQuad:function(r,u,l,o){return-l*(r/=o)*(r-2)+u},easeOutQuart:function(r,u,l,o){return-l*((r=r/o-1)*r*r*r-1)+u},easeInQuad:function(r,u,l,o){return l*(r/=o)*r+u},easeInQuart:function(r,u,l,o){return l*(r/=o)*r*r*r+u}}},Lt={drawMarker:function(r,u,l,o,h,p,m,_){if(l){var w=1;l.fillStyle=p||"#000000",l.strokeStyle=m||"#000000",l.lineWidth=_||0,l.setLineDash&&l.setLineDash(Ke("solid",_)),"circle"===o?(l.moveTo(r,u),l.beginPath(),l.arc(r,u,h/2,0,2*Math.PI,!1),p&&l.fill(),_&&(m?l.stroke():(w=l.globalAlpha,l.globalAlpha=.15,l.strokeStyle="black",l.stroke(),l.globalAlpha=w))):"square"===o?(l.beginPath(),l.rect(r-h/2,u-h/2,h,h),p&&l.fill(),_&&(m?l.stroke():(w=l.globalAlpha,l.globalAlpha=.15,l.strokeStyle="black",l.stroke(),l.globalAlpha=w))):"triangle"===o?(l.beginPath(),l.moveTo(r-h/2,u+h/2),l.lineTo(r+h/2,u+h/2),l.lineTo(r,u-h/2),l.closePath(),p&&l.fill(),_&&(m?l.stroke():(w=l.globalAlpha,l.globalAlpha=.15,l.strokeStyle="black",l.stroke(),l.globalAlpha=w)),l.beginPath()):"cross"===o&&(l.strokeStyle=p,l.lineWidth=h/4,l.beginPath(),l.moveTo(r-h/2,u-h/2),l.lineTo(r+h/2,u+h/2),l.stroke(),l.moveTo(r+h/2,u-h/2),l.lineTo(r-h/2,u+h/2),l.stroke())}},drawMarkers:function(r){for(var u=0;u<r.length;u++){var l=r[u];Lt.drawMarker(l.x,l.y,l.ctx,l.type,l.size,l.color,l.borderColor,l.borderThickness)}}};return k}(),L.version="v3.6.6 GA",window.CanvasJS&&L&&!window.CanvasJS.Chart&&(window.CanvasJS.Chart=L)})(),document.createElement("canvas").getContext||function(){function fi(){return this.context_||(this.context_=new Ke(this))}function _s(L){return String(L).replace(/&/g,"&amp;").replace(/"/g,"&quot;")}function Ft(L){L.namespaces.g_vml_||L.namespaces.add("g_vml_","urn:schemas-microsoft-com:vml","#default#VML"),L.namespaces.g_o_||L.namespaces.add("g_o_","urn:schemas-microsoft-com:office:office","#default#VML"),L.styleSheets.ex_canvas_||((L=L.createStyleSheet()).owningElement.id="ex_canvas_",L.cssText="canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}")}function ts(L){var Q=L.srcElement;switch(L.propertyName){case"width":Q.getContext().clearRect(),Q.style.width=Q.attributes.width.nodeValue+"px",Q.firstChild.style.width=Q.clientWidth+"px";break;case"height":Q.getContext().clearRect(),Q.style.height=Q.attributes.height.nodeValue+"px",Q.firstChild.style.height=Q.clientHeight+"px"}}function Bn(L){(L=L.srcElement).firstChild&&(L.firstChild.style.width=L.clientWidth+"px",L.firstChild.style.height=L.clientHeight+"px")}function Ge(L,Q){for(var re=[[1,0,0],[0,1,0],[0,0,1]],te=0;3>te;te++)for(var fe=0;3>fe;fe++){for(var me=0,He=0;3>He;He++)me+=L[te][He]*Q[He][fe];re[te][fe]=me}return re}function Cs(L,Q){Q.fillStyle=L.fillStyle,Q.lineCap=L.lineCap,Q.lineJoin=L.lineJoin,Q.lineWidth=L.lineWidth,Q.miterLimit=L.miterLimit,Q.shadowBlur=L.shadowBlur,Q.shadowColor=L.shadowColor,Q.shadowOffsetX=L.shadowOffsetX,Q.shadowOffsetY=L.shadowOffsetY,Q.strokeStyle=L.strokeStyle,Q.globalAlpha=L.globalAlpha,Q.font=L.font,Q.textAlign=L.textAlign,Q.textBaseline=L.textBaseline,Q.arcScaleX_=L.arcScaleX_,Q.arcScaleY_=L.arcScaleY_,Q.lineScale_=L.lineScale_}function j(L){var re=L.indexOf("(",3),Q=L.indexOf(")",re+1);return(4!=(re=L.substring(re+1,Q).split(",")).length||"a"!=L.charAt(3))&&(re[3]=1),re}function cn(L,Q,re){return Math.min(re,Math.max(Q,L))}function hr(L,Q,re){return 0>re&&re++,1<re&&re--,1>6*re?L+6*(Q-L)*re:1>2*re?Q:2>3*re?L+6*(Q-L)*(2/3-re):L}function Ws(L){if(L in St)return St[L];var Q,re=1;if("#"==(L=String(L)).charAt(0))Q=L;else if(/^rgb/.test(L)){re=j(L),Q="#";for(var te,fe=0;3>fe;fe++)te=-1!=re[fe].indexOf("%")?Math.floor(parseFloat(re[fe])/100*255):+re[fe],Q+=Mn[cn(te,0,255)];re=+re[3]}else if(/^hsl/.test(L)){if(fe=re=j(L),0>(Q=parseFloat(fe[0])/360%360)&&Q++,te=cn(parseFloat(fe[1])/100,0,1),fe=cn(parseFloat(fe[2])/100,0,1),0==te)te=fe=Q=fe;else{var me=.5>fe?fe*(1+te):fe+te-fe*te,He=2*fe-me;te=hr(He,me,Q+1/3),fe=hr(He,me,Q),Q=hr(He,me,Q-1/3)}Q="#"+Mn[Math.floor(255*te)]+Mn[Math.floor(255*fe)]+Mn[Math.floor(255*Q)],re=re[3]}else Q=Ms[L]||L;return St[L]={color:Q,alpha:re}}function Ke(L){this.m_=[[1,0,0],[0,1,0],[0,0,1]],this.mStack_=[],this.aStack_=[],this.currentPath_=[],this.fillStyle=this.strokeStyle="#000",this.lineWidth=1,this.lineJoin="miter",this.lineCap="butt",this.miterLimit=1*Ze,this.globalAlpha=1,this.font="10px sans-serif",this.textAlign="left",this.textBaseline="alphabetic",this.canvas=L;var Q="width:"+L.clientWidth+"px;height:"+L.clientHeight+"px;overflow:hidden;position:absolute",re=L.ownerDocument.createElement("div");re.style.cssText=Q,L.appendChild(re),(Q=re.cloneNode(!1)).style.backgroundColor="red",Q.style.filter="alpha(opacity=0)",L.appendChild(Q),this.element_=re,this.lineScale_=this.arcScaleY_=this.arcScaleX_=1}function pt(L,Q,re,te){L.currentPath_.push({type:"bezierCurveTo",cp1x:Q.x,cp1y:Q.y,cp2x:re.x,cp2y:re.y,x:te.x,y:te.y}),L.currentX_=te.x,L.currentY_=te.y}function Cn(L,Q){var re=(te=Ws(L.strokeStyle)).color,te=te.alpha*L.globalAlpha,fe=L.lineScale_*L.lineWidth;1>fe&&(te*=fe),Q.push("<g_vml_:stroke",' opacity="',te,'"',' joinstyle="',L.lineJoin,'"',' miterlimit="',L.miterLimit,'"',' endcap="',Gi[L.lineCap]||"square",'"',' weight="',fe,'px"',' color="',re,'" />')}function ns(L,Q,re,te){var fe=L.fillStyle,me=L.arcScaleX_,He=L.arcScaleY_,ft=te.x-re.x,Qt=te.y-re.y;if(fe instanceof ws){var lt=0,Qe=te=0,Te=0,jt=1;if("gradient"==fe.type_){lt=fe.x1_/me,re=fe.y1_/He;var Je=Ct(L,fe.x0_/me,fe.y0_/He);lt=Ct(L,lt,re),0>(lt=180*Math.atan2(lt.x-Je.x,lt.y-Je.y)/Math.PI)&&(lt+=360),1e-6>lt&&(lt=0)}else te=((Je=Ct(L,fe.x0_,fe.y0_)).x-re.x)/ft,Qe=(Je.y-re.y)/Qt,jt=Kt.max(ft/=me*Ze,Qt/=He*Ze),jt=2*fe.r1_/jt-(Te=2*fe.r0_/jt);(me=fe.colors_).sort(function(Ni,rl){return Ni.offset-rl.offset}),Je=me[0].color,re=me[(He=me.length)-1].color,ft=me[0].alpha*L.globalAlpha,L=me[He-1].alpha*L.globalAlpha,Qt=[];for(var ss=0;ss<He;ss++){var Wn=me[ss];Qt.push(Wn.offset*jt+Te+" "+Wn.color)}Q.push('<g_vml_:fill type="',fe.type_,'"',' method="none" focus="100%"',' color="',Je,'"',' color2="',re,'"',' colors="',Qt.join(","),'"',' opacity="',L,'"',' g_o_:opacity2="',ft,'"',' angle="',lt,'"',' focusposition="',te,",",Qe,'" />')}else fe instanceof gi?ft&&Qt&&Q.push("<g_vml_:fill",' position="',-re.x/ft*me*me,",",-re.y/Qt*He*He,'"',' type="tile"',' src="',fe.src_,'" />'):(fe=Ws(L.fillStyle),Q.push('<g_vml_:fill color="',fe.color,'" opacity="',fe.alpha*L.globalAlpha,'" />'))}function Ct(L,Q,re){return{x:Ze*(Q*(L=L.m_)[0][0]+re*L[1][0]+L[2][0])-Nn,y:Ze*(Q*L[0][1]+re*L[1][1]+L[2][1])-Nn}}function rn(L,Q,re){isFinite(Q[0][0])&&isFinite(Q[0][1])&&isFinite(Q[1][0])&&isFinite(Q[1][1])&&isFinite(Q[2][0])&&isFinite(Q[2][1])&&(L.m_=Q,re&&(L.lineScale_=wn(Ot(Q[0][0]*Q[1][1]-Q[0][1]*Q[1][0]))))}function ws(L){this.type_=L,this.r1_=this.y1_=this.x1_=this.r0_=this.y0_=this.x0_=0,this.colors_=[]}function gi(L,Q){if(!L||1!=L.nodeType||"IMG"!=L.tagName)throw new Tt("TYPE_MISMATCH_ERR");if("complete"!=L.readyState)throw new Tt("INVALID_STATE_ERR");switch(Q){case"repeat":case null:case"":this.repetition_="repeat";break;case"repeat-x":case"repeat-y":case"no-repeat":this.repetition_=Q;break;default:throw new Tt("SYNTAX_ERR")}this.src_=L.src,this.width_=L.width,this.height_=L.height}function Tt(L){this.code=this[L],this.message=L+": DOM Exception "+this.code}var Kt=Math,Pt=Kt.round,Li=Kt.sin,Rn=Kt.cos,Ot=Kt.abs,wn=Kt.sqrt,Ze=10,Nn=Ze/2;navigator.userAgent.match(/MSIE ([\d.]+)?/);var dn=Array.prototype.slice;Ft(document);var Nt={init:function(L){(L=L||document).createElement("canvas"),L.attachEvent("onreadystatechange",function lr(L,Q,re){var te=dn.call(arguments,2);return function(){return L.apply(Q,te.concat(dn.call(arguments)))}}(this.init_,this,L))},init_:function(L){L=L.getElementsByTagName("canvas");for(var Q=0;Q<L.length;Q++)this.initElement(L[Q])},initElement:function(L){if(!L.getContext){L.getContext=fi,Ft(L.ownerDocument),L.innerHTML="",L.attachEvent("onpropertychange",ts),L.attachEvent("onresize",Bn);var Q=L.attributes;Q.width&&Q.width.specified?L.style.width=Q.width.nodeValue+"px":L.width=L.clientWidth,Q.height&&Q.height.specified?L.style.height=Q.height.nodeValue+"px":L.height=L.clientHeight}return L}};Nt.init();for(var Mn=[],Re=0;16>Re;Re++)for(var Tn=0;16>Tn;Tn++)Mn[16*Re+Tn]=Re.toString(16)+Tn.toString(16);var Ms={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",grey:"#808080",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",oldlace:"#FDF5E6",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",whitesmoke:"#F5F5F5",yellowgreen:"#9ACD32"},St={},Y={},Gi={butt:"flat",round:"round"};(Re=Ke.prototype).clearRect=function(){this.textMeasureEl_&&(this.textMeasureEl_.removeNode(!0),this.textMeasureEl_=null),this.element_.innerHTML=""},Re.beginPath=function(){this.currentPath_=[]},Re.moveTo=function(L,Q){var re=Ct(this,L,Q);this.currentPath_.push({type:"moveTo",x:re.x,y:re.y}),this.currentX_=re.x,this.currentY_=re.y},Re.lineTo=function(L,Q){var re=Ct(this,L,Q);this.currentPath_.push({type:"lineTo",x:re.x,y:re.y}),this.currentX_=re.x,this.currentY_=re.y},Re.bezierCurveTo=function(L,Q,re,te,fe,me){fe=Ct(this,fe,me),pt(this,L=Ct(this,L,Q),re=Ct(this,re,te),fe)},Re.quadraticCurveTo=function(L,Q,re,te){L=Ct(this,L,Q),re=Ct(this,re,te),pt(this,te={x:this.currentX_+2/3*(L.x-this.currentX_),y:this.currentY_+2/3*(L.y-this.currentY_)},{x:te.x+(re.x-this.currentX_)/3,y:te.y+(re.y-this.currentY_)/3},re)},Re.arc=function(L,Q,re,te,fe,me){re*=Ze;var He=me?"at":"wa",ft=L+Rn(te)*re-Nn,Qt=Q+Li(te)*re-Nn;te=L+Rn(fe)*re-Nn,fe=Q+Li(fe)*re-Nn,ft!=te||me||(ft+=.125),L=Ct(this,L,Q),ft=Ct(this,ft,Qt),te=Ct(this,te,fe),this.currentPath_.push({type:He,x:L.x,y:L.y,radius:re,xStart:ft.x,yStart:ft.y,xEnd:te.x,yEnd:te.y})},Re.rect=function(L,Q,re,te){this.moveTo(L,Q),this.lineTo(L+re,Q),this.lineTo(L+re,Q+te),this.lineTo(L,Q+te),this.closePath()},Re.strokeRect=function(L,Q,re,te){var fe=this.currentPath_;this.beginPath(),this.moveTo(L,Q),this.lineTo(L+re,Q),this.lineTo(L+re,Q+te),this.lineTo(L,Q+te),this.closePath(),this.stroke(),this.currentPath_=fe},Re.fillRect=function(L,Q,re,te){var fe=this.currentPath_;this.beginPath(),this.moveTo(L,Q),this.lineTo(L+re,Q),this.lineTo(L+re,Q+te),this.lineTo(L,Q+te),this.closePath(),this.fill(),this.currentPath_=fe},Re.createLinearGradient=function(L,Q,re,te){var fe=new ws("gradient");return fe.x0_=L,fe.y0_=Q,fe.x1_=re,fe.y1_=te,fe},Re.createRadialGradient=function(L,Q,re,te,fe,me){var He=new ws("gradientradial");return He.x0_=L,He.y0_=Q,He.r0_=re,He.x1_=te,He.y1_=fe,He.r1_=me,He},Re.drawImage=function(L,Q){var re,te,fe,me,He,ft,Qt,lt;fe=L.runtimeStyle.width,me=L.runtimeStyle.height,L.runtimeStyle.width="auto",L.runtimeStyle.height="auto";var Qe=L.width,Te=L.height;if(L.runtimeStyle.width=fe,L.runtimeStyle.height=me,3==arguments.length)re=arguments[1],te=arguments[2],He=ft=0,Qt=fe=Qe,lt=me=Te;else if(5==arguments.length)re=arguments[1],te=arguments[2],fe=arguments[3],me=arguments[4],He=ft=0,Qt=Qe,lt=Te;else{if(9!=arguments.length)throw Error("Invalid number of arguments");He=arguments[1],ft=arguments[2],Qt=arguments[3],lt=arguments[4],re=arguments[5],te=arguments[6],fe=arguments[7],me=arguments[8]}var jt=Ct(this,re,te),Je=[];if(Je.push(" <g_vml_:group",' coordsize="',10*Ze,",",10*Ze,'"',' coordorigin="0,0"',' style="width:',10,"px;height:",10,"px;position:absolute;"),1!=this.m_[0][0]||this.m_[0][1]||1!=this.m_[1][1]||this.m_[1][0]){var ss=[];ss.push("M11=",this.m_[0][0],",","M12=",this.m_[1][0],",","M21=",this.m_[0][1],",","M22=",this.m_[1][1],",","Dx=",Pt(jt.x/Ze),",","Dy=",Pt(jt.y/Ze),"");var Wn=Ct(this,re+fe,te),Ni=Ct(this,re,te+me);re=Ct(this,re+fe,te+me),jt.x=Kt.max(jt.x,Wn.x,Ni.x,re.x),jt.y=Kt.max(jt.y,Wn.y,Ni.y,re.y),Je.push("padding:0 ",Pt(jt.x/Ze),"px ",Pt(jt.y/Ze),"px 0;filter:progid:DXImageTransform.Microsoft.Matrix(",ss.join(""),", sizingmethod='clip');")}else Je.push("top:",Pt(jt.y/Ze),"px;left:",Pt(jt.x/Ze),"px;");Je.push(' ">','<g_vml_:image src="',L.src,'"',' style="width:',Ze*fe,"px;"," height:",Ze*me,'px"',' cropleft="',He/Qe,'"',' croptop="',ft/Te,'"',' cropright="',(Qe-He-Qt)/Qe,'"',' cropbottom="',(Te-ft-lt)/Te,'"'," />","</g_vml_:group>"),this.element_.insertAdjacentHTML("BeforeEnd",Je.join(""))},Re.stroke=function(L){var Q=[];Q.push("<g_vml_:shape",' filled="',!!L,'"',' style="position:absolute;width:',10,"px;height:",10,'px;"',' coordorigin="0,0"',' coordsize="',10*Ze,",",10*Ze,'"',' stroked="',!L,'"',' path="');for(var re={x:null,y:null},te={x:null,y:null},fe=0;fe<this.currentPath_.length;fe++){var me=this.currentPath_[fe];switch(me.type){case"moveTo":Q.push(" m ",Pt(me.x),",",Pt(me.y));break;case"lineTo":Q.push(" l ",Pt(me.x),",",Pt(me.y));break;case"close":Q.push(" x "),me=null;break;case"bezierCurveTo":Q.push(" c ",Pt(me.cp1x),",",Pt(me.cp1y),",",Pt(me.cp2x),",",Pt(me.cp2y),",",Pt(me.x),",",Pt(me.y));break;case"at":case"wa":Q.push(" ",me.type," ",Pt(me.x-this.arcScaleX_*me.radius),",",Pt(me.y-this.arcScaleY_*me.radius)," ",Pt(me.x+this.arcScaleX_*me.radius),",",Pt(me.y+this.arcScaleY_*me.radius)," ",Pt(me.xStart),",",Pt(me.yStart)," ",Pt(me.xEnd),",",Pt(me.yEnd))}me&&((null==re.x||me.x<re.x)&&(re.x=me.x),(null==te.x||me.x>te.x)&&(te.x=me.x),(null==re.y||me.y<re.y)&&(re.y=me.y),(null==te.y||me.y>te.y)&&(te.y=me.y))}Q.push(' ">'),L?ns(this,Q,re,te):Cn(this,Q),Q.push("</g_vml_:shape>"),this.element_.insertAdjacentHTML("beforeEnd",Q.join(""))},Re.fill=function(){this.stroke(!0)},Re.closePath=function(){this.currentPath_.push({type:"close"})},Re.save=function(){var L={};Cs(this,L),this.aStack_.push(L),this.mStack_.push(this.m_),this.m_=Ge([[1,0,0],[0,1,0],[0,0,1]],this.m_)},Re.restore=function(){this.aStack_.length&&(Cs(this.aStack_.pop(),this),this.m_=this.mStack_.pop())},Re.translate=function(L,Q){rn(this,Ge([[1,0,0],[0,1,0],[L,Q,1]],this.m_),!1)},Re.rotate=function(L){var Q=Rn(L);rn(this,Ge([[Q,L=Li(L),0],[-L,Q,0],[0,0,1]],this.m_),!1)},Re.scale=function(L,Q){this.arcScaleX_*=L,this.arcScaleY_*=Q,rn(this,Ge([[L,0,0],[0,Q,0],[0,0,1]],this.m_),!0)},Re.transform=function(L,Q,re,te,fe,me){rn(this,Ge([[L,Q,0],[re,te,0],[fe,me,1]],this.m_),!0)},Re.setTransform=function(L,Q,re,te,fe,me){rn(this,[[L,Q,0],[re,te,0],[fe,me,1]],!0)},Re.drawText_=function(L,Q,re,te,fe){var me=this.m_;te=0;var lt,He=1e3,ft=0,Qt=[];if(Y[lt=this.font])lt=Y[lt];else{var Qe=document.createElement("div").style;try{Qe.font=lt}catch(ss){}lt=Y[lt]={style:Qe.fontStyle||"normal",variant:Qe.fontVariant||"normal",weight:Qe.fontWeight||"normal",size:Qe.fontSize||10,family:Qe.fontFamily||"sans-serif"}}Qe=lt;var Te=this.element_;for(var jt in lt={},Qe)lt[jt]=Qe[jt];switch(jt=parseFloat(Te.currentStyle.fontSize),Te=parseFloat(Qe.size),lt.size="number"==typeof Qe.size?Qe.size:-1!=Qe.size.indexOf("px")?Te:-1!=Qe.size.indexOf("em")?jt*Te:-1!=Qe.size.indexOf("%")?jt/100*Te:-1!=Qe.size.indexOf("pt")?Te/.75:jt,lt.size*=.981,jt=lt.style+" "+lt.variant+" "+lt.weight+" "+lt.size+"px "+lt.family,Te=this.element_.currentStyle,Qe=this.textAlign.toLowerCase()){case"left":case"center":case"right":break;case"end":Qe="ltr"==Te.direction?"right":"left";break;case"start":Qe="rtl"==Te.direction?"right":"left";break;default:Qe="left"}switch(this.textBaseline){case"hanging":case"top":ft=lt.size/1.75;break;case"middle":break;default:ft=-lt.size/2.25}switch(Qe){case"right":te=1e3,He=.05;break;case"center":te=He=500}Q=Ct(this,Q+0,re+ft),Qt.push('<g_vml_:line from="',-te,' 0" to="',He,' 0.05" ',' coordsize="100 100" coordorigin="0 0"',' filled="',!fe,'" stroked="',!!fe,'" style="position:absolute;width:1px;height:1px;">'),fe?Cn(this,Qt):ns(this,Qt,{x:-te,y:0},{x:He,y:lt.size}),fe=me[0][0].toFixed(3)+","+me[1][0].toFixed(3)+","+me[0][1].toFixed(3)+","+me[1][1].toFixed(3)+",0,0",Q=Pt(Q.x/Ze)+","+Pt(Q.y/Ze),Qt.push('<g_vml_:skew on="t" matrix="',fe,'" ',' offset="',Q,'" origin="',te,' 0" />','<g_vml_:path textpathok="true" />','<g_vml_:textpath on="true" string="',_s(L),'" style="v-text-align:',Qe,";font:",_s(jt),'" /></g_vml_:line>'),this.element_.insertAdjacentHTML("beforeEnd",Qt.join(""))},Re.fillText=function(L,Q,re,te){this.drawText_(L,Q,re,te,!1)},Re.strokeText=function(L,Q,re,te){this.drawText_(L,Q,re,te,!0)},Re.measureText=function(L){this.textMeasureEl_||(this.element_.insertAdjacentHTML("beforeEnd",'<span style="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;"></span>'),this.textMeasureEl_=this.element_.lastChild);var Q=this.element_.ownerDocument;return this.textMeasureEl_.innerHTML="",this.textMeasureEl_.style.font=this.font,this.textMeasureEl_.appendChild(Q.createTextNode(L)),{width:this.textMeasureEl_.offsetWidth}},Re.clip=function(){},Re.arcTo=function(){},Re.createPattern=function(L,Q){return new gi(L,Q)},ws.prototype.addColorStop=function(L,Q){Q=Ws(Q),this.colors_.push({offset:L,color:Q.color,alpha:Q.alpha})},(Re=Tt.prototype=Error()).INDEX_SIZE_ERR=1,Re.DOMSTRING_SIZE_ERR=2,Re.HIERARCHY_REQUEST_ERR=3,Re.WRONG_DOCUMENT_ERR=4,Re.INVALID_CHARACTER_ERR=5,Re.NO_DATA_ALLOWED_ERR=6,Re.NO_MODIFICATION_ALLOWED_ERR=7,Re.NOT_FOUND_ERR=8,Re.NOT_SUPPORTED_ERR=9,Re.INUSE_ATTRIBUTE_ERR=10,Re.INVALID_STATE_ERR=11,Re.SYNTAX_ERR=12,Re.INVALID_MODIFICATION_ERR=13,Re.NAMESPACE_ERR=14,Re.INVALID_ACCESS_ERR=15,Re.VALIDATION_ERR=16,Re.TYPE_MISMATCH_ERR=17,G_vmlCanvasManager=Nt,CanvasRenderingContext2D=Ke,CanvasGradient=ws,CanvasPattern=gi,DOMException=Tt}()}},ar=>{ar(ar.s=597)}]);